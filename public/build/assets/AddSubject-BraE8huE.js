import{n as f,i as y,c as r,a as c,u as v,h,w as m,b as e,k as p,o,F as i,r as b,t as n,p as k,q as j,f as g,s as S,m as w}from"./app-D9idW1_W.js";import{_ as C}from"./AuthenticatedLayout-BtLoqiTQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},I={class:"space-y-4 text-xs text-gray-700"},V={class:"grid gap-3 md:grid-cols-2"},B=["value"],$={class:"flex items-center gap-2 pt-5 md:pt-0"},N={class:"flex flex-wrap gap-2"},z=["value","checked","onChange"],D={class:"mt-4 flex justify-end gap-2"},E=["disabled"],F=["disabled"],M={key:0},U={key:1},G={__name:"AddSubject",props:{subjects:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]}},setup(u){const a=f({class_id:"",subject_ids:[],assign_to_current_user:!1}),l=y(!1),x=d=>{const s=a.subject_ids.indexOf(d);s===-1?a.subject_ids.push(d):a.subject_ids.splice(s,1)},_=()=>{l.value||(l.value=!0,w.post(route("subjects.import"),{class_id:a.class_id,subject_ids:a.subject_ids,assign_to_current_user:a.assign_to_current_user},{preserveScroll:!0,onSuccess:()=>{l.value=!1},onError:()=>{l.value=!1}}))};return(d,s)=>(o(),r(i,null,[c(v(h),{title:"Import Subjects"}),c(C,null,{header:m(()=>[...s[3]||(s[3]=[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Import Subjects "),e("p",{class:"mt-1 text-sm text-gray-500"}," Select a class and import subjects from the pre-defined list for this school and user. ")])],-1)])]),default:m(()=>[e("div",A,[e("div",I,[e("div",V,[e("div",null,[s[5]||(s[5]=e("label",{class:"mb-1 block font-medium"},"Select Class",-1)),p(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.class_id=t),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[s[4]||(s[4]=e("option",{value:"",disabled:""},"Select class...",-1)),(o(!0),r(i,null,b(u.classes,t=>(o(),r("option",{key:t.id,value:t.id},n(t.name),9,B))),128))],512),[[k,a.class_id]])]),e("div",$,[p(e("input",{id:"assign_to_me_import","onUpdate:modelValue":s[1]||(s[1]=t=>a.assign_to_current_user=t),type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[j,a.assign_to_current_user]]),s[6]||(s[6]=e("label",{for:"assign_to_me_import",class:"text-[11px] text-gray-600"}," Also assign selected subjects to me as a teacher. ",-1))])]),e("div",null,[s[7]||(s[7]=e("p",{class:"mb-1 text-[11px] font-medium text-gray-700"},"Add Subject(s) from the list below",-1)),s[8]||(s[8]=e("p",{class:"mb-2 text-[11px] text-gray-500"},[g(" Chagua masomo unayotaka kuyaleta kwa hili darasa kisha bonyeza "),e("span",{class:"font-semibold"},"Import Selected"),g(" chini. ")],-1)),e("div",N,[(o(!0),r(i,null,b(u.subjects,t=>(o(),r("label",{key:t.id,class:S(["inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] font-medium",a.subject_ids.includes(t.id)?"border-emerald-500 bg-emerald-50 text-emerald-800":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50"])},[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",value:t.id,checked:a.subject_ids.includes(t.id),onChange:q=>x(t.id)},null,40,z),e("span",null,n(t.subject_code)+" - "+n(t.name),1)],2))),128))])]),e("div",D,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:s[2]||(s[2]=t=>d.$inertia.visit(d.route("subjects.index"))),disabled:l.value}," Back to Subjects ",8,E),e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:!a.class_id||!a.subject_ids.length||l.value,onClick:_},[l.value?(o(),r("span",U,"Importing...")):(o(),r("span",M,"Import Selected"))],8,F)])])])]),_:1})],64))}};export{G as default};

import{y as h,c as a,a as c,u as o,h as w,w as m,b as e,x as _,k as u,v as x,p as k,t as d,o as r,F as p,r as A,f,m as C}from"./app-uKkBaC-C.js";import{_ as V}from"./AuthenticatedLayout-CVtEkm0p.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"space-y-4"},M={class:"grid gap-4 lg:grid-cols-3"},N={class:"lg:col-span-1 rounded-xl bg-white p-5 text-xs text-gray-700 shadow-sm ring-1 ring-gray-100"},S={class:"flex items-center justify-end"},$=["disabled"],j={class:"lg:col-span-2 rounded-xl bg-white p-5 text-xs text-gray-700 shadow-sm ring-1 ring-gray-100"},F={class:"mb-3 flex items-center justify-between"},T={class:"text-sm font-semibold text-gray-800"},U={key:0,class:"text-[11px] text-gray-500"},B={key:1,class:"space-y-1 text-[11px] max-h-80 overflow-auto pr-1"},E={class:"flex-1"},P=["onClick"],L={class:"mt-0.5 text-[10px] text-gray-500"},G={class:"font-medium text-gray-700"},R={class:"mt-0.5 line-clamp-2 text-[10px] text-gray-600"},W=["onClick"],I={__name:"Announcements",props:{announcements:{type:Array,default:()=>[]}},setup(i){const s=h({title:"",body:"",audience:"all"}),b=()=>{s.post(route("announcements.store"))},g=l=>{confirm("Delete this announcement?")&&C.delete(route("announcements.destroy",l))},y=l=>{alert(`${l.title}

${l.body}`)};return(l,t)=>(r(),a(p,null,[c(o(w),{title:"Announcements"}),c(V,null,{header:m(()=>[...t[3]||(t[3]=[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Announcements "),e("p",{class:"mt-1 text-sm text-gray-500"}," Create and manage school announcements for parents, teachers and students. ")])],-1)])]),default:m(()=>[e("div",D,[e("div",M,[e("div",N,[t[8]||(t[8]=e("h3",{class:"mb-3 text-sm font-semibold text-gray-800"}," New Announcement ",-1)),e("form",{class:"space-y-3",onSubmit:_(b,["prevent"])},[e("div",null,[t[4]||(t[4]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Title",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o(s).title=n),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. Parents Meeting on Friday"},null,512),[[x,o(s).title]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Audience",-1)),u(e("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>o(s).audience=n),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[...t[5]||(t[5]=[e("option",{value:"all"},"Everyone",-1),e("option",{value:"parents"},"Parents / Guardians",-1),e("option",{value:"teachers"},"Teachers",-1),e("option",{value:"students"},"Students",-1)])],512),[[k,o(s).audience]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Message",-1)),u(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=n=>o(s).body=n),rows:"4",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"Write the announcement details here..."},null,512),[[x,o(s).body]])]),e("div",S,[e("button",{type:"submit",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1",disabled:o(s).processing}," Publish ",8,$)])],32)]),e("div",j,[e("div",F,[e("h3",T," Recent Announcements ("+d(i.announcements.length)+") ",1)]),i.announcements.length===0?(r(),a("div",U," No announcements have been created yet. ")):(r(),a("ul",B,[(r(!0),a(p,null,A(i.announcements,n=>(r(),a("li",{key:n.id,class:"flex items-start justify-between gap-2 rounded-md bg-slate-50 px-3 py-2"},[e("div",E,[e("button",{type:"button",class:"text-left text-[11px] font-semibold text-gray-900 hover:text-emerald-700",onClick:v=>y(n)},d(n.title),9,P),e("div",L,[t[9]||(t[9]=f(" Audience: ",-1)),e("span",G,d(n.audience==="all"?"Everyone":n.audience.charAt(0).toUpperCase()+n.audience.slice(1)),1),t[10]||(t[10]=f(" \0b7 ",-1)),e("span",null,d(new Date(n.created_at).toLocaleString()),1)]),e("div",R,d(n.body),1)]),e("div",null,[e("button",{type:"button",class:"text-[10px] font-semibold text-red-600 hover:text-red-800",onClick:v=>g(n.id)}," Delete ",8,W)])]))),128))]))])])])]),_:1})],64))}};export{I as default};

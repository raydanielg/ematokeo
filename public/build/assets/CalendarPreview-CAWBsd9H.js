import{_ as O}from"./AuthenticatedLayout-DR1FBlHM.js";import{c as n,a as _,u as p,h as A,w,b as e,t as r,o as a,F as d,r as m,s as E,d as D}from"./app-DcOmDpoc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={id:"calendar-preview",class:"rounded-xl bg-white p-6 text-[11px] text-gray-900 shadow-sm ring-1 ring-gray-200"},I={class:"mb-4 border-b border-gray-200 pb-3 text-center"},M={class:"text-xs"},L={class:"text-[10px] font-semibold uppercase tracking-wide text-gray-500"},P={class:"text-[11px] font-semibold uppercase tracking-wide text-gray-800"},j={class:"text-[10px] text-gray-500"},H={class:"mt-2 text-[10px] text-gray-500"},T={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 year-grid-print"},Y={class:"mb-2 flex items-center justify-between text-[12px] font-semibold text-gray-800"},$={class:"text-[10px] font-normal text-gray-500"},z={class:"grid grid-cols-7 text-center text-[10px] font-semibold text-gray-500"},B={class:"mt-1 grid grid-cols-7 text-center text-[10px]"},J={key:0},R={class:"mt-4 grid gap-4 lg:grid-cols-2"},V={class:"rounded-lg border border-gray-200 bg-slate-50 p-3"},G={class:"grid gap-1 sm:grid-cols-2"},U={class:"rounded-lg border border-gray-200 bg-slate-50 p-3"},W={key:0,class:"text-[10px] text-gray-500"},K={key:1,class:"mt-1 space-y-1"},Z={class:"text-[10px] font-semibold text-emerald-700"},q={class:"text-[11px] font-semibold text-gray-900"},Q={key:0,class:"text-[10px] text-gray-600"},ae={__name:"CalendarPreview",props:{school:{type:Object,default:()=>({})},events:{type:Array,default:()=>[]}},setup(u){const y=new Date().getFullYear(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],k=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],f=[{month:1,day:1,name:"New Year"},{month:1,day:12,name:"Zanzibar Revolution Day"},{month:4,day:7,name:"Karume Day"},{month:4,day:26,name:"Union Day"},{month:5,day:1,name:"Workers Day"},{month:7,day:7,name:"Saba Saba Day"},{month:8,day:8,name:"Nane Nane Day"},{month:10,day:14,name:"Nyerere Day"},{month:12,day:9,name:"Independence Day"},{month:12,day:25,name:"Christmas Day"},{month:12,day:26,name:"Boxing Day"}],N=(b,t)=>{const x=b+1;return f.find(o=>o.month===x&&o.day===t)||null},C=h.map((b,t)=>{let o=new Date(y,t,1).getDay()-1;o<0&&(o=6);const s=new Date(y,t+1,0).getDate(),i=[];let c=1-o;for(let l=0;l<6;l++){const g=[];for(let v=0;v<7;v++)c<1||c>s?g.push(null):g.push(c),c++;i.push(g)}return{name:b,index:t,weeks:i}}),S=()=>{window.print()};return(b,t)=>(a(),n(d,null,[_(p(A),{title:`Calendar Preview ${p(y)}`},null,8,["title"]),_(O,null,{header:w(()=>[e("div",{class:"flex items-center justify-between"},[t[0]||(t[0]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Calendar Preview "),e("p",{class:"mt-1 text-sm text-gray-500"}," Print-friendly view of the school calendar and events. ")],-1)),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1",onClick:S}," Print ")])]),default:w(()=>{var x,o;return[e("div",F,[e("div",I,[t[1]||(t[1]=e("div",{class:"mb-2 flex items-center justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-12 w-12 object-contain"})],-1)),e("div",M,[e("div",L,r(((x=u.school)==null?void 0:x.ministry_name)||"MINISTRY OF EDUCATION, SCIENCE AND TECHNOLOGY"),1),e("div",P,r(((o=u.school)==null?void 0:o.name)||"SCHOOL NAME"),1),e("div",j," OFFICIAL SCHOOL CALENDAR - "+r(p(y)),1)]),e("div",H," Generated on: "+r(new Date().toLocaleDateString()),1)]),e("div",T,[(a(!0),n(d,null,m(p(C),s=>(a(),n("div",{key:s.index,class:"rounded-lg border border-gray-200 bg-slate-50 p-3"},[e("div",Y,[e("span",null,r(s.name),1),e("span",$,r(p(y)),1)]),e("div",z,[(a(),n(d,null,m(k,i=>e("div",{key:i,class:"py-1"},r(i),1)),64))]),e("div",B,[(a(!0),n(d,null,m(s.weeks,(i,c)=>(a(),n(d,{key:c},[(a(!0),n(d,null,m(i,(l,g)=>(a(),n("div",{key:`${c}-${g}`,class:E(["flex h-6 items-center justify-center rounded border border-transparent text-gray-700",{"text-gray-300":l===null,"bg-emerald-50 border-emerald-300 text-emerald-900 font-semibold":l!==null&&N(s.index,l)}])},[l!==null?(a(),n("span",J,r(l),1)):D("",!0)],2))),128))],64))),128))])]))),128))]),e("div",R,[e("div",V,[t[3]||(t[3]=e("h3",{class:"mb-1 text-[12px] font-semibold text-gray-800"}," Tanzania Public Holidays (Fixed Dates) ",-1)),e("ul",G,[(a(),n(d,null,m(f,s=>e("li",{key:`${s.month}-${s.day}`,class:"flex items-center gap-2"},[t[2]||(t[2]=e("span",{class:"inline-flex h-2 w-2 rounded-full bg-emerald-500"},null,-1)),e("span",null,r(s.day)+" "+r(h[s.month-1])+" - "+r(s.name),1)])),64))])]),e("div",U,[t[5]||(t[5]=e("h3",{class:"mb-1 text-[12px] font-semibold text-gray-800"}," School Events ",-1)),!u.events||u.events.length===0?(a(),n("div",W," No school events captured. ")):(a(),n("ul",K,[(a(!0),n(d,null,m(u.events,s=>(a(),n("li",{key:s.id,class:"flex items-start gap-2"},[t[4]||(t[4]=e("div",{class:"mt-0.5 h-2 w-2 rounded-full bg-emerald-500"},null,-1)),e("div",null,[e("div",Z,r(s.date),1),e("div",q,r(s.title),1),s.description?(a(),n("div",Q,r(s.description),1)):D("",!0)])]))),128))]))])])])]}),_:1})],64))}};export{ae as default};

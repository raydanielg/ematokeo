import{i as v,j as h,c as l,a as C,u as se,h as re,w as I,b as e,d as p,o,F as m,r as b,t as s,T as F,f as y,m as _}from"./app-CXaJsOnQ.js";import{_ as ae}from"./AuthenticatedLayout-CAayGm0o.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"flex flex-wrap items-center justify-between gap-3"},oe={class:"flex flex-wrap items-center gap-3 text-xs"},ne={class:"flex items-center gap-2"},de=["value","selected"],ie={class:"flex items-center gap-2"},ce=["value","selected"],xe={key:0,class:"flex items-center gap-2"},pe=["value"],ue=["value"],ye={key:1,class:"flex items-center gap-2"},me=["value"],be=["value"],ge={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},fe={class:"mb-3 flex items-center justify-end"},ve=["disabled"],he={key:0,class:"mb-3 rounded-md bg-amber-50 px-3 py-2 text-[11px] text-amber-700 ring-1 ring-amber-100"},_e={key:1,class:"py-10 text-center text-xs text-gray-400"},we={key:2,class:"overflow-x-auto"},ke={class:"min-w-full border-collapse text-[11px]"},Se={key:0},Ce={class:"px-3 py-1.5 align-top text-sm font-medium text-gray-900"},Ie={class:"px-3 py-1.5 align-top text-center"},Pe={class:"px-3 py-1.5 align-top text-center"},De={class:"px-3 py-1.5 align-top text-center"},Ae={class:"px-3 py-1.5 align-top text-center"},Ne={class:"px-3 py-1.5 align-top text-center"},Ee={class:"px-3 py-1.5 align-top text-center"},Me={class:"px-3 py-1.5 align-top text-center"},Te={class:"px-3 py-1.5 align-top text-center"},ze={class:"px-3 py-1.5 align-top text-right"},Ve=["onClick"],We={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-8"},Ye={class:"max-h-full w-full max-w-5xl overflow-y-auto rounded-xl bg-white p-6 text-xs text-gray-800 shadow-xl"},Le={class:"mx-auto border border-gray-200 bg-[#e3f2ff] p-6 text-xs text-gray-800",id:"class-performance-document"},Re={class:"mb-4 text-center"},$e={class:"text-[10px] text-gray-500"},Fe={class:"font-medium"},Be={key:0},Oe={class:"w-full border-collapse text-[11px] mb-4"},He={key:0},Ue={class:"border border-emerald-100 px-2 py-1 bg-white"},qe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},Ke={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},Xe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},Ge={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},Je={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},Ze={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},Qe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},je={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},et={class:"mt-4 grid gap-4 md:grid-cols-2"},tt={class:"w-full border-collapse text-[11px]"},st={key:0},rt={class:"border border-gray-200 px-2 py-1"},at={class:"border border-gray-200 px-2 py-1"},lt=["onClick"],ot={class:"border border-gray-200 px-2 py-1"},nt={class:"border border-gray-200 px-2 py-1 text-center"},dt={class:"border border-gray-200 px-2 py-1 text-center"},it={class:"border border-gray-200 px-2 py-1 text-center"},ct={class:"border border-gray-200 px-2 py-1 text-center"},xt={class:"w-full border-collapse text-[11px]"},pt={key:0},ut={class:"border border-gray-200 px-2 py-1"},yt={class:"border border-gray-200 px-2 py-1"},mt=["onClick"],bt={class:"border border-gray-200 px-2 py-1"},gt={class:"border border-gray-200 px-2 py-1 text-center"},ft={class:"border border-gray-200 px-2 py-1 text-center"},vt={class:"border border-gray-200 px-2 py-1 text-center"},ht={class:"border border-gray-200 px-2 py-1 text-center"},_t={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-8"},wt={class:"max-h-full w-full max-w-3xl overflow-y-auto rounded-xl bg-white p-6 text-xs text-gray-800 shadow-xl"},kt={key:0,class:"py-10 text-center text-[11px] text-gray-500"},St={key:1,class:"rounded-md bg-red-50 px-3 py-2 text-[11px] text-red-700 ring-1 ring-red-100"},Ct={key:2,class:"space-y-3"},It={class:"rounded-md bg-gray-50 px-3 py-2 text-[11px] text-gray-700 ring-1 ring-gray-100"},Pt={class:"font-semibold text-gray-900"},Dt={class:"mt-0.5 text-gray-600"},At={class:"font-medium"},Nt={class:"font-medium"},Et={class:"font-medium"},Mt={class:"mt-1 text-gray-600"},Tt={class:"font-semibold"},zt={class:"font-semibold"},Vt={class:"font-semibold"},Wt={class:"font-semibold"},Yt={class:"mt-1 text-[10px] text-gray-500"},Lt={class:"font-semibold"},Rt={class:"font-semibold"},$t={key:0,class:"mt-1 text-[10px] text-gray-500"},Ft={class:"flex items-center justify-between"},Bt={class:"overflow-x-auto"},Ot={class:"min-w-full border-collapse text-[11px]"},Ht={key:0},Ut={class:"px-3 py-1.5 align-top font-mono"},qt={class:"px-3 py-1.5 align-top"},Kt={class:"px-3 py-1.5 align-top text-center"},Xt={key:0},Gt={key:1,class:"text-gray-400"},Jt={class:"px-3 py-1.5 align-top text-center"},Zt={class:"font-semibold"},Qt={key:0,class:"ml-1 rounded bg-amber-50 px-1 py-0.5 text-[9px] font-semibold text-amber-700 ring-1 ring-amber-100"},jt={class:"px-3 py-1.5 align-top text-center"},es={class:"font-semibold"},ts={key:0,class:"ml-1 rounded bg-amber-50 px-1 py-0.5 text-[9px] font-semibold text-amber-700 ring-1 ring-amber-100"},ls={__name:"ClassPerformance",props:{schoolName:{type:String,default:null},years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},performance:{type:Array,default:()=>[]},topStudents:{type:Array,default:()=>[]},bottomStudents:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({year:null,exam:null})},assignedClasses:{type:Array,default:()=>[]},streams:{type:Array,default:()=>[]},preview:{type:Object,default:()=>null}},setup(n){const x=n,w=v(!1),P=v(!1),k=v(!1),g=v(null),c=v(null),f=v(!1),B=h(()=>{var t;return(((t=c.value)==null?void 0:t.subjects)||[]).filter(r=>r==null?void 0:r.entered).length}),O=h(()=>{var t;return(((t=c.value)==null?void 0:t.subjects)||[]).length}),D=h(()=>{var t;const d=((t=c.value)==null?void 0:t.subjects)||[];return f.value?d:d.filter(r=>r==null?void 0:r.entered)}),H=d=>{const t=d.target.value||null;_.get(route("results.class"),{year:t,exam:null},{preserveState:!0,preserveScroll:!0,replace:!0})},U=d=>{const t=d.target.value||null;_.get(route("results.class"),{year:x.filters.year,exam:t,class:null,stream:null},{preserveState:!0,preserveScroll:!0,replace:!0})},q=h(()=>{var d;return String(((d=x.filters)==null?void 0:d.class)||"")}),K=h(()=>{var d;return String(((d=x.filters)==null?void 0:d.stream)||"")}),X=d=>{const t=d.target.value||null;_.get(route("results.class"),{year:x.filters.year,exam:x.filters.exam,class:t,stream:null},{preserveState:!0,preserveScroll:!0,replace:!0})},G=d=>{const t=d.target.value||null;_.get(route("results.class"),{year:x.filters.year,exam:x.filters.exam,class:x.filters.class,stream:t},{preserveState:!0,preserveScroll:!0,replace:!0})},J=d=>{const t=(x.assignedClasses||[]).find(r=>r.name===d);t&&_.get(route("results.class"),{year:x.filters.year,exam:x.filters.exam,class:t.id,stream:null},{preserveScroll:!0,replace:!0,onSuccess:()=>{w.value=!0}})},Z=()=>{w.value=!0},Q=()=>{w.value=!1},j=()=>{P.value=!1,c.value=null,g.value=null,k.value=!1,f.value=!1},A=async d=>{var t;if(!(!(d!=null&&d.student_id)||!((t=x.filters)!=null&&t.exam))){P.value=!0,k.value=!0,g.value=null,c.value=null,f.value=!1;try{const r=route("results.student-details",{exam:x.filters.exam,student:d.student_id}),a=await fetch(r,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),u=await a.json().catch(()=>null);if(!a.ok){g.value=(u==null?void 0:u.message)||"Failed to load student results.";return}c.value=u}catch{g.value="Failed to load student results."}finally{k.value=!1}}},ee=()=>{var a;const d=document.title,t=x.schoolName||"School",r=((a=x.preview)==null?void 0:a.class_name)||"Class";document.title=`${t} - ${r} Performance`,window.print(),setTimeout(()=>{document.title=d},1e3)};return(d,t)=>(o(),l(m,null,[C(se(re),{title:"Class Performance"}),C(ae,null,{header:I(()=>[e("div",le,[t[9]||(t[9]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Class Performance "),e("p",{class:"mt-1 text-sm text-gray-500"}," Overview of performance by class level for the selected exam, including averages and division distribution. ")],-1)),e("div",oe,[e("div",ne,[t[2]||(t[2]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:H},[t[1]||(t[1]=e("option",{value:""},"All Years",-1)),(o(!0),l(m,null,b(n.years,r=>(o(),l("option",{key:r,value:r,selected:n.filters.year===r},s(r),9,de))),128))],32)]),e("div",ie,[t[4]||(t[4]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:U},[t[3]||(t[3]=e("option",{value:""},"Select Exam",-1)),(o(!0),l(m,null,b(n.exams,r=>(o(),l("option",{key:r.id,value:r.id,selected:String(n.filters.exam)===String(r.id)},s(r.name)+" ("+s(r.academic_year||"—")+") ",9,ce))),128))],32)]),n.filters.exam?(o(),l("div",xe,[t[6]||(t[6]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Class",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:q.value,onChange:X},[t[5]||(t[5]=e("option",{value:""},"Select Class",-1)),(o(!0),l(m,null,b(n.assignedClasses,r=>(o(),l("option",{key:r.id,value:String(r.id)},s(r.name),9,ue))),128))],40,pe)])):p("",!0),n.filters.exam&&n.streams&&n.streams.length?(o(),l("div",ye,[t[8]||(t[8]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Stream",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:K.value,onChange:G},[t[7]||(t[7]=e("option",{value:""},"All",-1)),(o(!0),l(m,null,b(n.streams,r=>(o(),l("option",{key:r.id,value:String(r.id)},s(r.name),9,be))),128))],40,me)])):p("",!0)])])]),default:I(()=>[e("div",ge,[t[12]||(t[12]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"mb-1 font-medium"},"Class Level Summary"),e("p",{class:"text-[11px] text-gray-500"}," Each row shows aggregated performance for a class level in the selected exam, including number of candidates, average marks and division breakdown. ")],-1)),e("div",fe,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:Z,disabled:!n.filters.class}," Preview Document ",8,ve)]),n.filters.exam&&!n.filters.class?(o(),l("div",he," Select a class to enable preview. ")):p("",!0),n.filters.exam?(o(),l("div",we,[e("table",ke,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Class Level"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Candidates"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Average Mark"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div I"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div II"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div III"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div IV"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div 0"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Pass Rate"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-right"},"Action")])],-1)),e("tbody",null,[n.filters.exam&&n.performance.length===0?(o(),l("tr",Se,[...t[10]||(t[10]=[e("td",{colspan:"10",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No performance data found for this exam yet. ",-1)])])):p("",!0),(o(!0),l(m,null,b(n.performance,r=>(o(),l("tr",{key:r.class_level||"unknown",class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",Ce,s(r.class_level||"Unknown"),1),e("td",Ie,s(r.candidates),1),e("td",Pe,s(r.average_mark??"—"),1),e("td",De,s(r.divisions.I),1),e("td",Ae,s(r.divisions.II),1),e("td",Ne,s(r.divisions.III),1),e("td",Ee,s(r.divisions.IV),1),e("td",Me,s(r.divisions[0]),1),e("td",Te,s(r.pass_rate)+"% ",1),e("td",ze,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-50 px-3 py-1 text-[10px] font-semibold text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:a=>J(r.class_level)}," Preview ",8,Ve)])]))),128))])])])):(o(),l("div",_e," Please select an exam to view class performance. "))]),C(F,{name:"fade"},{default:I(()=>{var r;return[w.value?(o(),l("div",We,[e("div",Ye,[e("div",{class:"mb-4 flex items-center justify-between"},[t[13]||(t[13]=e("div",null,[e("h3",{class:"text-sm font-semibold uppercase tracking-wide text-gray-800"}," Class Performance Preview "),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Printable preview of class performance for the selected exam. ")],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"rounded-md bg-gray-100 px-3 py-1.5 text-[11px] font-semibold text-gray-700 hover:bg-gray-200",onClick:Q}," Close "),e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:ee}," Print ")])]),e("div",Le,[e("div",Re,[t[15]||(t[15]=e("div",{class:"mb-1 flex justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-10 w-10 object-contain"})],-1)),t[16]||(t[16]=e("div",{class:"leading-tight"},[e("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-gray-700"}," Jamhuri Ya Muungano Wa Tanzania "),e("div",{class:"text-[10px] text-gray-700"}," Wizara Ya Elimu, Sayansi Na Teknolojia "),e("div",{class:"mt-0.5 text-[10px] text-gray-500"}," Mfumo Wa Taarifa Za Mitihani Na Matokeo Ya Shule (E-Matokeo) ")],-1)),t[17]||(t[17]=e("div",{class:"mt-3 text-[11px] font-semibold uppercase tracking-wide text-gray-800"}," Ripoti Ya Ufaulu Kwa Madarasa ",-1)),e("div",$e,[t[14]||(t[14]=y(" Exam: ",-1)),e("span",Fe,s(((r=n.exams.find(a=>String(a.id)===String(n.filters.exam)))==null?void 0:r.name)||"Selected Exam"),1),n.filters.year?(o(),l("span",Be," • Year: "+s(n.filters.year),1)):p("",!0)])]),e("table",Oe,[t[19]||(t[19]=e("thead",null,[e("tr",{class:"bg-emerald-50 text-emerald-800"},[e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Class Level"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Candidates"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Average Mark"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div I"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div II"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div III"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div IV"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div 0"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Pass Rate")])],-1)),e("tbody",null,[n.performance.length?p("",!0):(o(),l("tr",He,[...t[18]||(t[18]=[e("td",{colspan:"9",class:"border border-gray-200 px-2 py-3 text-center text-[11px] text-gray-400"}," No performance data available yet for this exam. ",-1)])])),(o(!0),l(m,null,b(n.performance,a=>(o(),l("tr",{key:a.class_level||"unknown",class:"text-gray-700"},[e("td",Ue,s(a.class_level||"Unknown"),1),e("td",qe,s(a.candidates),1),e("td",Ke,s(a.average_mark??"—"),1),e("td",Xe,s(a.divisions.I),1),e("td",Ge,s(a.divisions.II),1),e("td",Je,s(a.divisions.III),1),e("td",Ze,s(a.divisions.IV),1),e("td",Qe,s(a.divisions[0]),1),e("td",je,s(a.pass_rate)+"% ",1)]))),128))])]),e("div",et,[e("div",null,[t[22]||(t[22]=e("div",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-700"}," Top 10 Bora (Kwa Wastani) ",-1)),e("table",tt,[t[21]||(t[21]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"#"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Student"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Exam No"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Class"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Total"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Average"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Division")])],-1)),e("tbody",null,[n.topStudents.length?p("",!0):(o(),l("tr",st,[...t[20]||(t[20]=[e("td",{colspan:"7",class:"border border-gray-200 px-2 py-2 text-center text-[11px] text-gray-400"}," Hakuna taarifa za wanafunzi 10 bora bado kwa mtihani huu. ",-1)])])),(o(!0),l(m,null,b(n.topStudents,(a,u)=>(o(),l("tr",{key:a.exam_number||u,class:"text-gray-700"},[e("td",rt,s(u+1),1),e("td",at,[e("button",{type:"button",class:"text-left font-semibold text-emerald-700 hover:underline",onClick:S=>A(a)},s(a.full_name),9,lt)]),e("td",ot,s(a.exam_number),1),e("td",nt,s(a.class_level||"—"),1),e("td",dt,s(a.total??"—"),1),e("td",it,s(a.average??"—"),1),e("td",ct,s(a.division??"—"),1)]))),128))])])]),e("div",null,[t[25]||(t[25]=e("div",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-700"}," Wanafunzi 10 Wa Mwisho (Wasiofaulu) ",-1)),e("table",xt,[t[24]||(t[24]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"#"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Student"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Exam No"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Class"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Total"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Average"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Division")])],-1)),e("tbody",null,[n.bottomStudents.length?p("",!0):(o(),l("tr",pt,[...t[23]||(t[23]=[e("td",{colspan:"7",class:"border border-gray-200 px-2 py-2 text-center text-[11px] text-gray-400"}," Hakuna taarifa za wanafunzi 10 wa mwisho bado kwa mtihani huu. ",-1)])])),(o(!0),l(m,null,b(n.bottomStudents,(a,u)=>(o(),l("tr",{key:a.exam_number||u,class:"text-gray-700"},[e("td",ut,s(u+1),1),e("td",yt,[e("button",{type:"button",class:"text-left font-semibold text-emerald-700 hover:underline",onClick:S=>A(a)},s(a.full_name),9,mt)]),e("td",bt,s(a.exam_number),1),e("td",gt,s(a.class_level||"—"),1),e("td",ft,s(a.total??"—"),1),e("td",vt,s(a.average??"—"),1),e("td",ht,s(a.division??"—"),1)]))),128))])])])])])])])):p("",!0)]}),_:1}),C(F,{name:"fade"},{default:I(()=>{var r,a,u,S,N,E,M,T,z;return[P.value?(o(),l("div",_t,[e("div",wt,[e("div",{class:"mb-4 flex items-center justify-between"},[t[26]||(t[26]=e("div",null,[e("h3",{class:"text-sm font-semibold uppercase tracking-wide text-gray-800"}," Student Results "),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Detailed subject results for the selected exam. ")],-1)),e("button",{type:"button",class:"rounded-md bg-gray-100 px-3 py-1.5 text-[11px] font-semibold text-gray-700 hover:bg-gray-200",onClick:j}," Close ")]),k.value?(o(),l("div",kt," Loading student results... ")):g.value?(o(),l("div",St,s(g.value),1)):c.value?(o(),l("div",Ct,[e("div",It,[e("div",Pt,s((r=c.value.student)==null?void 0:r.full_name),1),e("div",Dt,[t[27]||(t[27]=y(" Exam No: ",-1)),e("span",At,s((a=c.value.student)==null?void 0:a.exam_number),1),t[28]||(t[28]=e("span",{class:"mx-1"},"|",-1)),t[29]||(t[29]=y(" Class: ",-1)),e("span",Nt,s((u=c.value.student)==null?void 0:u.class_level),1),t[30]||(t[30]=e("span",{class:"mx-1"},"|",-1)),t[31]||(t[31]=y(" Sex: ",-1)),e("span",Et,s(((S=c.value.student)==null?void 0:S.gender)??"—"),1)]),e("div",Mt,[t[32]||(t[32]=y(" Total: ",-1)),e("span",Tt,s(((N=c.value.summary)==null?void 0:N.total)??"—"),1),t[33]||(t[33]=e("span",{class:"mx-1"},"|",-1)),t[34]||(t[34]=y(" Avg: ",-1)),e("span",zt,s(((E=c.value.summary)==null?void 0:E.average)??"—"),1),t[35]||(t[35]=e("span",{class:"mx-1"},"|",-1)),t[36]||(t[36]=y(" Points: ",-1)),e("span",Vt,s(((M=c.value.summary)==null?void 0:M.points)??"—"),1),t[37]||(t[37]=e("span",{class:"mx-1"},"|",-1)),t[38]||(t[38]=y(" Div: ",-1)),e("span",Wt,s(((T=c.value.summary)==null?void 0:T.division)??"—"),1)]),e("div",Yt,[t[39]||(t[39]=y(" Entered: ",-1)),e("span",Lt,s(B.value),1),t[40]||(t[40]=y("/",-1)),e("span",Rt,s(O.value),1),t[41]||(t[41]=y(" subjects ",-1))]),((z=c.value.summary)==null?void 0:z.points)===null?(o(),l("div",$t," Points/Division are based on available captured subjects. If fewer than 7 subjects have marks/points, points total is not shown. ")):p("",!0)]),e("div",Ft,[t[42]||(t[42]=e("div",{class:"text-[11px] font-semibold text-gray-700"}," Subjects ",-1)),e("button",{type:"button",class:"rounded-md bg-gray-100 px-3 py-1.5 text-[11px] font-semibold text-gray-700 hover:bg-gray-200",onClick:t[0]||(t[0]=i=>f.value=!f.value)},s(f.value?"Show Entered Only":"Show All"),1)]),e("div",Bt,[e("table",Ot,[t[44]||(t[44]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Code"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Subject"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Marks"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"GRD"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"PTS")])],-1)),e("tbody",null,[D.value.length?p("",!0):(o(),l("tr",Ht,[...t[43]||(t[43]=[e("td",{colspan:"5",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No entered subject results found. ",-1)])])),(o(!0),l(m,null,b(D.value,(i,te)=>{var V,W,Y,L,R,$;return o(),l("tr",{key:i.code||te,class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",Ut,s(i.code),1),e("td",qt,s(i.name),1),e("td",Kt,[i.entered?(o(),l("span",Xt,s(i.marks??"—"),1)):(o(),l("span",Gt,"Not entered"))]),e("td",Jt,[e("span",Zt,s(i.grade??"—"),1),i.entered&&!((V=i==null?void 0:i.saved)!=null&&V.grade)&&((W=i==null?void 0:i.computed)!=null&&W.grade)?(o(),l("span",Qt," calc ")):p("",!0)]),e("td",jt,[e("span",es,s(i.points??"—"),1),i.entered&&(((Y=i==null?void 0:i.saved)==null?void 0:Y.points)===null||((L=i==null?void 0:i.saved)==null?void 0:L.points)===void 0)&&((R=i==null?void 0:i.computed)==null?void 0:R.points)!==null&&(($=i==null?void 0:i.computed)==null?void 0:$.points)!==void 0?(o(),l("span",ts," calc ")):p("",!0)])])}),128))])])])])):p("",!0)])])):p("",!0)]}),_:1})]),_:1})],64))}};export{ls as default};

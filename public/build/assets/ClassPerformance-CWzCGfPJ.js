import{r as k,a as o,b as y,u as I,h as S,w as g,d as e,o as d,e as i,F as n,f as x,t as r,T as C,m as D,i as u}from"./app-CGZwDx1m.js";import{_ as E}from"./AuthenticatedLayout-DNpHev2l.js";import"./ApplicationLogo-ChRgJ94G.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex flex-wrap items-center justify-between gap-3"},M={class:"flex flex-wrap items-center gap-3 text-xs"},N={class:"flex items-center gap-2"},A=["value","selected"],j={class:"flex items-center gap-2"},z=["value","selected"],V={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},W={key:0,class:"py-10 text-center text-xs text-gray-400"},Y={key:1,class:"overflow-x-auto"},T={class:"min-w-full border-collapse text-[11px]"},B={key:0},L={class:"px-3 py-1.5 align-top text-sm font-medium text-gray-900"},U={class:"px-3 py-1.5 align-top text-center"},H={class:"px-3 py-1.5 align-top text-center"},K={class:"px-3 py-1.5 align-top text-center"},R={class:"px-3 py-1.5 align-top text-center"},F={class:"px-3 py-1.5 align-top text-center"},O={class:"px-3 py-1.5 align-top text-center"},J={class:"px-3 py-1.5 align-top text-center"},Z={class:"px-3 py-1.5 align-top text-center"},$={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-8"},q={class:"max-h-full w-full max-w-4xl overflow-y-auto rounded-xl bg-white p-6 text-xs text-gray-800 shadow-xl"},G={class:"border border-gray-200 bg-white p-4",id:"class-performance-document"},Q={class:"mb-3 text-center"},X={class:"text-[10px] text-gray-500"},ee={class:"font-medium"},te={key:0},re={class:"w-full border-collapse text-[11px] mb-4"},se={key:0},ae={class:"border border-emerald-100 px-2 py-1 bg-white"},oe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},de={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},le={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ne={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ie={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},xe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ce={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},pe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},be={class:"mt-4 grid gap-4 md:grid-cols-2"},ye={class:"w-full border-collapse text-[11px]"},ge={key:0},ue={class:"border border-gray-200 px-2 py-1"},me={class:"border border-gray-200 px-2 py-1"},fe={class:"border border-gray-200 px-2 py-1"},he={class:"border border-gray-200 px-2 py-1 text-center"},ve={class:"border border-gray-200 px-2 py-1 text-center"},_e={class:"border border-gray-200 px-2 py-1 text-center"},we={class:"w-full border-collapse text-[11px]"},ke={key:0},Ie={class:"border border-gray-200 px-2 py-1"},Se={class:"border border-gray-200 px-2 py-1"},Ce={class:"border border-gray-200 px-2 py-1"},De={class:"border border-gray-200 px-2 py-1 text-center"},Ee={class:"border border-gray-200 px-2 py-1 text-center"},Pe={class:"border border-gray-200 px-2 py-1 text-center"},ze={__name:"ClassPerformance",props:{years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},performance:{type:Array,default:()=>[]},topStudents:{type:Array,default:()=>[]},bottomStudents:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({year:null,exam:null})}},setup(l){const m=l,b=k(!1),f=p=>{const t=p.target.value||null;u.get(route("results.class"),{year:t,exam:null},{preserveState:!0,preserveScroll:!0,replace:!0})},h=p=>{const t=p.target.value||null;u.get(route("results.class"),{year:m.filters.year,exam:t},{preserveState:!0,preserveScroll:!0,replace:!0})},v=()=>{b.value=!0},_=()=>{b.value=!1},w=()=>{window.print()};return(p,t)=>(d(),o(n,null,[y(I(S),{title:"Class Performance"}),y(E,null,{header:g(()=>[e("div",P,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Class Performance "),e("p",{class:"mt-1 text-sm text-gray-500"}," Overview of performance by class level for the selected exam, including averages and division distribution. ")],-1)),e("div",M,[e("div",N,[t[1]||(t[1]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:f},[t[0]||(t[0]=e("option",{value:""},"All Years",-1)),(d(!0),o(n,null,x(l.years,a=>(d(),o("option",{key:a,value:a,selected:l.filters.year===a},r(a),9,A))),128))],32)]),e("div",j,[t[3]||(t[3]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:h},[t[2]||(t[2]=e("option",{value:""},"Select Exam",-1)),(d(!0),o(n,null,x(l.exams,a=>(d(),o("option",{key:a.id,value:a.id,selected:String(l.filters.exam)===String(a.id)},r(a.name)+" ("+r(a.academic_year||"—")+") ",9,z))),128))],32)])])])]),default:g(()=>[e("div",V,[t[7]||(t[7]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"mb-1 font-medium"},"Class Level Summary"),e("p",{class:"text-[11px] text-gray-500"}," Each row shows aggregated performance for a class level in the selected exam, including number of candidates, average marks and division breakdown. ")],-1)),e("div",{class:"mb-3 flex items-center justify-end"},[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:v}," Preview Document ")]),l.filters.exam?(d(),o("div",Y,[e("table",T,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Class Level"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Candidates"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Average Mark"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div I"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div II"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div III"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div IV"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div 0"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Pass Rate")])],-1)),e("tbody",null,[l.filters.exam&&l.performance.length===0?(d(),o("tr",B,[...t[5]||(t[5]=[e("td",{colspan:"9",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No performance data found for this exam yet. ",-1)])])):i("",!0),(d(!0),o(n,null,x(l.performance,a=>(d(),o("tr",{key:a.class_level||"unknown",class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",L,r(a.class_level||"Unknown"),1),e("td",U,r(a.candidates),1),e("td",H,r(a.average_mark??"—"),1),e("td",K,r(a.divisions.I),1),e("td",R,r(a.divisions.II),1),e("td",F,r(a.divisions.III),1),e("td",O,r(a.divisions.IV),1),e("td",J,r(a.divisions[0]),1),e("td",Z,r(a.pass_rate)+"% ",1)]))),128))])])])):(d(),o("div",W," Please select an exam to view class performance. "))]),y(C,{name:"fade"},{default:g(()=>{var a;return[b.value?(d(),o("div",$,[e("div",q,[e("div",{class:"mb-4 flex items-center justify-between"},[t[8]||(t[8]=e("div",null,[e("h3",{class:"text-sm font-semibold uppercase tracking-wide text-gray-800"}," Muhtasari Wa Ufaulu Kwa Madarasa "),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Huu ni waraka wa kuchapishwa unaoonyesha ufaulu wa kila kidato kwa mtihani uliouchagua. ")],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"rounded-md bg-gray-100 px-3 py-1.5 text-[11px] font-semibold text-gray-700 hover:bg-gray-200",onClick:_}," Close "),e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:w}," Print ")])]),e("div",G,[e("div",Q,[t[10]||(t[10]=e("div",{class:"mb-2 flex justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-10 w-10 object-contain"})],-1)),t[11]||(t[11]=e("div",{class:"leading-tight"},[e("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-gray-700"}," Jamhuri Ya Muungano Wa Tanzania "),e("div",{class:"text-[10px] text-gray-700"}," Wizara Ya Elimu, Sayansi Na Teknolojia "),e("div",{class:"mt-0.5 text-[10px] text-gray-500"}," Mfumo Wa Taarifa Za Mitihani Na Matokeo Ya Shule (E-Matokeo) ")],-1)),t[12]||(t[12]=e("div",{class:"mt-3 text-[11px] font-semibold uppercase tracking-wide text-gray-800"}," Ripoti Ya Ufaulu Kwa Madarasa ",-1)),e("div",X,[t[9]||(t[9]=D(" Exam: ",-1)),e("span",ee,r(((a=l.exams.find(s=>String(s.id)===String(l.filters.exam)))==null?void 0:a.name)||"Selected Exam"),1),l.filters.year?(d(),o("span",te," • Year: "+r(l.filters.year),1)):i("",!0)])]),e("table",re,[t[14]||(t[14]=e("thead",null,[e("tr",{class:"bg-emerald-50 text-emerald-800"},[e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Class Level"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Candidates"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Average Mark"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div I"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div II"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div III"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div IV"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Div 0"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Pass Rate")])],-1)),e("tbody",null,[l.performance.length?i("",!0):(d(),o("tr",se,[...t[13]||(t[13]=[e("td",{colspan:"9",class:"border border-gray-200 px-2 py-3 text-center text-[11px] text-gray-400"}," No performance data available yet for this exam. ",-1)])])),(d(!0),o(n,null,x(l.performance,s=>(d(),o("tr",{key:s.class_level||"unknown",class:"text-gray-700"},[e("td",ae,r(s.class_level||"Unknown"),1),e("td",oe,r(s.candidates),1),e("td",de,r(s.average_mark??"—"),1),e("td",le,r(s.divisions.I),1),e("td",ne,r(s.divisions.II),1),e("td",ie,r(s.divisions.III),1),e("td",xe,r(s.divisions.IV),1),e("td",ce,r(s.divisions[0]),1),e("td",pe,r(s.pass_rate)+"% ",1)]))),128))])]),e("div",be,[e("div",null,[t[17]||(t[17]=e("div",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-700"}," Top 10 Bora (Kwa Wastani) ",-1)),e("table",ye,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"#"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Student"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Exam No"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Class"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Average"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Division")])],-1)),e("tbody",null,[l.topStudents.length?i("",!0):(d(),o("tr",ge,[...t[15]||(t[15]=[e("td",{colspan:"6",class:"border border-gray-200 px-2 py-2 text-center text-[11px] text-gray-400"}," Hakuna taarifa za wanafunzi 10 bora bado kwa mtihani huu. ",-1)])])),(d(!0),o(n,null,x(l.topStudents,(s,c)=>(d(),o("tr",{key:s.exam_number||c,class:"text-gray-700"},[e("td",ue,r(c+1),1),e("td",me,r(s.full_name),1),e("td",fe,r(s.exam_number),1),e("td",he,r(s.class_level||"—"),1),e("td",ve,r(s.average??"—"),1),e("td",_e,r(s.division||"—"),1)]))),128))])])]),e("div",null,[t[20]||(t[20]=e("div",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-700"}," Wanafunzi 10 Wa Mwisho (Wasiofaulu) ",-1)),e("table",we,[t[19]||(t[19]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"#"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Student"),e("th",{class:"border border-gray-200 px-2 py-1 text-left"},"Exam No"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Class"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Average"),e("th",{class:"border border-gray-200 px-2 py-1 text-center"},"Division")])],-1)),e("tbody",null,[l.bottomStudents.length?i("",!0):(d(),o("tr",ke,[...t[18]||(t[18]=[e("td",{colspan:"6",class:"border border-gray-200 px-2 py-2 text-center text-[11px] text-gray-400"}," Hakuna taarifa za wanafunzi 10 wa mwisho bado kwa mtihani huu. ",-1)])])),(d(!0),o(n,null,x(l.bottomStudents,(s,c)=>(d(),o("tr",{key:s.exam_number||c,class:"text-gray-700"},[e("td",Ie,r(c+1),1),e("td",Se,r(s.full_name),1),e("td",Ce,r(s.exam_number),1),e("td",De,r(s.class_level||"—"),1),e("td",Ee,r(s.average??"—"),1),e("td",Pe,r(s.division||"—"),1)]))),128))])])])])])])])):i("",!0)]}),_:1})]),_:1})],64))}};export{ze as default};

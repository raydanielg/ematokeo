import{_ as se}from"./AuthenticatedLayout-CYQwSd35.js";import{i as m,j as f,c as o,a as B,u as re,h as ae,w as L,b as e,d as O,o as l,F as x,r as u,t as s,f as R,m as h}from"./app-pgY35wKg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"flex flex-wrap items-center justify-between gap-3"},le={class:"flex flex-wrap items-center gap-3 text-xs"},de={class:"flex items-center gap-2"},ne=["value","selected"],ie={class:"flex items-center gap-2"},ce=["value","selected"],xe={class:"flex items-center gap-2"},ue=["disabled","value"],be=["value"],ye={class:"flex items-center gap-2"},ge=["disabled","value"],pe=["value"],me={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},ve={class:"mb-3 flex items-center justify-end gap-2"},fe=["disabled"],he={key:0,class:"py-10 text-center text-xs text-gray-400"},_e={key:1,class:"py-10 text-center text-xs text-gray-400"},we={key:2,class:"overflow-x-auto"},ke={class:"min-w-full border-collapse text-[11px]"},Se={class:"border-b border-gray-100 px-3 py-2 font-medium text-gray-800"},Ce={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ie={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},je={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},De={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Pe={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ae={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ne={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ve={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ee={class:"border-b border-gray-100 px-3 py-2 text-right"},Te=["onClick"],$e={class:"mt-6 grid gap-4 md:grid-cols-2"},Fe={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},Me={key:0,class:"py-8 text-center text-xs text-gray-400"},Be={key:1,class:"overflow-x-auto"},Le={class:"min-w-full border-collapse text-[11px]"},Oe={class:"border-b border-gray-100 px-3 py-2"},Re={class:"font-medium text-gray-800"},Ye={class:"text-[10px] text-gray-500"},qe={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},ze={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ge={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Xe={class:"border-b border-gray-100 px-3 py-2 text-right"},He=["onClick"],We={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},Je={key:0,class:"py-8 text-center text-xs text-gray-400"},Ke={key:1,class:"overflow-x-auto"},Qe={class:"min-w-full border-collapse text-[11px]"},Ue={class:"border-b border-gray-100 px-3 py-2"},Ze={class:"font-medium text-gray-800"},et={class:"text-[10px] text-gray-500"},tt={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},st={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},rt={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},at={class:"border-b border-gray-100 px-3 py-2 text-right"},ot=["onClick"],lt={key:0,class:"fixed inset-0 z-50 overflow-y-auto bg-black/30 p-4 print:static print:bg-transparent"},dt={class:"mx-auto w-full max-w-6xl rounded-xl bg-white shadow-lg print:mx-0 print:max-w-none print:rounded-none print:shadow-none"},nt={class:"p-6"},it={key:0,class:"py-10 text-center text-xs text-gray-400"},ct={key:1},xt={class:"mb-4"},ut={class:"text-lg font-semibold text-gray-900"},bt={class:"text-xs text-gray-500"},yt={class:"font-medium text-gray-700"},gt={class:"font-medium text-gray-700"},pt={class:"grid gap-3 sm:grid-cols-5"},mt={class:"rounded-lg bg-gray-50 p-3 text-center"},vt={class:"mt-1 text-lg font-semibold text-gray-800"},ft={class:"rounded-lg bg-gray-50 p-3 text-center"},ht={class:"mt-1 text-lg font-semibold text-gray-800"},_t={class:"rounded-lg bg-gray-50 p-3 text-center"},wt={class:"mt-1 text-lg font-semibold text-gray-800"},kt={class:"rounded-lg bg-gray-50 p-3 text-center"},St={class:"mt-1 text-lg font-semibold text-gray-800"},Ct={class:"rounded-lg bg-gray-50 p-3 text-center"},It={class:"mt-1 text-lg font-semibold text-gray-800"},jt={class:"mt-6 overflow-x-auto"},Dt={class:"min-w-full border-collapse text-[11px]"},Pt={class:"border-b border-gray-100 px-3 py-2"},At={class:"font-medium text-gray-800"},Nt={class:"text-[10px] text-gray-500"},Vt={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Et={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Tt={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},$t={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},Ft={key:1,class:"fixed inset-0 z-50 bg-black/30 p-4"},Mt={class:"mx-auto w-full max-w-3xl rounded-xl bg-white shadow-lg"},Bt={class:"p-4"},Lt={key:0,class:"py-10 text-center text-xs text-gray-400"},Ot={key:1,class:"rounded-lg bg-red-50 p-3 text-xs text-red-700"},Rt={key:2,class:"py-10 text-center text-xs text-gray-400"},Yt={key:3},qt={class:"mb-4 rounded-lg bg-gray-50 p-3"},zt={class:"flex flex-wrap items-center justify-between gap-2"},Gt={class:"text-sm font-semibold text-gray-800"},Xt={class:"text-xs text-gray-500"},Ht={class:"text-right"},Wt={class:"text-sm font-semibold text-gray-800"},Jt={class:"mt-2 grid gap-2 sm:grid-cols-4"},Kt={class:"rounded-md bg-white p-2"},Qt={class:"mt-0.5 text-sm font-semibold text-gray-800"},Ut={class:"rounded-md bg-white p-2"},Zt={class:"mt-0.5 text-sm font-semibold text-gray-800"},es={class:"rounded-md bg-white p-2"},ts={class:"mt-0.5 text-sm font-semibold text-gray-800"},ss={class:"rounded-md bg-white p-2"},rs={class:"mt-0.5 text-sm font-semibold text-gray-800"},as={class:"mb-3 flex items-center justify-between"},os={class:"overflow-x-auto"},ls={class:"min-w-full border-collapse text-[11px]"},ds={class:"border-b border-gray-100 px-3 py-2 font-medium text-gray-800"},ns={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},is={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},cs={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},xs={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},ps={__name:"ClassPerformance",props:{years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},performance:{type:Array,default:()=>[]},topStudents:{type:Array,default:()=>[]},bottomStudents:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({year:null,exam:null,class:null,stream:null})},assignedClasses:{type:Array,default:()=>[]},streams:{type:Array,default:()=>[]},preview:{type:Object,default:()=>null}},setup(d){const i=d,_=m(!1),k=m(!1),w=m(!1),g=m(null),c=m(null),p=m(!1),Y=f(()=>{var t;return(((t=c.value)==null?void 0:t.subjects)||[]).filter(a=>a==null?void 0:a.entered).length}),q=f(()=>{var t;return(((t=c.value)==null?void 0:t.subjects)||[]).length}),z=f(()=>{var t;const n=((t=c.value)==null?void 0:t.subjects)||[];return p.value?n:n.filter(a=>a==null?void 0:a.entered)}),G=n=>{const t=n.target.value||null;h.get(route("teacher.results.class"),{year:t,exam:null},{preserveState:!0,preserveScroll:!0,replace:!0})},X=n=>{const t=n.target.value||null;h.get(route("teacher.results.class"),{year:i.filters.year,exam:t,class:null,stream:null},{preserveState:!0,preserveScroll:!0,replace:!0})},H=f(()=>{var n;return String(((n=i.filters)==null?void 0:n.class)||"")}),W=f(()=>{var n;return String(((n=i.filters)==null?void 0:n.stream)||"")}),J=n=>{const t=n.target.value||null;h.get(route("teacher.results.class"),{year:i.filters.year,exam:i.filters.exam,class:t,stream:null},{preserveState:!0,preserveScroll:!0,replace:!0})},K=n=>{const t=n.target.value||null;h.get(route("teacher.results.class"),{year:i.filters.year,exam:i.filters.exam,class:i.filters.class,stream:t},{preserveState:!0,preserveScroll:!0,replace:!0})},Q=n=>{const t=(i.assignedClasses||[]).find(a=>a.name===n);t&&h.get(route("teacher.results.class"),{year:i.filters.year,exam:i.filters.exam,class:t.id,stream:null},{preserveScroll:!0,replace:!0,onSuccess:()=>{_.value=!0}})},U=()=>{_.value=!0},Z=()=>{_.value=!1},ee=()=>{k.value=!1,c.value=null,g.value=null,w.value=!1,p.value=!1},S=async n=>{var t;if(!(!(n!=null&&n.student_id)||!((t=i.filters)!=null&&t.exam))){k.value=!0,w.value=!0,g.value=null,c.value=null,p.value=!1;try{const a=route("teacher.results.student-details",{exam:i.filters.exam,student:n.student_id}),v=await fetch(a,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),y=await v.json().catch(()=>null);if(!v.ok){g.value=(y==null?void 0:y.message)||"Failed to load student results.";return}c.value=y}catch{g.value="Failed to load student results."}finally{w.value=!1}}},te=()=>{var a;const n=document.title,t=((a=i.preview)==null?void 0:a.class_name)||"Class";document.title=`${t} Performance`,window.print(),setTimeout(()=>{document.title=n},1e3)};return(n,t)=>(l(),o(x,null,[B(re(ae),{title:"Class Performance"}),B(se,null,{header:L(()=>[e("div",oe,[t[9]||(t[9]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"Class Performance"),e("p",{class:"mt-1 text-sm text-gray-500"},"Performance for your assigned classes and streams.")],-1)),e("div",le,[e("div",de,[t[2]||(t[2]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:G},[t[1]||(t[1]=e("option",{value:""},"All Years",-1)),(l(!0),o(x,null,u(d.years,a=>(l(),o("option",{key:a,value:a,selected:d.filters.year===a},s(a),9,ne))),128))],32)]),e("div",ie,[t[4]||(t[4]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:X},[t[3]||(t[3]=e("option",{value:""},"Select Exam",-1)),(l(!0),o(x,null,u(d.exams,a=>(l(),o("option",{key:a.id,value:a.id,selected:String(d.filters.exam)===String(a.id)},s(a.name)+" ("+s(a.academic_year||"—")+") ",9,ce))),128))],32)]),e("div",xe,[t[6]||(t[6]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Class",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",disabled:!d.filters.exam,value:H.value,onChange:J},[t[5]||(t[5]=e("option",{value:""},"Select Class",-1)),(l(!0),o(x,null,u(d.assignedClasses,a=>(l(),o("option",{key:a.id,value:a.id},s(a.name),9,be))),128))],40,ue)]),e("div",ye,[t[8]||(t[8]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Stream",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",disabled:!d.filters.exam||!d.filters.class,value:W.value,onChange:K},[t[7]||(t[7]=e("option",{value:""},"All Streams",-1)),(l(!0),o(x,null,u(d.streams,a=>(l(),o("option",{key:a.id,value:a.id},s(a.name),9,pe))),128))],40,ge)])])])]),default:L(()=>{var a,v,y,C,I,j,D,P,A,N,V,E;return[e("div",me,[t[11]||(t[11]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"mb-1 font-medium"},"Class Summary"),e("p",{class:"text-[11px] text-gray-500"},"Each row shows a class summary (candidates, average mark, divisions and pass rate).")],-1)),e("div",ve,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",disabled:!d.filters.exam,onClick:U}," Preview Document ",8,fe)]),d.filters.exam?d.performance.length===0?(l(),o("div",_e," No class performance data found for this exam yet. ")):(l(),o("div",we,[e("table",ke,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Candidates"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Avg"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div I"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div II"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div III"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div IV"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Div 0"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Pass %"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-right"},"Actions")])],-1)),e("tbody",null,[(l(!0),o(x,null,u(d.performance,r=>{var b,T,$,F,M;return l(),o("tr",{key:r.class_level,class:"hover:bg-gray-50"},[e("td",Se,s(r.class_level),1),e("td",Ce,s(r.candidates),1),e("td",Ie,s(r.average_mark??"—"),1),e("td",je,s(((b=r.divisions)==null?void 0:b.I)??0),1),e("td",De,s(((T=r.divisions)==null?void 0:T.II)??0),1),e("td",Pe,s((($=r.divisions)==null?void 0:$.III)??0),1),e("td",Ae,s(((F=r.divisions)==null?void 0:F.IV)??0),1),e("td",Ne,s(((M=r.divisions)==null?void 0:M["0"])??0),1),e("td",Ve,s(r.pass_rate??0)+"%",1),e("td",Ee,[e("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-2.5 py-1 text-[11px] font-semibold text-gray-700 shadow-sm hover:bg-gray-50",onClick:us=>Q(r.class_level)}," Preview ",8,Te)])])}),128))])])])):(l(),o("div",he," Please select an exam to view class performance. "))]),e("div",$e,[e("div",Fe,[t[13]||(t[13]=e("p",{class:"text-sm font-semibold text-gray-800"},"Top Students",-1)),t[14]||(t[14]=e("p",{class:"mt-0.5 text-xs text-gray-500"},"Only complete entries are ranked.",-1)),d.topStudents.length===0?(l(),o("div",Me,"No data.")):(l(),o("div",Be,[e("table",Le,[t[12]||(t[12]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Student"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Avg"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Division"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-right"},"Details")])],-1)),e("tbody",null,[(l(!0),o(x,null,u(d.topStudents,r=>(l(),o("tr",{key:r.student_id,class:"hover:bg-gray-50"},[e("td",Oe,[e("div",Re,s(r.full_name),1),e("div",Ye,s(r.exam_number),1)]),e("td",qe,s(r.class_level),1),e("td",ze,s(r.average??"—"),1),e("td",Ge,s(r.division??"—"),1),e("td",Xe,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-2.5 py-1 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:b=>S(r)}," View ",8,He)])]))),128))])])]))]),e("div",We,[t[16]||(t[16]=e("p",{class:"text-sm font-semibold text-gray-800"},"Bottom Students",-1)),t[17]||(t[17]=e("p",{class:"mt-0.5 text-xs text-gray-500"},"Only complete entries are ranked.",-1)),d.bottomStudents.length===0?(l(),o("div",Je,"No data.")):(l(),o("div",Ke,[e("table",Qe,[t[15]||(t[15]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Student"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Avg"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Division"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-right"},"Details")])],-1)),e("tbody",null,[(l(!0),o(x,null,u(d.bottomStudents,r=>(l(),o("tr",{key:r.student_id,class:"hover:bg-gray-50"},[e("td",Ue,[e("div",Ze,s(r.full_name),1),e("div",et,s(r.exam_number),1)]),e("td",tt,s(r.class_level),1),e("td",st,s(r.average??"—"),1),e("td",rt,s(r.division??"—"),1),e("td",at,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-2.5 py-1 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:b=>S(r)}," View ",8,ot)])]))),128))])])]))])]),_.value?(l(),o("div",lt,[e("div",dt,[e("div",{class:"flex items-center justify-between border-b border-gray-100 px-4 py-3 print:hidden"},[t[18]||(t[18]=e("div",null,[e("p",{class:"text-sm font-semibold text-gray-800"},"Preview"),e("p",{class:"text-xs text-gray-500"},"Printable class performance summary")],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-[11px] font-semibold text-gray-700 shadow-sm hover:bg-gray-50",onClick:te}," Print "),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-gray-800 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-gray-900",onClick:Z}," Close ")])]),e("div",nt,[d.preview?(l(),o("div",ct,[e("div",xt,[e("p",ut,s(d.preview.class_name),1),e("p",bt,[t[19]||(t[19]=R(" Candidates: ",-1)),e("span",yt,s(d.preview.candidates),1),t[20]||(t[20]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[21]||(t[21]=R(" Average: ",-1)),e("span",gt,s(d.preview.average_mark??"—"),1)])]),e("div",pt,[e("div",mt,[t[22]||(t[22]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Div I",-1)),e("p",vt,s(((a=d.preview.divisions)==null?void 0:a.I)??0),1)]),e("div",ft,[t[23]||(t[23]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Div II",-1)),e("p",ht,s(((v=d.preview.divisions)==null?void 0:v.II)??0),1)]),e("div",_t,[t[24]||(t[24]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Div III",-1)),e("p",wt,s(((y=d.preview.divisions)==null?void 0:y.III)??0),1)]),e("div",kt,[t[25]||(t[25]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Div IV",-1)),e("p",St,s(((C=d.preview.divisions)==null?void 0:C.IV)??0),1)]),e("div",Ct,[t[26]||(t[26]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Div 0",-1)),e("p",It,s(((I=d.preview.divisions)==null?void 0:I["0"])??0),1)])]),e("div",jt,[e("table",Dt,[t[27]||(t[27]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Student"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Gender"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Total"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Avg"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Division")])],-1)),e("tbody",null,[(l(!0),o(x,null,u(d.preview.students,(r,b)=>(l(),o("tr",{key:b,class:"hover:bg-gray-50"},[e("td",Pt,[e("div",At,s(r.full_name),1),e("div",Nt,s(r.exam_number),1)]),e("td",Vt,s(r.gender||"—"),1),e("td",Et,s(r.total??"—"),1),e("td",Tt,s(r.avg??"—"),1),e("td",$t,s(r.div??"—"),1)]))),128))])])])])):(l(),o("div",it,"No preview available."))])])])):O("",!0),k.value?(l(),o("div",Ft,[e("div",Mt,[e("div",{class:"flex items-center justify-between border-b border-gray-100 px-4 py-3"},[t[28]||(t[28]=e("div",null,[e("p",{class:"text-sm font-semibold text-gray-800"},"Student Results"),e("p",{class:"text-xs text-gray-500"},"Exam details for selected student.")],-1)),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-gray-800 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-gray-900",onClick:ee}," Close ")]),e("div",Bt,[w.value?(l(),o("div",Lt,"Loading...")):g.value?(l(),o("div",Ot,s(g.value),1)):c.value?(l(),o("div",Yt,[e("div",qt,[e("div",zt,[e("div",null,[e("p",Gt,s((j=c.value.student)==null?void 0:j.full_name),1),e("p",Xt,s((D=c.value.student)==null?void 0:D.exam_number)+" • "+s((P=c.value.student)==null?void 0:P.class_level),1)]),e("div",Ht,[t[29]||(t[29]=e("p",{class:"text-xs text-gray-500"},"Entered",-1)),e("p",Wt,s(Y.value)+"/"+s(q.value),1)])]),e("div",Jt,[e("div",Kt,[t[30]||(t[30]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Total",-1)),e("p",Qt,s(((A=c.value.summary)==null?void 0:A.total)??"—"),1)]),e("div",Ut,[t[31]||(t[31]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Average",-1)),e("p",Zt,s(((N=c.value.summary)==null?void 0:N.average)??"—"),1)]),e("div",es,[t[32]||(t[32]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Points",-1)),e("p",ts,s(((V=c.value.summary)==null?void 0:V.points)??"—"),1)]),e("div",ss,[t[33]||(t[33]=e("p",{class:"text-[10px] font-medium uppercase tracking-wide text-gray-500"},"Division",-1)),e("p",rs,s(((E=c.value.summary)==null?void 0:E.division)??"—"),1)])])]),e("div",as,[t[34]||(t[34]=e("p",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Subjects",-1)),e("button",{type:"button",class:"text-[11px] font-semibold text-emerald-700 hover:text-emerald-800",onClick:t[0]||(t[0]=r=>p.value=!p.value)},s(p.value?"Show entered only":"Show all"),1)]),e("div",os,[e("table",ls,[t[35]||(t[35]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Subject"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Code"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Marks"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Grade"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Points")])],-1)),e("tbody",null,[(l(!0),o(x,null,u(z.value,(r,b)=>(l(),o("tr",{key:b,class:"hover:bg-gray-50"},[e("td",ds,s(r.name),1),e("td",ns,s(r.code),1),e("td",is,s(r.marks??"—"),1),e("td",cs,s(r.grade??"—"),1),e("td",xs,s(r.points??"—"),1)]))),128))])])])])):(l(),o("div",Rt,"No data."))])])])):O("",!0)]}),_:1})],64))}};export{ps as default};

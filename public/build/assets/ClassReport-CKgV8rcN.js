import{_ as R}from"./AuthenticatedLayout-CkEm_kNZ.js";import{c as d,a as v,u as C,h as O,w,b as e,t as s,f as l,o as n,F as p,r as _,d as I,m as U}from"./app-CcJnBQ2d.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"flex flex-wrap items-center justify-between gap-3"},L={class:"mt-1 text-sm text-gray-500"},M={class:"font-semibold"},T={key:0},E={class:"mx-auto max-w-5xl bg-white p-4 shadow-sm ring-1 ring-gray-100",id:"class-report-document"},H={class:"mb-2 text-center"},F={class:"leading-tight"},P={class:"text-[11px] font-semibold uppercase tracking-wide text-gray-700"},D={class:"text-[11px] font-semibold uppercase tracking-wide text-gray-700"},V={class:"text-[10px] text-gray-700"},W={class:"text-[10px] text-gray-700"},$={class:"text-[10px] text-gray-600"},B={class:"font-semibold"},J={class:"ml-2"},K=["value"],Y=["value"],q={class:"font-semibold"},Q={class:"text-[10px] text-gray-600"},Z={class:"font-semibold"},z={class:"mt-2 text-[11px]"},G={class:"font-semibold"},X={class:"font-semibold"},ee={class:"mt-3"},te={class:"w-full border-collapse text-[11px]"},se={key:0},ae={class:"border border-emerald-100 px-1 py-0.5 text-center"},re={class:"border border-emerald-100 px-1 py-0.5"},oe={class:"border border-emerald-100 px-1 py-0.5"},le={class:"border border-emerald-100 px-1 py-0.5 text-center uppercase"},de={class:"border border-emerald-100 px-1 py-0.5 text-center"},ne={class:"border border-emerald-100 px-1 py-0.5 text-center"},ie={class:"border border-emerald-100 px-1 py-0.5 text-center"},ce={class:"border border-emerald-100 px-1 py-0.5 text-center"},ue={__name:"ClassReport",props:{class:Object,school:Object,exam:Object,students:Array,summary:Object,streams:Array,year:[String,Number]},setup(a){const N=()=>new URL(window.location.href).searchParams.get("exam")||"",o=a,k=()=>{window.print()},S=u=>{var x;const t=u.target.value;if(!t)return;const i=new URLSearchParams,c=((x=o.exam)==null?void 0:x.id)||N();c&&i.set("exam",c);const m=i.toString(),b=route("reports.classes.show",t)+(m?`?${m}`:"");U.visit(b)};return(u,t)=>(n(),d(p,null,[v(C(O),{title:a.exam?`Class Report - ${o.class.level}${o.class.stream?" "+o.class.stream:""}`:"Class Report"},null,8,["title"]),v(R,null,{header:w(()=>[e("div",j,[e("div",null,[t[1]||(t[1]=e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Class Report ",-1)),e("p",L,[t[0]||(t[0]=l(" Performance report for ",-1)),e("span",M,[l(s(o.class.level),1),o.class.stream?(n(),d("span",T," - "+s(o.class.stream),1)):I("",!0)]),l(" "+s(a.exam?`(${a.exam.name})`:"")+". ",1)])]),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:k}," Print ")])])]),default:w(()=>{var i,c,m,b,x,y,h,g,f,A;return[e("div",E,[e("div",H,[t[6]||(t[6]=e("div",{class:"mb-1 flex justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-10 w-10 object-contain"})],-1)),e("div",F,[e("div",P,s(((i=a.school)==null?void 0:i.council_name)||"HALMASHAURI YA MANISPAA"),1),e("div",D,s(((c=a.school)==null?void 0:c.name)||"SHULE YA SEKONDARI"),1),e("div",V,s(((m=a.school)==null?void 0:m.address_line)??""),1),e("div",W," Simu: "+s(((b=a.school)==null?void 0:b.phone)??"........")+", Email: "+s(((x=a.school)==null?void 0:x.email)??"........"),1)]),t[7]||(t[7]=e("div",{class:"mt-2 text-[11px] font-semibold uppercase tracking-wide text-gray-800"}," TAARIFA YA UFAULU WA DARASA ",-1)),e("div",$,[t[3]||(t[3]=l(" KIDATO: ",-1)),e("span",B,s(o.class.level),1),e("span",J,[t[2]||(t[2]=l(" STREAM: ",-1)),e("select",{class:"ml-1 rounded border border-gray-300 bg-white px-1 py-0.5 text-[10px] text-gray-700",value:o.class.id,onChange:S},[(n(!0),d(p,null,_(a.streams||[],r=>(n(),d("option",{key:r.id,value:r.id},s(r.stream||"-"),9,Y))),128))],40,K)]),t[4]||(t[4]=l("  ·  MWAKA: ",-1)),e("span",q,s(((y=a.exam)==null?void 0:y.academic_year)||a.year),1)]),e("div",Q,[t[5]||(t[5]=l(" MTIHANI: ",-1)),e("span",Z,s(((h=a.exam)==null?void 0:h.name)||"Hakujachaguliwa mtihani"),1)])]),e("div",z,[e("div",null,[t[8]||(t[8]=l(" Idadi ya watahiniwa: ",-1)),e("span",G,s(((g=a.summary)==null?void 0:g.candidates)||((f=a.students)==null?void 0:f.length)||0),1)]),e("div",null,[t[9]||(t[9]=l(" Wastani wa ufaulu wa darasa: ",-1)),e("span",X,s(((A=a.summary)==null?void 0:A.average_mark)??"-"),1)])]),e("div",ee,[e("table",te,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"bg-emerald-50 text-emerald-800"},[e("th",{class:"border border-emerald-100 px-1 py-0.5 text-center"},"NAFASI"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-left"},"NO. MTIHANI"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-left"},"JINA LA MWANAFUNZI"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-center"},"JINSIA"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-center"},"JUMLA"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-center"},"WASTANI"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-center"},"DIVISION"),e("th",{class:"border border-emerald-100 px-1 py-0.5 text-center"},"POINTI")])],-1)),e("tbody",null,[!a.students||!a.students.length?(n(),d("tr",se,[...t[10]||(t[10]=[e("td",{colspan:"8",class:"border border-gray-200 px-2 py-3 text-center text-[11px] text-gray-400"}," Hakuna matokeo ya kuonyesha kwa darasa hili na mtihani huu. ",-1)])])):I("",!0),(n(!0),d(p,null,_(a.students,r=>(n(),d("tr",{key:r.exam_number+"-"+r.full_name,class:"text-gray-700"},[e("td",ae,s(r.position||"-"),1),e("td",re,s(r.exam_number||"-"),1),e("td",oe,s(r.full_name),1),e("td",le,s(r.gender||"-"),1),e("td",de,s(r.total??"-"),1),e("td",ne,s(r.average??"-"),1),e("td",ie,s(r.division||"-"),1),e("td",ce,s(r.points??"-"),1)]))),128))])])])])]}),_:1})],64))}};export{ue as default};

import{_ as b}from"./AuthenticatedLayout-BY8Rm83k.js";import{c as a,a as p,u as f,h as v,w as c,b as e,d as h,o,F as d,r as x,t as l,m as g}from"./app-BSnAbVVJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"flex flex-wrap items-center justify-between gap-3"},C={class:"flex flex-wrap items-center gap-3 text-xs"},k={class:"flex items-center gap-2"},_=["value"],S=["value"],R={class:"flex items-center gap-2"},A=["value"],N=["value"],V={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},B={class:"overflow-x-auto"},E={class:"min-w-full border-collapse text-[11px]"},F={key:0},$={class:"px-3 py-1.5 align-top text-[11px] font-medium text-gray-900"},j={class:"px-3 py-1.5 align-top text-[11px]"},L={class:"font-medium"},O={class:"px-3 py-1.5 align-top text-right"},Y=["disabled","onClick"],M={__name:"ClassReportsIndex",props:{years:Array,exams:Array,classes:Array,filters:Object},setup(r){const i=r,u=(n,t)=>{const s={...i.filters,[n]:t||null};g.get(route("reports.classes.index"),s,{preserveState:!0,preserveScroll:!0,replace:!0})},y=n=>{const t=new URLSearchParams;i.filters.exam&&t.set("exam",i.filters.exam);const s=t.toString(),m=route("reports.classes.show",n)+(s?`?${s}`:"");g.visit(m)};return(n,t)=>(o(),a(d,null,[p(f(v),{title:"Class Reports"}),p(b,null,{header:c(()=>[e("div",w,[t[6]||(t[6]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Class Reports "),e("p",{class:"mt-1 text-sm text-gray-500"}," View performance reports per class for a selected exam. ")],-1)),e("div",C,[e("div",k,[t[3]||(t[3]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:r.filters.year||"",onChange:t[0]||(t[0]=s=>u("year",s.target.value))},[t[2]||(t[2]=e("option",{value:""},"All Years",-1)),(o(!0),a(d,null,x(r.years,s=>(o(),a("option",{key:s,value:s},l(s),9,S))),128))],40,_)]),e("div",R,[t[5]||(t[5]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:r.filters.exam||"",onChange:t[1]||(t[1]=s=>u("exam",s.target.value))},[t[4]||(t[4]=e("option",{value:""},"Select Exam",-1)),(o(!0),a(d,null,x(r.exams,s=>(o(),a("option",{key:s.id,value:s.id},l(s.name)+" ("+l(s.academic_year)+") ",9,N))),128))],40,A)])])])]),default:c(()=>[e("div",V,[t[10]||(t[10]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"font-medium"},"Classes"),e("p",{class:"text-[11px] text-gray-500"}," Select a class and open its performance report. Make sure you have selected the correct exam above. ")],-1)),e("div",B,[e("table",E,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Streams"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-right"},"Action")])],-1)),e("tbody",null,[r.classes.length===0?(o(),a("tr",F,[...t[7]||(t[7]=[e("td",{colspan:"3",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No classes found. ",-1)])])):h("",!0),(o(!0),a(d,null,x(r.classes,s=>(o(),a("tr",{key:s.level,class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",$,l(s.level),1),e("td",j,[e("span",L,l((s.streams||[]).length),1),t[8]||(t[8]=e("span",{class:"text-gray-500"},"stream(s)",-1))]),e("td",O,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1 text-[10px] font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-gray-300",disabled:!r.filters.exam||!(s.streams&&s.streams.length),onClick:m=>y(s.streams[0].id)}," Open Report ",8,Y)])]))),128))])])])])]),_:1})],64))}};export{M as default};

import{n as P,I as te,i as r,j as V,c as n,a as _,u as M,h as je,w as se,d as m,b as e,o as a,k as Y,F as y,r as k,t as d,p as Ce,s as N,v as le,x as Ae,e as Me,m as u}from"./app-DcUgpjaF.js";import{_ as Ie}from"./AuthenticatedLayout-CdZvj5Mp.js";import{_ as ae}from"./Alert-DbtMou4w.js";import{c as oe,P as Ee,T as $e}from"./trash-2-BIqATjpz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=oe("LayersIcon",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=oe("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Be={key:0,class:"pointer-events-none fixed right-4 top-4 z-50 w-full max-w-sm"},De={class:"pointer-events-auto"},Ne={class:"flex items-center justify-between"},Le={class:"flex flex-wrap items-center gap-2"},Te=["disabled"],ze={key:0,class:"inline-flex items-center gap-1"},Oe={key:1},Pe={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},Ve={class:"mb-5 flex flex-col gap-3 border-b border-gray-100 pb-4 text-xs text-gray-700"},He={class:"flex flex-wrap items-end justify-between gap-3"},Ue={class:"w-full max-w-xs"},qe=["value"],Ge={class:"flex gap-2"},Xe=["disabled"],Ke={key:0},Re={key:1},Ye={key:0,class:"mt-2 rounded-md bg-gray-50 p-3"},Ze={class:"flex flex-wrap gap-2"},Je=["value","checked","onChange"],Qe={class:"overflow-x-auto"},We={class:"min-w-full text-left text-sm"},et={class:"border-b border-gray-200 bg-gray-50 text-xs font-semibold uppercase tracking-wide text-gray-500"},tt={class:"w-10 px-3 py-2"},st=["checked"],lt={key:0},at={class:"px-3 py-2 align-top"},nt=["checked","onChange"],ot={class:"px-3 py-2 align-top"},it={class:"text-xs text-gray-500"},rt={class:"px-3 py-2 align-top"},dt={class:"flex flex-col"},ut={class:"text-gray-800"},ct={key:0,class:"text-[10px] text-gray-500"},gt={class:"px-3 py-2 align-top"},pt=["onClick"],mt={class:"px-3 py-2 align-top"},bt={class:"flex justify-end gap-2"},vt=["onClick"],xt=["onClick"],yt=["onClick"],ft={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6"},ht={class:"w-full max-w-lg overflow-hidden rounded-2xl bg-white shadow-2xl ring-1 ring-black/5"},_t={class:"flex items-start justify-between border-b border-gray-100 bg-gradient-to-r from-emerald-50 to-white px-5 py-4"},kt={class:"mt-1 text-[11px] text-gray-600"},wt={class:"px-5 py-4"},St={class:"flex flex-wrap gap-2"},jt={key:0,class:"text-xs text-gray-500"},Ct={key:2,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6"},At={class:"w-full max-w-4xl overflow-hidden rounded-2xl bg-white shadow-2xl ring-1 ring-black/5"},Mt={class:"flex items-start justify-between border-b border-gray-100 bg-gradient-to-r from-violet-50 to-white px-5 py-4"},It={class:"mt-1 text-[11px] text-gray-600"},Et={class:"border-b border-gray-100 px-5 py-3"},$t={class:"flex flex-wrap gap-2"},Ft=["onClick"],Bt={class:"grid gap-4 px-5 py-4 md:grid-cols-2"},Dt={class:"space-y-3 text-xs text-gray-700"},Nt={class:"flex flex-wrap gap-2"},Lt=["value","checked","onChange"],Tt={class:"space-y-3"},zt={class:"rounded-lg border border-gray-200 bg-gray-50 p-3 text-xs text-gray-700"},Ot={class:"flex flex-wrap gap-1"},Pt={key:0,class:"text-[11px] text-gray-500"},Vt={class:"flex items-center justify-between border-t border-gray-100 px-5 py-3"},Ht={key:1},Ut={class:"flex gap-2"},qt=["disabled"],Gt={key:0},Xt={key:1},Kt={key:3,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4"},Rt={class:"w-full max-w-lg rounded-lg bg-white p-5 shadow-lg"},Yt={class:"mb-3 flex items-center justify-between"},Zt={class:"text-base font-semibold text-gray-800"},Jt={class:"grid grid-cols-1 gap-3"},Qt={class:"flex flex-wrap gap-1"},Wt=["onClick"],es={class:"mt-4 flex justify-end gap-2"},ts=["disabled"],ss={key:0},ls={key:1},as={key:4,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4"},ns={class:"w-full max-w-sm rounded-lg bg-white p-5 shadow-lg"},os={class:"mb-4 text-xs text-gray-600"},gs={__name:"Classes",props:{classes:{type:Array,default:()=>[]},streams:{type:Array,default:()=>[]},subjects:{type:Array,default:()=>[]},schoolLevel:{type:String,default:""}},setup(I){const w=I,v=P(w.classes.map(l=>({id:l.id,name:l.name,level:l.level,description:l.description,subject_ids:[...l.subject_ids]})));te(()=>w.classes,l=>{v.splice(0,v.length,...l.map(t=>({id:t.id,name:t.name,level:t.level,description:t.description,subject_ids:[...t.subject_ids]})))});const g=r([]),L=r(!1);r(!1);const H=r(!1),S=r(null),U=r(!1),f=r(null),c=r(""),o=P({stream:"",subject_ids:[]}),j=r(!1),T=P({show:!1,variant:"success",title:"",message:""});V(()=>!!w.schoolLevel);const Z=V(()=>{const l=new Map;return(w.subjects||[]).forEach(t=>l.set(String(t.id),t)),l}),q=V(()=>{const l={};return(w.streams||[]).forEach(t=>{const s=String(t.parent_class_id||"");s&&(l[s]||(l[s]=[]),l[s].push(t))}),l}),ie=l=>{S.value=l,H.value=!0},J=()=>{H.value=!1,S.value=null},re=l=>{f.value=l,U.value=!0;const t=q.value[String(l.id)]||[];c.value=t.length?String(t[0].id):"new",G(c.value)},Q=()=>{U.value=!1,f.value=null,c.value="",o.stream="",o.subject_ids=[],j.value=!1},G=l=>{var i;if(c.value=l,l==="new"){o.stream="",o.subject_ids=[];return}const s=(q.value[String(((i=f.value)==null?void 0:i.id)||"")]||[]).find(D=>String(D.id)===String(l));s&&(o.stream=s.stream||"",o.subject_ids=Array.isArray(s.subject_ids)?[...s.subject_ids]:[])},de=l=>{const t=o.subject_ids.indexOf(l);t===-1?o.subject_ids.push(l):o.subject_ids.splice(t,1)},ue=()=>{if(!f.value||j.value||!o.stream||!o.subject_ids.length)return;j.value=!0;const l={class_id:Number(f.value.id),stream:o.stream,subject_ids:o.subject_ids};c.value&&c.value!=="new"?u.post(route("streams.update",c.value),l,{preserveScroll:!0,onSuccess:()=>{u.reload({only:["streams"]})},onFinish:()=>{j.value=!1}}):u.post(route("streams.store"),l,{preserveScroll:!0,onSuccess:()=>{u.reload({only:["streams"]})},onFinish:()=>{j.value=!1}})},ce=l=>{l&&R("delete-stream",String(l),"Are you sure you want to delete this stream? This action cannot be undone.")},C=r(null),b=r([]),E=r(!1),z=r(!1),$=r(null),p=P({name:"",description:"",level:""}),x=r([]),A=r(null),F=r(!1),X=r(!1),K=r(""),B=r(null),h=r(null),ge=["CIV","HIS","GEO","KIS","ENG","PHY","CHE","BIO","B/MAT"],pe=V(()=>w.subjects.filter(l=>ge.includes(l.subject_code)).map(l=>l.id)),me=()=>{$.value=null,p.name="",p.description="",p.level=w.schoolLevel,x.value=[],A.value=null,z.value=!0},be=l=>{const t=v.find(s=>s.id===l);if(!t){b.value=[];return}t.subject_ids&&t.subject_ids.length>0?b.value=[...t.subject_ids]:b.value=[...pe.value]};te(()=>C.value,l=>{if(!l){b.value=[];return}be(l)});const ve=l=>{$.value=l.id,p.name=l.name,p.description=l.description||"",x.value=[...l.subject_ids],A.value=null,z.value=!0},O=()=>{z.value=!1},R=(l,t,s)=>{B.value=l,h.value=t,K.value=s,X.value=!0},W=()=>{X.value=!1,B.value=null,h.value=null,K.value=""},xe=l=>{const t=g.value.indexOf(l);t===-1?g.value.push(l):g.value.splice(t,1)},ee=()=>v.length>0&&g.value.length===v.length,ye=()=>{ee()?g.value=[]:g.value=v.map(l=>l.id)},fe=()=>{F.value=!0,A.value=null,$.value?u.post(route("classes.update",$.value),{name:p.name,description:p.description,subject_ids:x.value},{preserveScroll:!0,onSuccess:()=>{O(),u.reload({only:["classes"]})},onError:l=>{A.value=Object.values(l||{}).join(" ")},onFinish:()=>{F.value=!1}}):u.post(route("classes.store"),{name:p.name,description:p.description,subject_ids:x.value},{preserveScroll:!0,onSuccess:()=>{O(),u.reload({only:["classes"]})},onError:l=>{A.value=Object.values(l||{}).join(" ")},onFinish:()=>{F.value=!1}})},he=l=>{R("delete-single",l,"Are you sure you want to delete this class? This action cannot be undone.")},_e=()=>{g.value.length&&R("delete-bulk",[...g.value],"Are you sure you want to delete all selected classes? This action cannot be undone.")},ke=()=>{B.value==="delete-single"&&h.value?u.delete(route("classes.destroy",h.value),{preserveScroll:!0}):B.value==="delete-bulk"&&Array.isArray(h.value)?(L.value=!0,u.post(route("classes.bulk-delete"),{ids:h.value},{preserveScroll:!0,onSuccess:()=>{u.reload({only:["classes"]})},onFinish:()=>{L.value=!1,g.value=[]}})):B.value==="delete-stream"&&h.value&&u.delete(route("streams.destroy",h.value),{preserveScroll:!0,onSuccess:()=>{u.reload({only:["streams"]})}}),W()},we=l=>{const t=b.value.indexOf(l);t===-1?b.value.push(l):b.value.splice(t,1)},Se=()=>{if(!C.value||E.value)return;E.value=!0;const l=[{class_id:C.value,subject_ids:b.value}];u.post("/classes/assign-subjects",{assignments:l},{preserveScroll:!0,onSuccess:()=>{u.reload({only:["classes"]})},onFinish:()=>{E.value=!1}})};return(l,t)=>(a(),n(y,null,[_(M(je),{title:"Classes"}),_(Ie,null,{header:se(()=>[e("div",Ne,[t[6]||(t[6]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Classes "),e("p",{class:"mt-1 text-sm text-gray-500"}," Manage classes and inline assign subjects to each class. ")],-1)),e("div",Le,[e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:me}," + Add Class "),e("button",{type:"button",class:"rounded-md bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-700 ring-1 ring-red-100 hover:bg-red-100 disabled:cursor-not-allowed disabled:opacity-60",disabled:!g.value.length||L.value,onClick:_e},[L.value?(a(),n("span",ze,[...t[5]||(t[5]=[e("span",{class:"inline-flex h-3 w-3 animate-spin rounded-full border border-red-500 border-t-transparent"},null,-1),e("span",null,"Deleting...",-1)])])):(a(),n("span",Oe,"Bulk Delete"))],8,Te)])])]),default:se(()=>[T.show?(a(),n("div",Be,[e("div",De,[_(ae,{variant:T.variant,title:T.title,message:T.message},null,8,["variant","title","message"])])])):m("",!0),e("div",Pe,[e("div",Ve,[t[10]||(t[10]=e("div",{class:"flex flex-wrap items-center gap-3"},[e("div",{class:"flex flex-col gap-1"},[e("span",{class:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"}," Assign Subjects to a Class "),e("span",{class:"text-[11px] text-gray-500"}," Chagua darasa kisha weka alama kwenye masomo unayotaka lifundishwe; masomo ya msingi yatajiwekwa alama kiotomatiki kama darasa halina masomo bado. ")])],-1)),e("div",He,[e("div",Ue,[t[8]||(t[8]=e("label",{class:"mb-1 block text-[11px] font-medium text-gray-700"},"Select Class",-1)),Y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>C.value=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[t[7]||(t[7]=e("option",{value:"",disabled:""},"Select class...",-1)),(a(!0),n(y,null,k(v,s=>(a(),n("option",{key:s.id,value:s.id},d(s.name)+" (ID #"+d(s.id)+") ",9,qe))),128))],512),[[Ce,C.value]])]),e("div",Ge,[e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:!C.value||E.value,onClick:Se},[E.value?(a(),n("span",Re,"Saving...")):(a(),n("span",Ke,"Save Assignments"))],8,Xe)])]),C.value?(a(),n("div",Ye,[t[9]||(t[9]=e("p",{class:"mb-2 text-[11px] font-medium text-gray-700"},"Subjects",-1)),e("div",Ze,[(a(!0),n(y,null,k(I.subjects,s=>(a(),n("label",{key:s.id,class:N(["inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] font-medium",b.value.includes(s.id)?"border-emerald-500 bg-emerald-50 text-emerald-800":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50"])},[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",value:s.id,checked:b.value.includes(s.id),onChange:i=>we(s.id)},null,40,Je),e("span",null,d(s.subject_code),1)],2))),128))])])):m("",!0)]),e("div",Qe,[e("table",We,[e("thead",null,[e("tr",et,[e("th",tt,[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:ee(),onChange:ye},null,40,st)]),t[11]||(t[11]=e("th",{class:"w-16 px-3 py-2"},"ID No",-1)),t[12]||(t[12]=e("th",{class:"px-3 py-2"},"Class",-1)),t[13]||(t[13]=e("th",{class:"px-3 py-2"},"Subjects Assigned",-1)),t[14]||(t[14]=e("th",{class:"px-3 py-2 text-right"},"Actions",-1))])]),e("tbody",null,[v.length===0?(a(),n("tr",lt,[...t[15]||(t[15]=[e("td",{colspan:"4",class:"px-3 py-4 text-center text-xs text-gray-500"}," No classes defined yet. ",-1)])])):m("",!0),(a(!0),n(y,null,k(v,s=>(a(),n("tr",{key:s.id,class:"border-b border-gray-100 text-xs text-gray-700 hover:bg-gray-50"},[e("td",at,[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:g.value.includes(s.id),onChange:i=>xe(s.id)},null,40,nt)]),e("td",ot,[e("span",it,"#"+d(s.id),1)]),e("td",rt,[e("div",dt,[e("span",ut,d(s.name),1),s.description?(a(),n("span",ct,d(s.description),1)):m("",!0)])]),e("td",gt,[e("button",{type:"button",class:"text-left text-[11px] font-medium text-emerald-700 hover:text-emerald-800",onClick:i=>ie(s)},d(I.subjects.filter(i=>s.subject_ids.map(D=>String(D)).includes(String(i.id))).map(i=>i.subject_code).join(", ")||"None"),9,pt)]),e("td",mt,[e("div",bt,[e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-violet-50 text-violet-700 ring-1 ring-violet-100 hover:bg-violet-100",title:"Streams","aria-label":"Streams",onClick:i=>re(s)},[_(M(Fe),{class:"h-4 w-4"})],8,vt),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",title:"Edit","aria-label":"Edit",onClick:i=>ve(s)},[_(M(Ee),{class:"h-4 w-4"})],8,xt),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-red-50 text-red-700 ring-1 ring-red-100 hover:bg-red-100",title:"Delete","aria-label":"Delete",onClick:i=>he(s.id)},[_(M($e),{class:"h-4 w-4"})],8,yt)])])]))),128))])])])]),H.value&&S.value?(a(),n("div",ft,[e("div",ht,[e("div",_t,[e("div",null,[t[16]||(t[16]=e("h3",{class:"text-base font-semibold text-gray-900"},"Subjects",-1)),e("p",kt,d(S.value.name),1)]),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-white hover:text-gray-600",onClick:J},[_(M(ne),{class:"h-4 w-4"})])]),e("div",wt,[e("div",St,[(a(!0),n(y,null,k(S.value.subject_ids||[],s=>{var i;return a(),n("span",{key:"sub-"+s,class:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-1 text-[10px] font-medium text-emerald-700 ring-1 ring-emerald-100"},d(((i=Z.value.get(String(s)))==null?void 0:i.subject_code)||s),1)}),128)),S.value.subject_ids&&S.value.subject_ids.length?m("",!0):(a(),n("span",jt," No subjects assigned. "))])]),e("div",{class:"flex justify-end border-t border-gray-100 px-5 py-3"},[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:J}," Close ")])])])):m("",!0),U.value&&f.value?(a(),n("div",Ct,[e("div",At,[e("div",Mt,[e("div",null,[t[17]||(t[17]=e("h3",{class:"text-base font-semibold text-gray-900"},"Streams",-1)),e("p",It," Manage streams for "+d(f.value.name),1)]),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-white hover:text-gray-600",onClick:Q},[_(M(ne),{class:"h-4 w-4"})])]),e("div",Et,[e("div",$t,[(a(!0),n(y,null,k(q.value[String(f.value.id)]||[],s=>(a(),n("button",{key:"tab-"+s.id,type:"button",class:N(["rounded-md px-3 py-1.5 text-[11px] font-semibold",c.value===String(s.id)?"bg-violet-600 text-white":"bg-gray-50 text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100"]),onClick:i=>G(String(s.id))},d(s.stream||"Stream"),11,Ft))),128)),e("button",{type:"button",class:N(["rounded-md px-3 py-1.5 text-[11px] font-semibold",c.value==="new"?"bg-violet-600 text-white":"bg-gray-50 text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100"]),onClick:t[1]||(t[1]=s=>G("new"))}," + New ",2)])]),e("div",Bt,[e("div",Dt,[e("div",null,[t[18]||(t[18]=e("label",{class:"mb-1 block font-medium"},"Stream name",-1)),Y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.stream=s),type:"text",class:"w-full rounded-md border border-gray-300 px-3 py-2 text-xs focus:border-violet-500 focus:outline-none focus:ring-violet-500",placeholder:"e.g. A, B, Science"},null,512),[[le,o.stream]])]),e("div",null,[t[19]||(t[19]=e("div",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500"}," Subjects (minimum 1) ",-1)),e("div",Nt,[(a(!0),n(y,null,k(I.subjects,s=>(a(),n("label",{key:"stream-sub-"+s.id,class:N(["inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] font-medium",o.subject_ids.includes(s.id)?"border-violet-500 bg-violet-50 text-violet-800":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50"])},[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-violet-600 focus:ring-violet-500",value:s.id,checked:o.subject_ids.includes(s.id),onChange:i=>de(s.id)},null,40,Lt),e("span",null,d(s.subject_code),1)],2))),128))])])]),e("div",Tt,[e("div",zt,[t[20]||(t[20]=e("div",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500"}," Current stream subjects ",-1)),e("div",Ot,[(a(!0),n(y,null,k(o.subject_ids,s=>{var i;return a(),n("span",{key:"pill-"+s,class:"inline-flex items-center rounded-full bg-white px-2 py-0.5 text-[10px] font-medium text-gray-700 ring-1 ring-gray-200"},d(((i=Z.value.get(String(s)))==null?void 0:i.subject_code)||s),1)}),128)),o.subject_ids.length?m("",!0):(a(),n("span",Pt," Select subjects on the left. "))])])])]),e("div",Vt,[c.value&&c.value!=="new"?(a(),n("button",{key:0,type:"button",class:"rounded-md bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-700 ring-1 ring-red-200 hover:bg-red-100",onClick:t[3]||(t[3]=s=>ce(c.value))}," Delete stream ")):(a(),n("div",Ht)),e("div",Ut,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:Q}," Close "),e("button",{type:"button",class:"rounded-md bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-violet-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:j.value||!o.stream||!o.subject_ids.length,onClick:ue},[j.value?(a(),n("span",Xt,"Saving...")):(a(),n("span",Gt,"Save"))],8,qt)])])])])):m("",!0),z.value?(a(),n("div",Kt,[e("div",Rt,[e("div",Yt,[e("h3",Zt,d($.value?"Edit Class":"Add Class"),1),e("button",{type:"button",class:"text-sm text-gray-400 hover:text-gray-600",onClick:O}," âœ• ")]),e("form",{class:"space-y-3 text-xs text-gray-700",onSubmit:Ae(fe,["prevent"])},[A.value?(a(),Me(ae,{key:0,variant:"danger",title:"Could not save class",message:A.value},null,8,["message"])):m("",!0),e("div",Jt,[e("div",null,[t[21]||(t[21]=e("label",{class:"mb-1 block font-medium"},"Class Name",-1)),Y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>p.name=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. Form I A",required:""},null,512),[[le,p.name]])])]),e("div",null,[t[22]||(t[22]=e("label",{class:"mb-1 block font-medium"},"Assign Subjects",-1)),e("div",Qt,[(a(!0),n(y,null,k(I.subjects,s=>(a(),n("button",{key:s.id,type:"button",class:N(["rounded-full px-2 py-0.5 text-[10px] font-medium ring-1",x.value.includes(s.id)?"bg-emerald-600 text-white ring-emerald-600":"bg-white text-gray-700 ring-gray-200 hover:bg-gray-50"]),onClick:i=>x.value=x.value.includes(s.id)?x.value.filter(D=>D!==s.id):[...x.value,s.id]},d(s.subject_code),11,Wt))),128))])]),e("div",es,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:O}," Cancel "),e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:F.value},[F.value?(a(),n("span",ss,"Saving...")):(a(),n("span",ls,"Save"))],8,ts)])],32)])])):m("",!0),X.value?(a(),n("div",as,[e("div",ns,[t[23]||(t[23]=e("h3",{class:"mb-2 text-sm font-semibold text-gray-800"}," Please confirm ",-1)),e("p",os,d(K.value),1),e("div",{class:"mt-2 flex justify-end gap-2 text-xs"},[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:W}," Cancel "),e("button",{type:"button",class:"rounded-md bg-red-600 px-3 py-1.5 font-semibold text-white shadow-sm hover:bg-red-700",onClick:ke}," Confirm ")])])])):m("",!0)]),_:1})],64))}};export{gs as default};

import{_}from"./AuthenticatedLayout-C5DjEP1W.js";import{a,b as g,u as f,h as w,w as y,d as e,t as l,e as p,m as i,o as n,B as m,F as u,f as c,x as v}from"./app-D_FTUGpF.js";import"./ApplicationLogo-Bv2gxka0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex items-center justify-between"},k={class:"grid gap-4 lg:grid-cols-3"},j={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-1"},N={class:"mb-3 flex items-center justify-between"},T={class:"inline-flex items-center rounded-full bg-emerald-50 px-2.5 py-0.5 text-[10px] font-medium text-emerald-700"},F={key:0,class:"space-y-1.5 text-[11px] text-gray-700"},A={class:"flex items-center gap-2"},R={class:"flex h-5 w-5 items-center justify-center rounded-full bg-emerald-100 text-[10px] font-semibold text-emerald-700"},C={class:"font-semibold text-gray-900 truncate max-w-[140px]"},B={class:"text-[10px] text-gray-500"},D={key:0,class:"ml-1"},E={class:"text-right"},M={class:"text-xs font-semibold text-emerald-700"},P={class:"mt-0.5 h-1.5 w-16 overflow-hidden rounded-full bg-emerald-100"},$={key:1,class:"text-[11px] text-gray-500"},L={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-1"},V={class:"mb-3 flex items-center justify-between"},O={class:"inline-flex items-center rounded-full bg-rose-50 px-2.5 py-0.5 text-[10px] font-medium text-rose-700"},W={key:0,class:"space-y-1.5 text-[11px] text-gray-700"},G={class:"flex items-center gap-2"},Y={class:"flex h-5 w-5 items-center justify-center rounded-full bg-rose-50 text-[10px] font-semibold text-rose-700"},z={class:"font-semibold text-gray-900 truncate max-w-[140px]"},H={class:"text-[10px] text-gray-500"},U={key:0,class:"ml-1"},q={class:"text-right"},I={class:"text-xs font-semibold text-rose-700"},J={class:"mt-0.5 h-1.5 w-16 overflow-hidden rounded-full bg-rose-100"},K={key:1,class:"text-[11px] text-gray-500"},Q={class:"space-y-6"},X={class:"grid gap-4 md:grid-cols-3 lg:grid-cols-5"},Z={class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},ee={class:"mt-1 text-2xl font-semibold text-gray-900"},te={class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},se={class:"mt-1 text-2xl font-semibold text-gray-900"},le={class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},ae={class:"mt-1 text-2xl font-semibold text-gray-900"},ne={class:"grid gap-4 lg:grid-cols-3"},de={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-2"},re={class:"flex items-center justify-between"},oe={class:"text-xs text-gray-500"},ie={key:0,class:"font-semibold text-gray-700"},ue={key:1,class:"italic"},xe={key:0,class:"flex items-center gap-3 text-xs"},me={class:"flex items-center gap-1 text-emerald-600"},ce={class:"flex items-center gap-1 text-rose-600"},ge={class:"text-[11px] text-gray-500"},ye={class:"font-semibold text-gray-700"},pe={class:"mt-4 grid gap-4 md:grid-cols-3"},fe={class:"flex flex-col justify-between rounded-lg bg-slate-50 p-4 md:col-span-1"},be={key:0,class:"mt-3 space-y-2 text-[11px] text-gray-700"},he={class:"flex items-center justify-between"},ve={class:"h-2 w-full overflow-hidden rounded-full bg-emerald-100"},_e={class:"mt-3 flex items-center justify-between"},we={class:"h-2 w-full overflow-hidden rounded-full bg-rose-100"},Se={key:1,class:"mt-3 text-xs text-gray-500"},ke={class:"space-y-4 md:col-span-2"},je={class:"rounded-lg border border-dashed border-gray-200 p-3"},Ne={key:0,class:"mt-2 space-y-1 text-[11px] text-gray-700"},Te={class:"w-4 font-semibold text-gray-700"},Fe={class:"flex-1 rounded-full bg-gray-100"},Ae={class:"w-16 text-right text-[10px] text-gray-600"},Re={key:1,class:"mt-1 text-xs text-gray-500"},Ce={class:"grid gap-4 lg:grid-cols-3"},Be={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-2"},De={class:"mb-3 flex items-center justify-between"},Ee={key:0,class:"text-[11px] text-gray-500"},Me={key:1,class:"space-y-2 text-[11px]"},Pe={class:"text-[10px] font-semibold text-emerald-700"},$e={class:"text-[11px] font-semibold text-gray-900"},Le={key:0,class:"text-[10px] text-gray-600"},Ve={class:"rounded-xl bg-white p-5 text-xs text-gray-700 shadow-sm ring-1 ring-gray-100"},Oe={class:"mb-3 flex items-center justify-between"},We={key:0,class:"text-[11px] text-gray-500"},Ge={key:1,class:"space-y-2 text-[11px]"},Ye={class:"text-[11px] font-semibold text-gray-900"},ze={class:"mt-0.5 line-clamp-2 text-[10px] text-gray-600"},He={class:"mt-0.5 text-[10px] text-gray-400"},Ke={__name:"Dashboard",props:{stats:{type:Object,default:()=>({})},upcomingEvents:{type:Array,default:()=>[]},recentAnnouncements:{type:Array,default:()=>[]},resultsSummary:{type:Object,default:()=>({})},topStudents:{type:Array,default:()=>[]},bottomStudents:{type:Array,default:()=>[]}},setup(o){const s=o;return(b,t)=>(n(),a(u,null,[g(f(w),{title:"E-Matokeo Dashboard"}),g(_,null,{header:y(()=>{var r,h;return[e("div",S,[t[3]||(t[3]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Overview "),e("p",{class:"mt-1 text-sm text-gray-500"}," Summary of key metrics for the current academic year. ")],-1)),e("div",k,[e("div",j,[e("div",N,[t[0]||(t[0]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-800"},"Top 10 Best Students"),e("p",{class:"text-xs text-gray-500"},"Based on average marks (current year).")],-1)),e("span",T," Top "+l(((r=s.topStudents)==null?void 0:r.length)||0),1)]),s.topStudents&&s.topStudents.length?(n(),a("div",F,[(n(!0),a(u,null,c(s.topStudents,(d,x)=>(n(),a("div",{key:d.student_id||x,class:"flex items-center justify-between gap-2 rounded-lg border border-gray-100 bg-slate-50 px-3 py-1.5"},[e("div",A,[e("span",R,l(x+1),1),e("div",null,[e("div",C,l(d.full_name||d.exam_number||"Student"),1),e("div",B,[i(l(d.exam_number)+" ",1),d.class_level?(n(),a("span",D,"â€¢ "+l(d.class_level)+" "+l(d.stream),1)):p("",!0)])])]),e("div",E,[e("div",M,l(d.avg_marks?d.avg_marks.toFixed?d.avg_marks.toFixed(1):Number(d.avg_marks).toFixed(1):"0.0")+"% ",1),e("div",P,[e("div",{class:"h-1.5 rounded-full bg-emerald-500",style:m({width:`${Math.min(100,Math.max(0,Number(d.avg_marks||0)))}%`})},null,4)])])]))),128))])):(n(),a("p",$,"No student ranking data available yet."))]),e("div",L,[e("div",V,[t[1]||(t[1]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-800"},"Top 10 Students Needing Support"),e("p",{class:"text-xs text-gray-500"},"Lowest averages â€“ for follow-up and interventions.")],-1)),e("span",O," Top "+l(((h=s.bottomStudents)==null?void 0:h.length)||0),1)]),s.bottomStudents&&s.bottomStudents.length?(n(),a("div",W,[(n(!0),a(u,null,c(s.bottomStudents,(d,x)=>(n(),a("div",{key:d.student_id||x,class:"flex items-center justify-between gap-2 rounded-lg border border-gray-100 bg-slate-50 px-3 py-1.5"},[e("div",G,[e("span",Y,l(x+1),1),e("div",null,[e("div",z,l(d.full_name||d.exam_number||"Student"),1),e("div",H,[i(l(d.exam_number)+" ",1),d.class_level?(n(),a("span",U,"â€¢ "+l(d.class_level)+" "+l(d.stream),1)):p("",!0)])])]),e("div",q,[e("div",I,l(d.avg_marks?d.avg_marks.toFixed?d.avg_marks.toFixed(1):Number(d.avg_marks).toFixed(1):"0.0")+"% ",1),e("div",J,[e("div",{class:"h-1.5 rounded-full bg-rose-500",style:m({width:`${Math.min(100,Math.max(0,Number(d.avg_marks||0)))}%`})},null,4)])])]))),128))])):(n(),a("p",K,"No support ranking data available yet."))]),t[2]||(t[2]=e("div",{class:"flex flex-col justify-between rounded-xl bg-gradient-to-br from-slate-900 via-emerald-900 to-emerald-600 p-5 text-slate-50 shadow-sm lg:col-span-1"},[e("div",null,[e("p",{class:"text-[11px] font-semibold uppercase tracking-[0.15em] text-emerald-200"}," Ward Ranking "),e("h3",{class:"mt-1 text-lg font-semibold"},"Coming soon"),e("p",{class:"mt-1 text-[11px] text-emerald-100"}," Compare your school performance against other schools in the same ward with live league tables and trends. ")]),e("div",{class:"mt-4 flex items-end justify-between text-[11px]"},[e("div",{class:"space-y-1"},[e("p",{class:"text-emerald-100"},"Features on the way:"),e("ul",{class:"space-y-0.5 text-emerald-50"},[e("li",{class:"flex items-center gap-1"},[e("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-300"}),e("span",null,"Ward ranking table")]),e("li",{class:"flex items-center gap-1"},[e("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-300"}),e("span",null,"Trend graph over years")]),e("li",{class:"flex items-center gap-1"},[e("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-300"}),e("span",null,"Highlight of top improving schools")])])]),e("div",{class:"flex flex-col items-end text-right text-[10px] text-emerald-200"},[e("span",{class:"rounded-full bg-white/5 px-2 py-0.5"},"Ward league"),e("span",{class:"mt-1 text-[9px] uppercase tracking-[0.16em]"},"Coming in a future update")])])],-1))]),t[4]||(t[4]=e("div",{class:"flex items-center gap-2"},[e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"}," Year "),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[e("option",null,"2025"),e("option",null,"2024"),e("option",null,"2023")])],-1))])]}),default:y(()=>[e("div",Q,[e("div",X,[e("div",Z,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-xs font-medium text-gray-500"},"Total Students",-1)),e("p",ee,l(s.stats.students??0),1)]),t[6]||(t[6]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-50 text-emerald-600"},[e("span",{class:"text-lg"},"ðŸŽ“")],-1))]),t[11]||(t[11]=e("div",{class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},[e("div",null,[e("p",{class:"text-xs font-medium text-gray-500"},"Total Teachers"),e("p",{class:"mt-1 text-2xl font-semibold text-gray-900"},"0")]),e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-50 text-blue-600"},[e("span",{class:"text-lg"},"ðŸ‘©â€ðŸ«")])],-1)),e("div",te,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-xs font-medium text-gray-500"},"Total Subjects",-1)),e("p",se,l(s.stats.subjects??0),1)]),t[8]||(t[8]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-50 text-amber-600"},[e("span",{class:"text-lg"},"ðŸ“š")],-1))]),e("div",le,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-xs font-medium text-gray-500"},"Total Classes",-1)),e("p",ae,l(s.stats.classes??0),1)]),t[10]||(t[10]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-50 text-violet-600"},[e("span",{class:"text-lg"},"ðŸ«")],-1))]),t[12]||(t[12]=e("div",{class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},[e("div",null,[e("p",{class:"text-xs font-medium text-gray-500"},"Total Parents"),e("p",{class:"mt-1 text-2xl font-semibold text-gray-900"},"0")]),e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-rose-50 text-rose-600"},[e("span",{class:"text-lg"},"â¤ï¸")])],-1))]),e("div",ne,[e("div",de,[e("div",re,[e("div",null,[t[14]||(t[14]=e("h3",{class:"text-sm font-semibold text-gray-800"}," Results Analytics ",-1)),e("p",oe,[t[13]||(t[13]=i(" Year ",-1)),s.resultsSummary&&s.resultsSummary.year?(n(),a("span",ie,l(s.resultsSummary.year),1)):(n(),a("span",ue,"No results yet"))])]),s.resultsSummary&&s.resultsSummary.total?(n(),a("div",xe,[e("div",me,[t[15]||(t[15]=e("span",{class:"h-2 w-2 rounded-full bg-emerald-500"},null,-1)),e("span",null,"Pass: "+l(s.resultsSummary.passRate)+"%",1)]),e("div",ce,[t[16]||(t[16]=e("span",{class:"h-2 w-2 rounded-full bg-rose-500"},null,-1)),e("span",null,"Fail: "+l(s.resultsSummary.failRate)+"%",1)]),e("div",ge,[t[17]||(t[17]=i(" Total candidates: ",-1)),e("span",ye,l(s.resultsSummary.total),1)])])):p("",!0)]),e("div",pe,[e("div",fe,[t[20]||(t[20]=e("p",{class:"text-xs font-semibold text-gray-700"},"Pass / Fail",-1)),s.resultsSummary&&s.resultsSummary.total?(n(),a("div",be,[e("div",he,[t[18]||(t[18]=e("span",{class:"text-emerald-600 font-medium"},"Pass",-1)),e("span",null,l(s.resultsSummary.pass)+" ("+l(s.resultsSummary.passRate)+"%)",1)]),e("div",ve,[e("div",{class:"h-2 rounded-full bg-emerald-500 transition-all",style:m({width:`${s.resultsSummary.passRate}%`})},null,4)]),e("div",_e,[t[19]||(t[19]=e("span",{class:"text-rose-600 font-medium"},"Fail",-1)),e("span",null,l(s.resultsSummary.fail)+" ("+l(s.resultsSummary.failRate)+"%)",1)]),e("div",we,[e("div",{class:"h-2 rounded-full bg-rose-500 transition-all",style:m({width:`${s.resultsSummary.failRate}%`})},null,4)])])):(n(),a("p",Se,"No results data yet for this year."))]),e("div",ke,[e("div",je,[t[21]||(t[21]=e("h4",{class:"text-xs font-semibold text-gray-700"}," Grade distribution (Aâ€“F) ",-1)),s.resultsSummary&&s.resultsSummary.total?(n(),a("div",Ne,[(n(),a(u,null,c(["A","B","C","D","F"],r=>e("div",{key:r,class:"flex items-center justify-between gap-2"},[e("span",Te,l(r),1),e("div",Fe,[e("div",{class:"h-1.5 rounded-full bg-emerald-500 transition-all",style:m({width:s.resultsSummary.grades&&s.resultsSummary.total?`${Math.round((s.resultsSummary.grades[r]||0)/s.resultsSummary.total*100)}%`:"0%"})},null,4)]),e("span",Ae,l(s.resultsSummary.grades&&s.resultsSummary.grades[r]?s.resultsSummary.grades[r]:0),1)])),64))])):(n(),a("p",Re," No grades data available yet. "))])])])]),t[22]||(t[22]=e("div",{class:"space-y-4"},[e("div",{class:"rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},[e("div",{class:"flex items-center justify-between text-xs"},[e("h3",{class:"font-semibold text-gray-800"}," Teacher Pass Rate "),e("span",{class:"text-gray-400"},"Top 0")]),e("p",{class:"mt-3 text-xs text-gray-500"},"No data.")]),e("div",{class:"rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},[e("div",{class:"flex items-center justify-between text-xs"},[e("h3",{class:"font-semibold text-gray-800"}," Subject Average "),e("span",{class:"text-gray-400"},"Top 0")]),e("p",{class:"mt-3 text-xs text-gray-500"},"No data.")]),e("div",{class:"rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},[e("div",{class:"flex items-center justify-between text-xs"},[e("h3",{class:"font-semibold text-gray-800"}," Gender Pass Rate ")]),e("div",{class:"mt-3 space-y-2 text-xs text-gray-600"},[e("div",{class:"flex items-center justify-between gap-2"},[e("span",{class:"w-4 text-gray-500"},"M"),e("div",{class:"flex-1 rounded-full bg-gray-100"},[e("div",{class:"h-1.5 w-0 rounded-full bg-emerald-500"})]),e("span",null,"0%")]),e("div",{class:"flex items-center justify-between gap-2"},[e("span",{class:"w-4 text-gray-500"},"F"),e("div",{class:"flex-1 rounded-full bg-gray-100"},[e("div",{class:"h-1.5 w-0 rounded-full bg-rose-500"})]),e("span",null,"0%")])])])],-1))]),e("div",Ce,[e("div",Be,[e("div",De,[t[24]||(t[24]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-800"}," Calendar & Events "),e("p",{class:"text-xs text-gray-500"},"Upcoming school events from the calendar.")],-1)),g(f(v),{href:b.route("calendar"),class:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 hover:bg-emerald-100"},{default:y(()=>[...t[23]||(t[23]=[i(" Open Calendar ",-1)])]),_:1},8,["href"])]),!o.upcomingEvents||!o.upcomingEvents.length?(n(),a("div",Ee," No upcoming events have been added yet. ")):(n(),a("ul",Me,[(n(!0),a(u,null,c(o.upcomingEvents,r=>(n(),a("li",{key:r.id,class:"flex items-start justify-between gap-2 rounded-lg border border-gray-100 bg-slate-50 px-3 py-2"},[e("div",null,[e("div",Pe,l(new Date(r.date).toLocaleDateString()),1),e("div",$e,l(r.title),1),r.description?(n(),a("div",Le,l(r.description),1)):p("",!0)])]))),128))]))]),e("div",Ve,[e("div",Oe,[t[26]||(t[26]=e("h3",{class:"text-sm font-semibold text-gray-800"}," Latest Announcements ",-1)),g(f(v),{href:b.route("announcements.index"),class:"text-[10px] font-medium text-emerald-700 hover:text-emerald-800"},{default:y(()=>[...t[25]||(t[25]=[i(" View all ",-1)])]),_:1},8,["href"])]),!o.recentAnnouncements||!o.recentAnnouncements.length?(n(),a("div",We," No announcements yet. ")):(n(),a("ul",Ge,[(n(!0),a(u,null,c(o.recentAnnouncements,r=>(n(),a("li",{key:r.id,class:"rounded-lg border border-gray-100 bg-slate-50 px-3 py-2"},[e("div",Ye,l(r.title),1),e("div",ze,l(r.body),1),e("div",He,l(new Date(r.created_at).toLocaleString()),1)]))),128))]))])])])]),_:1})],64))}};export{Ke as default};

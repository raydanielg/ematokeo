import{_}from"./AuthenticatedLayout-B6QgYQp6.js";import{c as a,a as g,u as f,h as w,w as y,b as t,t as l,d as p,f as i,o as n,C as m,F as u,r as c,l as v}from"./app-nSAAE8qT.js";import"./ApplicationLogo-D4OVYHGK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex items-center justify-between"},k={class:"grid gap-4 lg:grid-cols-3"},j={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-1"},N={class:"mb-3 flex items-center justify-between"},T={class:"inline-flex items-center rounded-full bg-emerald-50 px-2.5 py-0.5 text-[10px] font-medium text-emerald-700"},F={key:0,class:"space-y-1.5 text-[11px] text-gray-700"},A={class:"flex items-center gap-2"},C={class:"flex h-5 w-5 items-center justify-center rounded-full bg-emerald-100 text-[10px] font-semibold text-emerald-700"},R={class:"font-semibold text-gray-900 truncate max-w-[140px]"},D={class:"text-[10px] text-gray-500"},E={key:0,class:"ml-1"},M={class:"text-right"},B={class:"text-xs font-semibold text-emerald-700"},P={class:"mt-0.5 h-1.5 w-16 overflow-hidden rounded-full bg-emerald-100"},$={key:1,class:"text-[11px] text-gray-500"},L={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-1"},V={class:"mb-3 flex items-center justify-between"},O={class:"inline-flex items-center rounded-full bg-rose-50 px-2.5 py-0.5 text-[10px] font-medium text-rose-700"},W={key:0,class:"space-y-1.5 text-[11px] text-gray-700"},G={class:"flex items-center gap-2"},Y={class:"flex h-5 w-5 items-center justify-center rounded-full bg-rose-50 text-[10px] font-semibold text-rose-700"},z={class:"font-semibold text-gray-900 truncate max-w-[140px]"},H={class:"text-[10px] text-gray-500"},U={key:0,class:"ml-1"},q={class:"text-right"},I={class:"text-xs font-semibold text-rose-700"},J={class:"mt-0.5 h-1.5 w-16 overflow-hidden rounded-full bg-rose-100"},K={key:1,class:"text-[11px] text-gray-500"},Q={class:"space-y-6"},X={class:"grid gap-4 md:grid-cols-3 lg:grid-cols-5"},Z={class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},tt={class:"mt-1 text-2xl font-semibold text-gray-900"},et={class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},st={class:"mt-1 text-2xl font-semibold text-gray-900"},lt={class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},at={class:"mt-1 text-2xl font-semibold text-gray-900"},nt={class:"grid gap-4 lg:grid-cols-3"},dt={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-2"},rt={class:"flex items-center justify-between"},ot={class:"text-xs text-gray-500"},it={key:0,class:"font-semibold text-gray-700"},ut={key:1,class:"italic"},xt={key:0,class:"flex items-center gap-3 text-xs"},mt={class:"flex items-center gap-1 text-emerald-600"},ct={class:"flex items-center gap-1 text-rose-600"},gt={class:"text-[11px] text-gray-500"},yt={class:"font-semibold text-gray-700"},pt={class:"mt-4 grid gap-4 md:grid-cols-3"},ft={class:"flex flex-col justify-between rounded-lg bg-slate-50 p-4 md:col-span-1"},bt={key:0,class:"mt-3 space-y-2 text-[11px] text-gray-700"},ht={class:"flex items-center justify-between"},vt={class:"h-2 w-full overflow-hidden rounded-full bg-emerald-100"},_t={class:"mt-3 flex items-center justify-between"},wt={class:"h-2 w-full overflow-hidden rounded-full bg-rose-100"},St={key:1,class:"mt-3 text-xs text-gray-500"},kt={class:"space-y-4 md:col-span-2"},jt={class:"rounded-lg border border-dashed border-gray-200 p-3"},Nt={key:0,class:"mt-2 space-y-1 text-[11px] text-gray-700"},Tt={class:"w-4 font-semibold text-gray-700"},Ft={class:"flex-1 rounded-full bg-gray-100"},At={class:"w-16 text-right text-[10px] text-gray-600"},Ct={key:1,class:"mt-1 text-xs text-gray-500"},Rt={class:"grid gap-4 lg:grid-cols-3"},Dt={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100 lg:col-span-2"},Et={class:"mb-3 flex items-center justify-between"},Mt={key:0,class:"text-[11px] text-gray-500"},Bt={key:1,class:"space-y-2 text-[11px]"},Pt={class:"text-[10px] font-semibold text-emerald-700"},$t={class:"text-[11px] font-semibold text-gray-900"},Lt={key:0,class:"text-[10px] text-gray-600"},Vt={class:"rounded-xl bg-white p-5 text-xs text-gray-700 shadow-sm ring-1 ring-gray-100"},Ot={class:"mb-3 flex items-center justify-between"},Wt={key:0,class:"text-[11px] text-gray-500"},Gt={key:1,class:"space-y-2 text-[11px]"},Yt={class:"text-[11px] font-semibold text-gray-900"},zt={class:"mt-0.5 line-clamp-2 text-[10px] text-gray-600"},Ht={class:"mt-0.5 text-[10px] text-gray-400"},Kt={__name:"Dashboard",props:{stats:{type:Object,default:()=>({})},upcomingEvents:{type:Array,default:()=>[]},recentAnnouncements:{type:Array,default:()=>[]},resultsSummary:{type:Object,default:()=>({})},topStudents:{type:Array,default:()=>[]},bottomStudents:{type:Array,default:()=>[]}},setup(o){const s=o;return(b,e)=>(n(),a(u,null,[g(f(w),{title:"E-Matokeo Dashboard"}),g(_,null,{header:y(()=>{var r,h;return[t("div",S,[e[3]||(e[3]=t("div",null,[t("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Overview "),t("p",{class:"mt-1 text-sm text-gray-500"}," Summary of key metrics for the current academic year. ")],-1)),t("div",k,[t("div",j,[t("div",N,[e[0]||(e[0]=t("div",null,[t("h3",{class:"text-sm font-semibold text-gray-800"},"Top 10 Best Students"),t("p",{class:"text-xs text-gray-500"},"Based on average marks (current year).")],-1)),t("span",T," Top "+l(((r=s.topStudents)==null?void 0:r.length)||0),1)]),s.topStudents&&s.topStudents.length?(n(),a("div",F,[(n(!0),a(u,null,c(s.topStudents,(d,x)=>(n(),a("div",{key:d.student_id||x,class:"flex items-center justify-between gap-2 rounded-lg border border-gray-100 bg-slate-50 px-3 py-1.5"},[t("div",A,[t("span",C,l(x+1),1),t("div",null,[t("div",R,l(d.full_name||d.exam_number||"Student"),1),t("div",D,[i(l(d.exam_number)+" ",1),d.class_level?(n(),a("span",E,"â€¢ "+l(d.class_level)+" "+l(d.stream),1)):p("",!0)])])]),t("div",M,[t("div",B,l(d.avg_marks?d.avg_marks.toFixed?d.avg_marks.toFixed(1):Number(d.avg_marks).toFixed(1):"0.0")+"% ",1),t("div",P,[t("div",{class:"h-1.5 rounded-full bg-emerald-500",style:m({width:`${Math.min(100,Math.max(0,Number(d.avg_marks||0)))}%`})},null,4)])])]))),128))])):(n(),a("p",$,"No student ranking data available yet."))]),t("div",L,[t("div",V,[e[1]||(e[1]=t("div",null,[t("h3",{class:"text-sm font-semibold text-gray-800"},"Top 10 Students Needing Support"),t("p",{class:"text-xs text-gray-500"},"Lowest averages â€“ for follow-up and interventions.")],-1)),t("span",O," Top "+l(((h=s.bottomStudents)==null?void 0:h.length)||0),1)]),s.bottomStudents&&s.bottomStudents.length?(n(),a("div",W,[(n(!0),a(u,null,c(s.bottomStudents,(d,x)=>(n(),a("div",{key:d.student_id||x,class:"flex items-center justify-between gap-2 rounded-lg border border-gray-100 bg-slate-50 px-3 py-1.5"},[t("div",G,[t("span",Y,l(x+1),1),t("div",null,[t("div",z,l(d.full_name||d.exam_number||"Student"),1),t("div",H,[i(l(d.exam_number)+" ",1),d.class_level?(n(),a("span",U,"â€¢ "+l(d.class_level)+" "+l(d.stream),1)):p("",!0)])])]),t("div",q,[t("div",I,l(d.avg_marks?d.avg_marks.toFixed?d.avg_marks.toFixed(1):Number(d.avg_marks).toFixed(1):"0.0")+"% ",1),t("div",J,[t("div",{class:"h-1.5 rounded-full bg-rose-500",style:m({width:`${Math.min(100,Math.max(0,Number(d.avg_marks||0)))}%`})},null,4)])])]))),128))])):(n(),a("p",K,"No support ranking data available yet."))]),e[2]||(e[2]=t("div",{class:"flex flex-col justify-between rounded-xl bg-gradient-to-br from-slate-900 via-emerald-900 to-emerald-600 p-5 text-slate-50 shadow-sm lg:col-span-1"},[t("div",null,[t("p",{class:"text-[11px] font-semibold uppercase tracking-[0.15em] text-emerald-200"}," Ward Ranking "),t("h3",{class:"mt-1 text-lg font-semibold"},"Coming soon"),t("p",{class:"mt-1 text-[11px] text-emerald-100"}," Compare your school performance against other schools in the same ward with live league tables and trends. ")]),t("div",{class:"mt-4 flex items-end justify-between text-[11px]"},[t("div",{class:"space-y-1"},[t("p",{class:"text-emerald-100"},"Features on the way:"),t("ul",{class:"space-y-0.5 text-emerald-50"},[t("li",{class:"flex items-center gap-1"},[t("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-300"}),t("span",null,"Ward ranking table")]),t("li",{class:"flex items-center gap-1"},[t("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-300"}),t("span",null,"Trend graph over years")]),t("li",{class:"flex items-center gap-1"},[t("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-300"}),t("span",null,"Highlight of top improving schools")])])]),t("div",{class:"flex flex-col items-end text-right text-[10px] text-emerald-200"},[t("span",{class:"rounded-full bg-white/5 px-2 py-0.5"},"Ward league"),t("span",{class:"mt-1 text-[9px] uppercase tracking-[0.16em]"},"Coming in a future update")])])],-1))]),e[4]||(e[4]=t("div",{class:"flex items-center gap-2"},[t("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"}," Year "),t("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[t("option",null,"2025"),t("option",null,"2024"),t("option",null,"2023")])],-1))])]}),default:y(()=>[t("div",Q,[t("div",X,[t("div",Z,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-xs font-medium text-gray-500"},"Total Students",-1)),t("p",tt,l(s.stats.students??0),1)]),e[6]||(e[6]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-50 text-emerald-600"},[t("span",{class:"text-lg"},"ðŸŽ“")],-1))]),e[11]||(e[11]=t("div",{class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},[t("div",null,[t("p",{class:"text-xs font-medium text-gray-500"},"Total Teachers"),t("p",{class:"mt-1 text-2xl font-semibold text-gray-900"},"0")]),t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-50 text-blue-600"},[t("span",{class:"text-lg"},"ðŸ‘©â€ðŸ«")])],-1)),t("div",et,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-xs font-medium text-gray-500"},"Total Subjects",-1)),t("p",st,l(s.stats.subjects??0),1)]),e[8]||(e[8]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-50 text-amber-600"},[t("span",{class:"text-lg"},"ðŸ“š")],-1))]),t("div",lt,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-xs font-medium text-gray-500"},"Total Classes",-1)),t("p",at,l(s.stats.classes??0),1)]),e[10]||(e[10]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-50 text-violet-600"},[t("span",{class:"text-lg"},"ðŸ«")],-1))]),e[12]||(e[12]=t("div",{class:"flex items-center justify-between rounded-xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100"},[t("div",null,[t("p",{class:"text-xs font-medium text-gray-500"},"Total Parents"),t("p",{class:"mt-1 text-2xl font-semibold text-gray-900"},"0")]),t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-rose-50 text-rose-600"},[t("span",{class:"text-lg"},"â¤ï¸")])],-1))]),t("div",nt,[t("div",dt,[t("div",rt,[t("div",null,[e[14]||(e[14]=t("h3",{class:"text-sm font-semibold text-gray-800"}," Results Analytics ",-1)),t("p",ot,[e[13]||(e[13]=i(" Year ",-1)),s.resultsSummary&&s.resultsSummary.year?(n(),a("span",it,l(s.resultsSummary.year),1)):(n(),a("span",ut,"No results yet"))])]),s.resultsSummary&&s.resultsSummary.total?(n(),a("div",xt,[t("div",mt,[e[15]||(e[15]=t("span",{class:"h-2 w-2 rounded-full bg-emerald-500"},null,-1)),t("span",null,"Pass: "+l(s.resultsSummary.passRate)+"%",1)]),t("div",ct,[e[16]||(e[16]=t("span",{class:"h-2 w-2 rounded-full bg-rose-500"},null,-1)),t("span",null,"Fail: "+l(s.resultsSummary.failRate)+"%",1)]),t("div",gt,[e[17]||(e[17]=i(" Total candidates: ",-1)),t("span",yt,l(s.resultsSummary.total),1)])])):p("",!0)]),t("div",pt,[t("div",ft,[e[20]||(e[20]=t("p",{class:"text-xs font-semibold text-gray-700"},"Pass / Fail",-1)),s.resultsSummary&&s.resultsSummary.total?(n(),a("div",bt,[t("div",ht,[e[18]||(e[18]=t("span",{class:"text-emerald-600 font-medium"},"Pass",-1)),t("span",null,l(s.resultsSummary.pass)+" ("+l(s.resultsSummary.passRate)+"%)",1)]),t("div",vt,[t("div",{class:"h-2 rounded-full bg-emerald-500 transition-all",style:m({width:`${s.resultsSummary.passRate}%`})},null,4)]),t("div",_t,[e[19]||(e[19]=t("span",{class:"text-rose-600 font-medium"},"Fail",-1)),t("span",null,l(s.resultsSummary.fail)+" ("+l(s.resultsSummary.failRate)+"%)",1)]),t("div",wt,[t("div",{class:"h-2 rounded-full bg-rose-500 transition-all",style:m({width:`${s.resultsSummary.failRate}%`})},null,4)])])):(n(),a("p",St,"No results data yet for this year."))]),t("div",kt,[t("div",jt,[e[21]||(e[21]=t("h4",{class:"text-xs font-semibold text-gray-700"}," Grade distribution (Aâ€“F) ",-1)),s.resultsSummary&&s.resultsSummary.total?(n(),a("div",Nt,[(n(),a(u,null,c(["A","B","C","D","F"],r=>t("div",{key:r,class:"flex items-center justify-between gap-2"},[t("span",Tt,l(r),1),t("div",Ft,[t("div",{class:"h-1.5 rounded-full bg-emerald-500 transition-all",style:m({width:s.resultsSummary.grades&&s.resultsSummary.total?`${Math.round((s.resultsSummary.grades[r]||0)/s.resultsSummary.total*100)}%`:"0%"})},null,4)]),t("span",At,l(s.resultsSummary.grades&&s.resultsSummary.grades[r]?s.resultsSummary.grades[r]:0),1)])),64))])):(n(),a("p",Ct," No grades data available yet. "))])])])]),e[22]||(e[22]=t("div",{class:"space-y-4"},[t("div",{class:"rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},[t("div",{class:"flex items-center justify-between text-xs"},[t("h3",{class:"font-semibold text-gray-800"}," Teacher Pass Rate "),t("span",{class:"text-gray-400"},"Top 0")]),t("p",{class:"mt-3 text-xs text-gray-500"},"No data.")]),t("div",{class:"rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},[t("div",{class:"flex items-center justify-between text-xs"},[t("h3",{class:"font-semibold text-gray-800"}," Subject Average "),t("span",{class:"text-gray-400"},"Top 0")]),t("p",{class:"mt-3 text-xs text-gray-500"},"No data.")]),t("div",{class:"rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},[t("div",{class:"flex items-center justify-between text-xs"},[t("h3",{class:"font-semibold text-gray-800"}," Gender Pass Rate ")]),t("div",{class:"mt-3 space-y-2 text-xs text-gray-600"},[t("div",{class:"flex items-center justify-between gap-2"},[t("span",{class:"w-4 text-gray-500"},"M"),t("div",{class:"flex-1 rounded-full bg-gray-100"},[t("div",{class:"h-1.5 w-0 rounded-full bg-emerald-500"})]),t("span",null,"0%")]),t("div",{class:"flex items-center justify-between gap-2"},[t("span",{class:"w-4 text-gray-500"},"F"),t("div",{class:"flex-1 rounded-full bg-gray-100"},[t("div",{class:"h-1.5 w-0 rounded-full bg-rose-500"})]),t("span",null,"0%")])])])],-1))]),t("div",Rt,[t("div",Dt,[t("div",Et,[e[24]||(e[24]=t("div",null,[t("h3",{class:"text-sm font-semibold text-gray-800"}," Calendar & Events "),t("p",{class:"text-xs text-gray-500"},"Upcoming school events from the calendar.")],-1)),g(f(v),{href:b.route("calendar"),class:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 hover:bg-emerald-100"},{default:y(()=>[...e[23]||(e[23]=[i(" Open Calendar ",-1)])]),_:1},8,["href"])]),!o.upcomingEvents||!o.upcomingEvents.length?(n(),a("div",Mt," No upcoming events have been added yet. ")):(n(),a("ul",Bt,[(n(!0),a(u,null,c(o.upcomingEvents,r=>(n(),a("li",{key:r.id,class:"flex items-start justify-between gap-2 rounded-lg border border-gray-100 bg-slate-50 px-3 py-2"},[t("div",null,[t("div",Pt,l(new Date(r.date).toLocaleDateString()),1),t("div",$t,l(r.title),1),r.description?(n(),a("div",Lt,l(r.description),1)):p("",!0)])]))),128))]))]),t("div",Vt,[t("div",Ot,[e[26]||(e[26]=t("h3",{class:"text-sm font-semibold text-gray-800"}," Latest Announcements ",-1)),g(f(v),{href:b.route("announcements.index"),class:"text-[10px] font-medium text-emerald-700 hover:text-emerald-800"},{default:y(()=>[...e[25]||(e[25]=[i(" View all ",-1)])]),_:1},8,["href"])]),!o.recentAnnouncements||!o.recentAnnouncements.length?(n(),a("div",Wt," No announcements yet. ")):(n(),a("ul",Gt,[(n(!0),a(u,null,c(o.recentAnnouncements,r=>(n(),a("li",{key:r.id,class:"rounded-lg border border-gray-100 bg-slate-50 px-3 py-2"},[t("div",Yt,l(r.title),1),t("div",zt,l(r.body),1),t("div",Ht,l(new Date(r.created_at).toLocaleString()),1)]))),128))]))])])])]),_:1})],64))}};export{Kt as default};

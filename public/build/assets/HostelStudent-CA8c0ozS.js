import{i as C,j as L,c as l,a as r,u as d,h as T,w as i,b as t,t as a,k as H,v as N,d as y,o as n,F as k,r as V,s as j,l as m,f as h}from"./app-B9lFbZ76.js";import{_ as B}from"./AuthenticatedLayout-DMkhSAnm.js";import"./ApplicationLogo-5RlzXOwq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"flex flex-wrap items-center justify-between gap-3"},A={class:"flex flex-wrap items-center gap-2 text-xs"},D={class:"space-y-4"},F={class:"flex flex-wrap items-center justify-between gap-2 text-xs text-gray-600"},P={class:"ml-1 font-semibold text-gray-900"},R={class:"flex items-center gap-2"},E={class:"overflow-x-auto rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},z={class:"min-w-full border-collapse text-left text-[11px]"},G={key:0},J={class:"px-3 py-2 align-top"},M={class:"px-3 py-2 align-top"},O={class:"font-medium text-gray-900"},$={class:"text-[10px] text-gray-500"},q={class:"px-3 py-2 align-top"},I={class:"px-3 py-2 align-top"},K={key:0,class:"text-[10px] text-gray-500"},Q={class:"px-3 py-2 align-top"},W={key:0,class:"text-[10px] text-gray-500"},X={class:"px-3 py-2 align-top text-right"},Y={class:"px-3 py-2 align-top text-right"},Z={class:"px-3 py-2 align-top text-right"},tt={class:"px-3 py-2 align-top"},et={class:"px-3 py-2 align-top text-right"},st={class:"inline-flex items-center gap-1"},it={__name:"HostelStudent",props:{hostelStudents:{type:Array,default:()=>[]}},setup(f){const _=f,u=C(""),b=L(()=>{const o=u.value.trim().toLowerCase();return o?_.hostelStudents.filter(s=>{const e=String(s.student_name||"").toLowerCase(),p=String(s.exam_number||"").toLowerCase();return e.includes(o)||p.includes(o)}):_.hostelStudents});return(o,s)=>(n(),l(k,null,[r(d(T),{title:"Hostel Students"}),r(B,null,{header:i(()=>[t("div",U,[s[2]||(s[2]=t("div",null,[t("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Hostel Students "),t("p",{class:"mt-1 text-sm text-gray-500"}," Directory of registered students in this school. Use allocations page to assign hostels. ")],-1)),t("div",A,[r(d(m),{href:o.route("hostel-allocations.index"),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"},{default:i(()=>[...s[1]||(s[1]=[h(" Open Hostel Allocations ",-1)])]),_:1},8,["href"])])])]),default:i(()=>[t("div",D,[t("div",F,[t("div",null,[s[3]||(s[3]=t("span",{class:"font-medium text-gray-700"},"Total hostel students:",-1)),t("span",P,a(f.hostelStudents.length),1)]),t("div",R,[s[4]||(s[4]=t("label",{class:"text-[11px] font-medium text-gray-600"},"Search student",-1)),H(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e),type:"text",class:"w-52 rounded-md border border-gray-300 px-3 py-1.5 text-[11px] text-gray-800 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"Type name or exam number"},null,512),[[N,u.value]])])]),t("div",E,[t("table",z,[s[9]||(s[9]=t("thead",null,[t("tr",{class:"border-b border-gray-200 bg-gray-50 text-[11px] font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"px-3 py-2"},"#"),t("th",{class:"px-3 py-2"},"Student"),t("th",{class:"px-3 py-2"},"Class"),t("th",{class:"px-3 py-2"},"Hostel"),t("th",{class:"px-3 py-2"},"Guardian"),t("th",{class:"px-3 py-2 text-right"},"Fee"),t("th",{class:"px-3 py-2 text-right"},"Paid"),t("th",{class:"px-3 py-2 text-right"},"Balance"),t("th",{class:"px-3 py-2"},"Status"),t("th",{class:"px-3 py-2 text-right"},"Actions")])],-1)),t("tbody",null,[b.value.length?y("",!0):(n(),l("tr",G,[...s[5]||(s[5]=[t("td",{colspan:"10",class:"px-3 py-6 text-center text-[11px] text-gray-400"}," No hostel students match your search. ",-1)])])),(n(!0),l(k,null,V(b.value,(e,p)=>{var x,v,g,w,c,S;return n(),l("tr",{key:e.id||p,class:"border-b border-gray-100 text-[11px] text-gray-700 hover:bg-gray-50"},[t("td",J,a(p+1),1),t("td",M,[t("div",O,a(e.student_name||"-"),1),t("div",$,"Exam: "+a(e.exam_number||"-"),1)]),t("td",q,a(e.class_name||"-"),1),t("td",I,[t("div",null,a(e.hostel_name||"-"),1),e.room_name?(n(),l("div",K,"Room: "+a(e.room_name),1)):y("",!0)]),t("td",Q,[t("div",null,a(e.guardian_name||"-"),1),e.guardian_phone?(n(),l("div",W,a(e.guardian_phone),1)):y("",!0)]),t("td",X,"TSh "+a(((v=(x=e.amount)==null?void 0:x.toLocaleString)==null?void 0:v.call(x))??e.amount),1),t("td",Y,"TSh "+a(((w=(g=e.paid)==null?void 0:g.toLocaleString)==null?void 0:w.call(g))??e.paid),1),t("td",Z,"TSh "+a(((S=(c=e.balance)==null?void 0:c.toLocaleString)==null?void 0:S.call(c))??e.balance),1),t("td",tt,[t("span",{class:j(["inline-flex rounded-full px-2 py-0.5 text-[10px] font-semibold",{"bg-emerald-50 text-emerald-700":e.status==="Paid","bg-amber-50 text-amber-700":e.status==="Partial","bg-rose-50 text-rose-700":!e.status||e.status==="Unpaid"}])},a(e.status||"Unpaid"),3)]),t("td",et,[t("div",st,[r(d(m),{href:o.route("hostel-students.joining",e.id),class:"inline-flex items-center rounded-md bg-white px-2 py-1 text-[10px] font-semibold text-emerald-700 ring-1 ring-emerald-200 hover:bg-emerald-50"},{default:i(()=>[...s[6]||(s[6]=[h(" Joining ",-1)])]),_:1},8,["href"]),r(d(m),{href:o.route("hostel-students.report",e.id),class:"inline-flex items-center rounded-md bg-white px-2 py-1 text-[10px] font-semibold text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50"},{default:i(()=>[...s[7]||(s[7]=[h(" Report ",-1)])]),_:1},8,["href"]),r(d(m),{href:o.route("hostel-payments.receipt",e.id),class:"inline-flex items-center rounded-md bg-white px-2 py-1 text-[10px] font-semibold text-indigo-600 ring-1 ring-indigo-200 hover:bg-indigo-50"},{default:i(()=>[...s[8]||(s[8]=[h(" Receipt ",-1)])]),_:1},8,["href"])])])])}),128))])])])])]),_:1})],64))}};export{it as default};

import{_ as H}from"./AuthenticatedLayout-BUHB3P0T.js";import{c as n,a as b,u as f,h as E,w as _,b as t,f as i,t as l,o,F as m,r as g,d,e as Y,l as R}from"./app-BcZSGutu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"flex flex-wrap items-center justify-between gap-3"},M={class:"mt-1 text-sm text-gray-500"},j={class:"flex flex-wrap items-center gap-2 text-xs"},C={class:"mx-auto max-w-3xl rounded-xl bg-white p-6 text-xs text-gray-800 shadow-sm ring-1 ring-gray-100 print:shadow-none print:ring-0"},P={class:"border-b border-gray-200 pb-4 text-center"},B={class:"mt-1 text-[10px] font-semibold uppercase tracking-wide text-gray-700"},O={class:"ml-1"},V={class:"text-[11px] font-semibold uppercase tracking-wide text-gray-900"},$={class:"text-[10px] text-gray-600"},D={class:"text-[10px] text-gray-600"},G={class:"mt-4 grid gap-3 md:grid-cols-2 text-[11px]"},I={class:"space-y-1"},U={class:"space-y-1"},F={class:"mt-4 grid gap-3 md:grid-cols-2 text-[11px]"},z={class:"space-y-1"},J={class:"space-y-1"},K={class:"mt-5 space-y-1 text-[11px]"},Q={class:"ml-1"},W={class:"ml-1"},X={class:"ml-1"},Z={class:"mt-6 space-y-2 text-[11px]"},q={key:0,class:"text-[11px] text-gray-500"},tt={key:1,class:"overflow-x-auto rounded-md border border-gray-200"},et={class:"min-w-full border-collapse text-left text-[11px]"},st={class:"px-3 py-1.5 align-top"},lt={class:"font-semibold text-gray-800"},at={class:"text-[10px] text-gray-500"},ot={class:"px-3 py-1.5 align-top"},nt={class:"px-3 py-1.5 align-top text-right"},it={class:"px-3 py-1.5 align-top"},dt={class:"mt-5 space-y-1 text-[11px]"},rt={key:0,class:"text-gray-500"},mt={key:1,class:"space-y-3"},xt={key:0,class:"text-[11px] font-semibold text-gray-800"},ut={key:1,class:"mt-1"},pt={class:"ml-4 list-disc space-y-0.5 text-[11px] text-gray-700"},ct={key:2,class:"mt-1"},_t={class:"ml-4 list-disc space-y-0.5 text-[11px] text-gray-700"},gt={class:"mt-8 grid gap-6 text-[10px] text-gray-700 md:grid-cols-2"},yt={class:"mt-2"},bt={class:"mt-2"},St={__name:"HostelStudentReport",props:{allocation:{type:Object,default:()=>({})},school:{type:Object,default:()=>null},academicYear:{type:String,default:""},exams:{type:Array,default:()=>[]},requirements:{type:Array,default:()=>[]}},setup(s){const T=()=>{window.print()};return(x,e)=>(o(),n(m,null,[b(f(E),{title:"Hostel Student Report"}),b(H,null,{header:_(()=>[t("div",L,[t("div",null,[e[0]||(e[0]=t("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"Hostel Student Report",-1)),t("p",M," Summary of hostel allocation, guardian details and payments for "+l(s.allocation.student_name||"student")+". ",1)]),t("div",j,[b(f(R),{href:x.route("hostel-students.index"),class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-[11px] font-semibold text-gray-700 shadow-sm ring-1 ring-gray-200 hover:bg-gray-50"},{default:_(()=>[...e[1]||(e[1]=[i(" â† Back to hostel students ",-1)])]),_:1},8,["href"]),s.allocation.id?(o(),Y(f(R),{key:0,href:x.route("hostel-payments.receipt",s.allocation.id),class:"inline-flex items-center rounded-md bg-white px-3 py-1.5 text-[11px] font-semibold text-indigo-600 shadow-sm ring-1 ring-indigo-200 hover:bg-indigo-50"},{default:_(()=>[...e[2]||(e[2]=[i(" View receipt ",-1)])]),_:1},8,["href"])):d("",!0),t("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:T}," Print report ")])])]),default:_(()=>{var h,k,S,v,u,w,p,N,c,A;return[t("div",C,[t("section",P,[e[5]||(e[5]=t("img",{src:"/images/emblem.png",alt:"Emblem",class:"mx-auto h-10 w-auto object-contain"},null,-1)),t("p",B,[e[3]||(e[3]=i(" HALMASHAURI YA ",-1)),t("span",O,l(((h=s.school)==null?void 0:h.district)||"MANISPAA"),1)]),t("p",V,l(((k=s.school)==null?void 0:k.name)||"School Name"),1),t("p",$,[i(" TEL: "+l(((S=s.school)==null?void 0:S.phone)||"N/A")+" ",1),e[4]||(e[4]=t("span",{class:"mx-1"},"|",-1)),i(" EMAIL: "+l(((v=s.school)==null?void 0:v.email)||"N/A"),1)]),e[6]||(e[6]=t("p",{class:"mt-1 text-[11px] font-semibold text-gray-800"},"HOSTEL STUDENT SUMMARY REPORT",-1)),t("p",D,"Academic Year "+l(s.academicYear||"________"),1)]),t("section",G,[t("div",I,[t("p",null,[e[7]||(e[7]=t("span",{class:"font-semibold"},"Student:",-1)),i(" "+l(s.allocation.student_name||"-"),1)]),t("p",null,[e[8]||(e[8]=t("span",{class:"font-semibold"},"Exam No.:",-1)),i(" "+l(s.allocation.exam_number||"-"),1)]),t("p",null,[e[9]||(e[9]=t("span",{class:"font-semibold"},"Class:",-1)),i(" "+l(s.allocation.class_name||"-"),1)]),t("p",null,[e[10]||(e[10]=t("span",{class:"font-semibold"},"Gender:",-1)),i(" "+l(s.allocation.gender||"-"),1)])]),t("div",U,[t("p",null,[e[11]||(e[11]=t("span",{class:"font-semibold"},"Hostel:",-1)),i(" "+l(s.allocation.hostel_name||"-"),1)]),t("p",null,[e[12]||(e[12]=t("span",{class:"font-semibold"},"Room:",-1)),i(" "+l(s.allocation.room_name||"-"),1)]),t("p",null,[e[13]||(e[13]=t("span",{class:"font-semibold"},"Status:",-1)),i(" "+l(s.allocation.status||"Unpaid"),1)])])]),t("section",F,[t("div",z,[t("p",null,[e[14]||(e[14]=t("span",{class:"font-semibold"},"Guardian name:",-1)),i(" "+l(s.allocation.guardian_name||"-"),1)]),t("p",null,[e[15]||(e[15]=t("span",{class:"font-semibold"},"Guardian phone:",-1)),i(" "+l(s.allocation.guardian_phone||"-"),1)])]),t("div",J,[t("p",null,[e[16]||(e[16]=t("span",{class:"font-semibold"},"Relationship:",-1)),i(" "+l(s.allocation.guardian_relationship||"-"),1)]),t("p",null,[e[17]||(e[17]=t("span",{class:"font-semibold"},"Notes:",-1)),i(" "+l(s.allocation.notes||"-"),1)])])]),t("section",K,[e[21]||(e[21]=t("h3",{class:"text-[12px] font-semibold text-gray-800"},"Hostel Fee Summary",-1)),t("p",null,[e[18]||(e[18]=t("span",{class:"font-semibold"},"Total hostel fee:",-1)),t("span",Q,"TSh "+l(((w=(u=s.allocation.amount)==null?void 0:u.toLocaleString)==null?void 0:w.call(u))??s.allocation.amount),1)]),t("p",null,[e[19]||(e[19]=t("span",{class:"font-semibold"},"Total paid:",-1)),t("span",W,"TSh "+l(((N=(p=s.allocation.paid)==null?void 0:p.toLocaleString)==null?void 0:N.call(p))??s.allocation.paid),1)]),t("p",null,[e[20]||(e[20]=t("span",{class:"font-semibold"},"Outstanding balance:",-1)),t("span",X,"TSh "+l(((A=(c=s.allocation.balance)==null?void 0:c.toLocaleString)==null?void 0:A.call(c))??s.allocation.balance),1)])]),t("section",Z,[e[23]||(e[23]=t("h3",{class:"text-[12px] font-semibold text-gray-800"},"Exam Results (Current Academic Year)",-1)),s.exams.length?(o(),n("div",tt,[t("table",et,[e[22]||(e[22]=t("thead",null,[t("tr",{class:"border-b border-gray-200 bg-gray-50 text-[11px] font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"px-3 py-1.5"},"Exam"),t("th",{class:"px-3 py-1.5"},"Subject"),t("th",{class:"px-3 py-1.5 text-right"},"Marks"),t("th",{class:"px-3 py-1.5"},"Grade")])],-1)),t("tbody",null,[(o(!0),n(m,null,g(s.exams,(a,r)=>(o(),n("tr",{key:r,class:"border-b border-gray-100 text-[11px] text-gray-700"},[t("td",st,[t("div",lt,l(a.exam_name||"-"),1),t("div",at,l(a.exam_type||""),1)]),t("td",ot,l(a.subject_name||a.subject_code||"-"),1),t("td",nt,l(a.marks===null||a.marks===void 0?"-":a.marks),1),t("td",it,l(a.grade||"-"),1)]))),128))])])])):(o(),n("p",q," No exam results have been recorded for this student in the current academic year. "))]),t("section",dt,[e[26]||(e[26]=t("h3",{class:"text-[12px] font-semibold text-gray-800"},"Hostel Notes & Regulations (Summary)",-1)),s.requirements.length?(o(),n("div",mt,[(o(!0),n(m,null,g(s.requirements,a=>(o(),n("div",{key:a.id,class:"rounded-md border border-gray-200 bg-gray-50 px-3 py-2"},[a.title?(o(),n("p",xt,l(a.title),1)):d("",!0),a.items?(o(),n("div",ut,[e[24]||(e[24]=t("p",{class:"text-[11px] font-semibold text-gray-700"},"Items / Requirements:",-1)),t("ul",pt,[x.line.trim()?(o(!0),n(m,{key:0},g(a.items.split(`
`),(r,y)=>(o(),n("li",{key:`i-${a.id}-${y}`},l(r.trim()),1))),128)):d("",!0)])])):d("",!0),a.rules?(o(),n("div",ct,[e[25]||(e[25]=t("p",{class:"text-[11px] font-semibold text-gray-700"},"Rules / Notes:",-1)),t("ul",_t,[x.line.trim()?(o(!0),n(m,{key:0},g(a.rules.split(`
`),(r,y)=>(o(),n("li",{key:`r-${a.id}-${y}`},l(r.trim()),1))),128)):d("",!0)])])):d("",!0)]))),128))])):(o(),n("p",rt," No specific hostel requirements or rules have been configured yet for this student. You can define templates in the hostel requirements table. "))]),e[33]||(e[33]=t("section",{class:"mt-6 space-y-1 text-[11px]"},[t("h3",{class:"text-[12px] font-semibold text-gray-800"},"Comments"),t("p",{class:"text-[10px] text-gray-500"}," This area can be used by the Matron/Patron or Head of School to write overall comments about the student's conduct and performance in the hostel. "),t("div",{class:"mt-1 min-h-[60px] rounded-md border border-gray-200 bg-gray-50 px-3 py-2 text-left text-[11px] text-gray-700"})],-1)),t("section",gt,[t("div",null,[e[27]||(e[27]=t("p",{class:"font-semibold"},"Matron/Patron",-1)),e[28]||(e[28]=t("p",{class:"mt-4"},"Name: __________________________",-1)),e[29]||(e[29]=t("p",{class:"mt-4"},"Signature: ______________________",-1)),t("p",yt,"Date: ____ / ____ / "+l(s.academicYear||"____"),1)]),t("div",null,[e[30]||(e[30]=t("p",{class:"font-semibold"},"Head of School",-1)),e[31]||(e[31]=t("p",{class:"mt-4"},"Name: __________________________",-1)),e[32]||(e[32]=t("p",{class:"mt-4"},"Signature: ______________________",-1)),t("p",bt,"Date: ____ / ____ / "+l(s.academicYear||"____"),1)])])])]}),_:1})],64))}};export{St as default};

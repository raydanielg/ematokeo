import{_}from"./AuthenticatedLayout-CkEm_kNZ.js";import{j as v,c as a,a as g,u as w,h as k,w as x,b as e,d,o as l,F as n,r as y,t as r,f as u,s as C,m as p}from"./app-CcJnBQ2d.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"space-y-6"},A={class:"rounded-lg bg-white p-5 shadow-sm ring-1 ring-gray-100"},N={class:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between"},M={class:"mt-2 flex flex-wrap gap-2"},V={key:0,class:"text-sm text-gray-500"},$={class:"text-xs text-gray-500"},j={class:"font-semibold text-gray-800"},B={class:"overflow-hidden rounded-lg bg-white shadow-sm ring-1 ring-gray-100"},P={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-100 text-left text-sm"},F={class:"divide-y divide-gray-100"},S={key:0},z={class:"px-5 py-3 font-medium text-gray-900"},E={class:"px-5 py-3 text-gray-700"},L={class:"px-5 py-3 text-gray-700"},Y={key:0},q={key:1},G={key:2},H={class:"px-5 py-3"},I={class:"flex justify-end gap-2"},J=["onClick"],K=["onClick"],O=["disabled","onClick"],W={__name:"MyTimetable",props:{timetables:{type:Array,default:()=>[]},assignedClasses:{type:Array,default:()=>[]}},setup(i){const m=i,b=v(()=>Array.isArray(m.timetables)?m.timetables.length:0),f=o=>{p.get(route("timetables.show",o))},h=o=>{p.get(route("teacher.timetables.periods",o))};return(o,s)=>(l(),a(n,null,[g(w(k),{title:"My Timetable"}),g(_,null,{header:x(()=>[...s[0]||(s[0]=[e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"My Timetable"),e("p",{class:"mt-1 text-sm text-gray-500"}," Timetables for your assigned classes only. ")],-1)])]),default:x(()=>[e("div",T,[e("div",A,[e("div",N,[e("div",null,[s[1]||(s[1]=e("div",{class:"text-sm font-semibold text-gray-800"},"Assigned classes",-1)),e("div",M,[(l(!0),a(n,null,y(i.assignedClasses,t=>(l(),a("span",{key:t,class:"inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-100"},r(t),1))),128)),!i.assignedClasses||i.assignedClasses.length===0?(l(),a("span",V,"—")):d("",!0)])]),e("div",$,[s[2]||(s[2]=u(" Showing ",-1)),e("span",j,r(b.value),1),s[3]||(s[3]=u(" timetable(s) ",-1))])])]),e("div",B,[e("div",P,[e("table",D,[s[5]||(s[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Title"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Class"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Year / Term"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600 text-right"},"Actions")])],-1)),e("tbody",F,[!i.timetables||i.timetables.length===0?(l(),a("tr",S,[...s[4]||(s[4]=[e("td",{colspan:"4",class:"px-5 py-6 text-center text-sm text-gray-500"}," No timetables found for your assigned classes. ",-1)])])):d("",!0),(l(!0),a(n,null,y(i.timetables,t=>(l(),a("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",z,r(t.title),1),e("td",E,r(t.class_name||"—"),1),e("td",L,[t.academic_year?(l(),a("span",Y,r(t.academic_year),1)):d("",!0),t.term?(l(),a("span",q," • "+r(t.term),1)):d("",!0),!t.academic_year&&!t.term?(l(),a("span",G,"—")):d("",!0)]),e("td",H,[e("div",I,[e("button",{type:"button",class:"rounded-md bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-700 ring-1 ring-blue-100 hover:bg-blue-100",onClick:c=>f(t.id)}," Preview ",8,J),e("button",{type:"button",class:"rounded-md bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:c=>h(t.id)}," My Periods ",8,K),e("button",{type:"button",disabled:!t.file_path,class:C(["rounded-md px-3 py-1.5 text-xs font-semibold ring-1",t.file_path?"bg-emerald-50 text-emerald-700 ring-emerald-100 hover:bg-emerald-100":"bg-gray-50 text-gray-400 ring-gray-100 cursor-not-allowed"]),onClick:c=>t.file_path&&o.window.open(o.route("timetables.download",t.id),"_blank")}," Download ",10,O)])])]))),128))])])])])])]),_:1})],64))}};export{W as default};

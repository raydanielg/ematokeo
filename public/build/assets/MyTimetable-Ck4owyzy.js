import{_}from"./AuthenticatedLayout-CYQwSd35.js";import{j as v,c as a,a as g,u as w,h as k,w as y,b as e,d as n,o as i,F as r,r as x,t as d,f as u,s as C,m as p}from"./app-pgY35wKg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-6"},T={class:"rounded-lg bg-white p-5 shadow-sm ring-1 ring-gray-100"},N={class:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between"},M={class:"mt-2 flex flex-wrap gap-2"},V={key:0,class:"text-sm text-gray-500"},$={class:"text-xs text-gray-500"},j={class:"font-semibold text-gray-800"},B={class:"overflow-hidden rounded-lg bg-white shadow-sm ring-1 ring-gray-100"},P={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-100 text-left text-sm"},F={class:"divide-y divide-gray-100"},S={key:0},z={class:"px-5 py-3 font-medium text-gray-900"},E={class:"px-5 py-3 text-gray-700"},L={class:"px-5 py-3 text-gray-700"},O={key:0},Y={key:1},q={key:2},G={class:"px-5 py-3"},H={class:"flex justify-end gap-2"},I=["onClick"],J=["onClick"],K=["disabled","onClick"],W={__name:"MyTimetable",props:{timetables:{type:Array,default:()=>[]},assignedClasses:{type:Array,default:()=>[]}},setup(l){const m=l,b=v(()=>Array.isArray(m.timetables)?m.timetables.length:0),h=o=>{p.get(route("timetables.show",o))},f=o=>{p.get(route("teacher.timetables.periods",o))};return(o,s)=>(i(),a(r,null,[g(w(k),{title:"My Timetable"}),g(_,null,{header:y(()=>[...s[0]||(s[0]=[e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"My Timetable"),e("p",{class:"mt-1 text-sm text-gray-500"}," Open a saved timetable and view only your own periods automatically. ")],-1)])]),default:y(()=>[e("div",A,[e("div",T,[e("div",N,[e("div",null,[s[1]||(s[1]=e("div",{class:"text-sm font-semibold text-gray-800"},"Assigned classes",-1)),e("div",M,[(i(!0),a(r,null,x(l.assignedClasses,t=>(i(),a("span",{key:t,class:"inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-100"},d(t),1))),128)),!l.assignedClasses||l.assignedClasses.length===0?(i(),a("span",V,"—")):n("",!0)])]),e("div",$,[s[2]||(s[2]=u(" Showing ",-1)),e("span",j,d(b.value),1),s[3]||(s[3]=u(" timetable(s) ",-1))])])]),e("div",B,[e("div",P,[e("table",D,[s[5]||(s[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Title"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Class"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Year / Term"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600 text-right"},"Actions")])],-1)),e("tbody",F,[!l.timetables||l.timetables.length===0?(i(),a("tr",S,[...s[4]||(s[4]=[e("td",{colspan:"4",class:"px-5 py-6 text-center text-sm text-gray-500"}," No saved timetables found yet. Ask the admin to generate and save a timetable. ",-1)])])):n("",!0),(i(!0),a(r,null,x(l.timetables,t=>(i(),a("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",z,d(t.title),1),e("td",E,d(t.class_name||"—"),1),e("td",L,[t.academic_year?(i(),a("span",O,d(t.academic_year),1)):n("",!0),t.term?(i(),a("span",Y," • "+d(t.term),1)):n("",!0),!t.academic_year&&!t.term?(i(),a("span",q,"—")):n("",!0)]),e("td",G,[e("div",H,[e("button",{type:"button",class:"rounded-md bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-700 ring-1 ring-blue-100 hover:bg-blue-100",onClick:c=>h(t.id)}," Preview ",8,I),e("button",{type:"button",class:"rounded-md bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:c=>f(t.id)}," My Periods ",8,J),e("button",{type:"button",disabled:!t.file_path,class:C(["rounded-md px-3 py-1.5 text-xs font-semibold ring-1",t.file_path?"bg-emerald-50 text-emerald-700 ring-emerald-100 hover:bg-emerald-100":"bg-gray-50 text-gray-400 ring-gray-100 cursor-not-allowed"]),onClick:c=>t.file_path&&o.window.open(o.route("timetables.download",t.id),"_blank")}," Download ",10,K)])])]))),128))])])])])])]),_:1})],64))}};export{W as default};

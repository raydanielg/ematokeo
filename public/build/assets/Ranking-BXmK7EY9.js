import{i as w,c as l,a as m,u as _,h as S,w as u,b as e,o,d as x,F as d,r as c,t as s,T as N,f as C,m as g}from"./app-1ERyLjWa.js";import{_ as E}from"./AuthenticatedLayout-n9k3h0u8.js";import"./ApplicationLogo-5LUGpE07.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex flex-wrap items-center justify-between gap-3"},Y={class:"flex flex-wrap items-center gap-3 text-xs"},T={class:"flex items-center gap-2"},j=["value","selected"],z={class:"flex items-center gap-2"},A=["value","selected"],M={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},R={key:0,class:"py-10 text-center text-xs text-gray-400"},W={key:1,class:"overflow-x-auto"},D={class:"min-w-full border-collapse text-[11px]"},O={key:0},V={class:"px-3 py-1.5 align-top text-sm font-medium text-gray-900"},B={class:"px-3 py-1.5 align-top font-mono"},F={class:"px-3 py-1.5 align-top"},U={class:"px-3 py-1.5 align-top"},H={class:"px-3 py-1.5 align-top text-center"},J={class:"px-3 py-1.5 align-top text-center"},K={class:"px-3 py-1.5 align-top text-center"},L={class:"px-3 py-1.5 align-top text-center"},Z={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-8"},$={class:"max-h-full w-full max-w-4xl overflow-y-auto rounded-xl bg-white p-6 text-xs text-gray-800 shadow-xl"},q={class:"border border-gray-200 bg-white p-4",id:"ranking-document"},G={class:"mb-3 text-center"},I={class:"text-[10px] text-gray-500"},Q={class:"font-medium"},X={key:0},ee={class:"w-full border-collapse text-[11px]"},te={key:0},ae={class:"border border-emerald-100 px-2 py-1 bg-white"},se={class:"border border-emerald-100 px-2 py-1 bg-white font-mono"},re={class:"border border-emerald-100 px-2 py-1 bg-white"},le={class:"border border-emerald-100 px-2 py-1 bg-white"},oe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ne={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},de={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ie={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ue={__name:"Ranking",props:{years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},ranking:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({year:null,exam:null})}},setup(r){const b=r,p=w(!1),y=i=>{const t=i.target.value||null;g.get(route("results.ranking"),{year:t,exam:null},{preserveState:!0,preserveScroll:!0,replace:!0})},f=i=>{const t=i.target.value||null;g.get(route("results.ranking"),{year:b.filters.year,exam:t},{preserveState:!0,preserveScroll:!0,replace:!0})},h=()=>{p.value=!0},v=()=>{p.value=!1},k=()=>{window.print()};return(i,t)=>(o(),l(d,null,[m(_(S),{title:"Ranking"}),m(E,null,{header:u(()=>[e("div",P,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Students Ranking "),e("p",{class:"mt-1 text-sm text-gray-500"}," Overall ranking of students based on exam performance. Use filters to select the exam you want to analyse. ")],-1)),e("div",Y,[e("div",T,[t[1]||(t[1]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:y},[t[0]||(t[0]=e("option",{value:""},"All Years",-1)),(o(!0),l(d,null,c(r.years,a=>(o(),l("option",{key:a,value:a,selected:r.filters.year===a},s(a),9,j))),128))],32)]),e("div",z,[t[3]||(t[3]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:f},[t[2]||(t[2]=e("option",{value:""},"Select Exam",-1)),(o(!0),l(d,null,c(r.exams,a=>(o(),l("option",{key:a.id,value:a.id,selected:String(r.filters.exam)===String(a.id)},s(a.name)+" ("+s(a.academic_year||"—")+") ",9,A))),128))],32)])])])]),default:u(()=>[e("div",M,[t[7]||(t[7]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"mb-1 font-medium"},"Ranking Summary"),e("p",{class:"text-[11px] text-gray-500"}," The list below shows students ordered by their average marks and points for the selected exam. ")],-1)),e("div",{class:"mb-3 flex items-center justify-end"},[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:h}," Preview Document ")]),r.filters.exam?(o(),l("div",W,[e("table",D,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Pos"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Exam No"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Student Name"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Total"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Average"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Division"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Points")])],-1)),e("tbody",null,[r.filters.exam&&r.ranking.length===0?(o(),l("tr",O,[...t[5]||(t[5]=[e("td",{colspan:"8",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No ranking data found for this exam yet. ",-1)])])):x("",!0),(o(!0),l(d,null,c(r.ranking,a=>(o(),l("tr",{key:a.exam_number,class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",V,s(a.position),1),e("td",B,s(a.exam_number),1),e("td",F,s(a.full_name),1),e("td",U,s(a.class_level||"—"),1),e("td",H,s(a.total??"—"),1),e("td",J,s(a.average??"—"),1),e("td",K,s(a.division||"—"),1),e("td",L,s(a.points??"—"),1)]))),128))])])])):(o(),l("div",R," Please select an exam to view ranking. "))]),m(N,{name:"fade"},{default:u(()=>{var a;return[p.value?(o(),l("div",Z,[e("div",$,[e("div",{class:"mb-4 flex items-center justify-between"},[t[8]||(t[8]=e("div",null,[e("h3",{class:"text-sm font-semibold uppercase tracking-wide text-gray-800"}," Ripoti Ya Orodha Ya Wanafunzi (Ranking) "),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Huu ni waraka wa kuchapishwa unaoonyesha orodha ya wanafunzi kwa mpangilio wa ufaulu kwa mtihani uliouchagua. ")],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"rounded-md bg-gray-100 px-3 py-1.5 text-[11px] font-semibold text-gray-700 hover:bg-gray-200",onClick:v}," Close "),e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:k}," Print ")])]),e("div",q,[e("div",G,[t[10]||(t[10]=e("div",{class:"mb-2 flex justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-10 w-10 object-contain"})],-1)),t[11]||(t[11]=e("div",{class:"leading-tight"},[e("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-gray-700"}," Jamhuri Ya Muungano Wa Tanzania "),e("div",{class:"text-[10px] text-gray-700"}," Wizara Ya Elimu, Sayansi Na Teknolojia "),e("div",{class:"mt-0.5 text-[10px] text-gray-500"}," Mfumo Wa Taarifa Za Mitihani Na Matokeo Ya Shule (E-Matokeo) ")],-1)),t[12]||(t[12]=e("div",{class:"mt-3 text-[11px] font-semibold uppercase tracking-wide text-gray-800"}," Orodha Ya Wanafunzi Kwa Mpangilio Wa Ufaulu ",-1)),e("div",I,[t[9]||(t[9]=C(" Exam: ",-1)),e("span",Q,s(((a=r.exams.find(n=>String(n.id)===String(r.filters.exam)))==null?void 0:a.name)||"Selected Exam"),1),r.filters.year?(o(),l("span",X," • Year: "+s(r.filters.year),1)):x("",!0)])]),e("table",ee,[t[14]||(t[14]=e("thead",null,[e("tr",{class:"bg-emerald-50 text-emerald-800"},[e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Pos"),e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Exam No"),e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Student Name"),e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Class"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Total"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Average"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Division"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Points")])],-1)),e("tbody",null,[r.ranking.length?x("",!0):(o(),l("tr",te,[...t[13]||(t[13]=[e("td",{colspan:"8",class:"border border-gray-200 px-2 py-3 text-center text-[11px] text-gray-400"}," No ranking data available yet for this exam. ",-1)])])),(o(!0),l(d,null,c(r.ranking,n=>(o(),l("tr",{key:n.exam_number,class:"text-gray-700"},[e("td",ae,s(n.position),1),e("td",se,s(n.exam_number),1),e("td",re,s(n.full_name),1),e("td",le,s(n.class_level||"—"),1),e("td",oe,s(n.total??"—"),1),e("td",ne,s(n.average??"—"),1),e("td",de,s(n.division||"—"),1),e("td",ie,s(n.points??"—"),1)]))),128))])])])])])):x("",!0)]}),_:1})]),_:1})],64))}};export{ue as default};

import{_ as v}from"./AuthenticatedLayout-BYiytL1F.js";import{i as _,j as w,c as a,a as u,u as k,h as C,w as p,b as e,t as o,o as l,F as c,r as m,m as g}from"./app-5x8xg80B.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex flex-wrap items-center justify-between gap-3"},j={class:"flex flex-wrap items-center gap-3 text-xs"},A={class:"flex items-center gap-2"},E=["value"],P={class:"grid gap-4 md:grid-cols-3"},Y={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},N={class:"mt-2 text-3xl font-semibold text-gray-800"},B={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},R={class:"mt-2 text-3xl font-semibold text-gray-800"},$={class:"mt-6 rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},F={key:0,class:"py-10 text-center text-xs text-gray-400"},T={key:1,class:"overflow-x-auto"},V={class:"min-w-full border-collapse text-[11px]"},D={class:"border-b border-gray-100 px-3 py-2"},L={class:"font-medium text-gray-800"},O={class:"text-[10px] text-gray-500"},Q={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},q={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},z={class:"border-b border-gray-100 px-3 py-2 text-right"},G={class:"flex justify-end gap-2"},H=["onClick"],J=["onClick"],W={__name:"ResultsAll",props:{years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},publishedCount:{type:Number,default:0}},setup(d){const x=d,n=_(""),i=w(()=>n.value?(x.exams||[]).filter(s=>String((s==null?void 0:s.academic_year)||"")===String(n.value)):x.exams||[]),y=s=>{const t=s.target.value||"";n.value=t},b=s=>{s&&g.get(route("teacher.results.class"),{year:n.value||null,exam:s,class:null,stream:null},{preserveScroll:!0,preserveState:!0})},f=s=>{s&&g.get(route("teacher.results.subject"),{year:n.value||null,exam:s},{preserveScroll:!0,preserveState:!0})};return(s,t)=>(l(),a(c,null,[u(k(C),{title:"Results"}),u(v,null,{header:p(()=>[e("div",S,[t[2]||(t[2]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"Results"),e("p",{class:"mt-1 text-sm text-gray-500"},"Quick access to class and subject performance for your exams.")],-1)),e("div",j,[e("div",A,[t[1]||(t[1]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:y},[t[0]||(t[0]=e("option",{value:""},"All Years",-1)),(l(!0),a(c,null,m(d.years,r=>(l(),a("option",{key:r,value:r},o(r),9,E))),128))],32)])])])]),default:p(()=>[e("div",P,[e("div",Y,[t[3]||(t[3]=e("p",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exams",-1)),e("p",N,o(i.value.length),1),t[4]||(t[4]=e("p",{class:"mt-1 text-xs text-gray-500"},"Available in your school",-1))]),e("div",B,[t[5]||(t[5]=e("p",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Published",-1)),e("p",R,o(d.publishedCount),1),t[6]||(t[6]=e("p",{class:"mt-1 text-xs text-gray-500"},"Exams marked as published",-1))]),t[7]||(t[7]=e("div",{class:"rounded-xl bg-emerald-50 p-5 shadow-sm ring-1 ring-emerald-100"},[e("p",{class:"text-xs font-medium uppercase tracking-wide text-emerald-700"},"Tip"),e("p",{class:"mt-2 text-sm text-emerald-800"},"Choose an exam below to open Class or Subject performance instantly.")],-1))]),e("div",$,[t[9]||(t[9]=e("div",{class:"mb-3 flex flex-wrap items-center justify-between gap-3"},[e("div",null,[e("p",{class:"text-sm font-semibold text-gray-800"},"All Exams"),e("p",{class:"mt-0.5 text-xs text-gray-500"},"Open performance pages for the selected exam.")])],-1)),i.value.length===0?(l(),a("div",F," No exams found for the selected year. ")):(l(),a("div",T,[e("table",V,[t[8]||(t[8]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-2 text-left"},"Exam"),e("th",{class:"border-b border-gray-200 px-3 py-2 text-center"},"Type"),e("th",{class:"border-b border-gray-200 px-3 py-2 text-center"},"Year"),e("th",{class:"border-b border-gray-200 px-3 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[(l(!0),a(c,null,m(i.value,r=>(l(),a("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",D,[e("div",L,o(r.name),1),e("div",O,"#"+o(r.id),1)]),e("td",Q,o(r.type||"—"),1),e("td",q,o(r.academic_year||"—"),1),e("td",z,[e("div",G,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:h=>b(r.id)}," Class Performance ",8,H),e("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-[11px] font-semibold text-gray-700 shadow-sm hover:bg-gray-50",onClick:h=>f(r.id)}," Subject Performance ",8,J)])])]))),128))])])]))])]),_:1})],64))}};export{W as default};

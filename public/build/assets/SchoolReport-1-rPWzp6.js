import{_ as A}from"./AuthenticatedLayout-n9k3h0u8.js";import{c as l,a as f,u as I,h as M,w,b as e,t as s,f as u,o,F as i,r as n,C as c,d as v,m as j}from"./app-1ERyLjWa.js";import"./ApplicationLogo-5LUGpE07.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"flex flex-wrap items-center justify-between gap-3"},z={class:"flex flex-wrap items-center gap-3 text-xs"},N={class:"flex items-center gap-2"},U=["value"],P=["value"],D={class:"flex items-center gap-2"},T=["value"],C=["value"],B={class:"mx-auto max-w-6xl bg-white p-4 shadow-sm ring-1 ring-gray-100",id:"school-report-document"},R={class:"mb-4 text-center"},V={class:"leading-tight"},E={class:"text-[11px] font-semibold uppercase tracking-wide text-gray-700"},F={class:"text-[11px] font-semibold uppercase tracking-wide text-gray-700"},O={class:"text-[10px] text-gray-700"},Y={class:"text-[10px] text-gray-700"},K={class:"mt-2 text-[11px] font-semibold uppercase tracking-wide text-gray-800"},L={class:"text-[10px] text-gray-600"},H={class:"font-semibold"},J={class:"mb-4 border-b border-dashed border-gray-300 pb-3 text-[11px]"},Z={key:0,class:"grid grid-cols-2 gap-3 md:grid-cols-4"},$={class:"rounded-lg border border-emerald-100 bg-emerald-50 px-3 py-2"},q={class:"text-lg font-semibold text-emerald-900"},G={class:"rounded-lg border border-blue-100 bg-blue-50 px-3 py-2"},Q={class:"text-lg font-semibold text-blue-900"},X={class:"rounded-lg border border-amber-100 bg-amber-50 px-3 py-2"},ee={class:"text-lg font-semibold text-amber-900"},te={class:"rounded-lg border border-purple-100 bg-purple-50 px-3 py-2"},ae={class:"text-lg font-semibold text-purple-900"},se={key:1,class:"text-[11px] text-gray-500"},re={class:"mb-4 border-b border-dashed border-gray-300 pb-3 text-[11px]"},le={key:0,class:"space-y-2"},oe={class:"w-full border-collapse text-[11px]"},de={class:"border border-gray-200 px-1 py-0.5"},ie={class:"border border-gray-200 px-1 py-0.5 text-center"},ne={class:"border border-gray-200 px-1 py-0.5 text-center"},ce={class:"border border-gray-200 px-1 py-0.5 text-center"},ue={class:"border border-gray-200 px-1 py-0.5 text-center"},xe={class:"border border-gray-200 px-1 py-0.5 text-center"},ye={class:"border border-gray-200 px-1 py-0.5 text-center"},me={class:"border border-gray-200 px-1 py-0.5 text-center"},be={class:"border border-gray-200 px-1 py-0.5 text-center"},ge={class:"mt-3 grid gap-2 md:grid-cols-2"},pe={class:"flex justify-between text-[10px] text-gray-600"},he={class:"h-3 w-full overflow-hidden rounded-full bg-gray-100"},_e={key:1,class:"text-[11px] text-gray-500"},fe={class:"mb-4 border-b border-dashed border-gray-300 pb-3 text-[11px]"},we={key:0,class:"space-y-3"},ve={class:"w-full border-collapse text-[11px]"},ke={class:"border border-gray-200 px-1 py-0.5"},Se={class:"border border-gray-200 px-1 py-0.5"},Ae={class:"border border-gray-200 px-1 py-0.5 text-center"},Ie={class:"border border-gray-200 px-1 py-0.5 text-center"},Me={class:"mt-3 space-y-2"},je={class:"flex justify-between text-[10px] text-gray-600"},We={class:"h-3 w-full overflow-hidden rounded-full bg-gray-100"},ze={key:1,class:"text-[11px] text-gray-500"},Ne={class:"mb-4 border-b border-dashed border-gray-300 pb-3 text-[11px]"},Ue={key:0,class:"space-y-3"},Pe={class:"w-full border-collapse text-[11px]"},De={class:"border border-gray-200 px-1 py-0.5"},Te={class:"border border-gray-200 px-1 py-0.5 text-center"},Ce={class:"border border-gray-200 px-1 py-0.5 text-center"},Be={class:"mt-3 space-y-2"},Re={class:"flex justify-between text-[10px] text-gray-600"},Ve={class:"h-3 w-full overflow-hidden rounded-full bg-gray-100"},Ee={key:1,class:"mt-4 grid gap-4 md:grid-cols-2"},Fe={class:"space-y-0.5 text-[11px] text-gray-700"},Oe={class:"font-semibold"},Ye={class:"space-y-0.5 text-[11px] text-gray-700"},Ke={class:"font-semibold"},Le={key:2,class:"text-[11px] text-gray-500"},He={class:"mb-4 border-b border-dashed border-gray-300 pb-3 text-[11px]"},Je={key:0,class:"space-y-2"},Ze={class:"w-full border-collapse text-[11px]"},$e={class:"border border-gray-200 px-1 py-0.5 text-center"},qe={class:"border border-gray-200 px-1 py-0.5"},Ge={class:"border border-gray-200 px-1 py-0.5"},Qe={class:"border border-gray-200 px-1 py-0.5"},Xe={key:0},et={class:"border border-gray-200 px-1 py-0.5 text-center"},tt={class:"border border-gray-200 px-1 py-0.5 text-center"},at={class:"border border-gray-200 px-1 py-0.5 text-center"},st={key:1,class:"text-[11px] text-gray-500"},rt={class:"mb-4 border-b border-dashed border-gray-300 pb-3 text-[11px]"},lt={key:0,class:"space-y-2"},ot={class:"flex justify-between text-[10px] text-gray-600"},dt={class:"h-3 w-full overflow-hidden rounded-full bg-gray-100"},it={key:1,class:"text-[11px] text-gray-500"},yt={__name:"SchoolReport",props:{school:Object,years:Array,exams:Array,classPerformance:Array,schoolSummary:Object,examSummaries:Array,subjectPerformance:Array,topSubjectsBest:Array,topSubjectsWorst:Array,yearTopStudents:Array,yearTrends:Array,filters:Object},setup(r){const k=r,x=(y,a)=>{const d={...k.filters,[y]:a||null};j.get(route("reports.school"),d,{preserveState:!0,preserveScroll:!0,replace:!0})},S=()=>{window.print()};return(y,a)=>(o(),l(i,null,[f(I(M),{title:"School Report"}),f(A,null,{header:w(()=>[e("div",W,[a[6]||(a[6]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," School Performance Report "),e("p",{class:"mt-1 text-sm text-gray-500"}," Analytical report for the whole school by year and exam, including class performance and exam trends. ")],-1)),e("div",z,[e("div",N,[a[3]||(a[3]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:r.filters.year||"",onChange:a[0]||(a[0]=d=>x("year",d.target.value))},[a[2]||(a[2]=e("option",{value:""},"Select Year",-1)),(o(!0),l(i,null,n(r.years,d=>(o(),l("option",{key:d,value:d},s(d),9,P))),128))],40,U)]),e("div",D,[a[5]||(a[5]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:r.filters.exam||"",onChange:a[1]||(a[1]=d=>x("exam",d.target.value))},[a[4]||(a[4]=e("option",{value:""},"All Exams (Year Overview)",-1)),(o(!0),l(i,null,n(r.exams,d=>(o(),l("option",{key:d.id,value:d.id},s(d.name)+" ("+s(d.academic_year)+") ",9,C))),128))],40,T)]),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:S}," Print Full Report ")])])]),default:w(()=>{var d,m,b,g,p,h;return[e("div",B,[e("div",R,[a[8]||(a[8]=e("div",{class:"mb-1 flex justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-10 w-10 object-contain"})],-1)),e("div",V,[e("div",E,s(((d=r.school)==null?void 0:d.council_name)||"HALMASHAURI YA MANISPAA"),1),e("div",F,s(((m=r.school)==null?void 0:m.name)||"SHULE YA SEKONDARI"),1),e("div",O,s(((b=r.school)==null?void 0:b.address_line)??""),1),e("div",Y," SIMU: "+s(((g=r.school)==null?void 0:g.phone)??"........")+", EMAIL: "+s(((p=r.school)==null?void 0:p.email)??"........"),1)]),e("div",K," TAARIFA YA UFAULU WA SHULE KWA MWAKA "+s(r.filters.year||"____"),1),e("div",L,[a[7]||(a[7]=u(" Mtihani: ",-1)),e("span",H,s(r.filters.exam?((h=r.exams.find(t=>t.id===Number(r.filters.exam)))==null?void 0:h.name)||"Mtihani Maalum":"Mitihani Yote ya Mwaka"),1)])]),e("div",J,[a[14]||(a[14]=e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 1. Muhtasari wa Ufaulu wa Shule ",-1)),r.schoolSummary?(o(),l("div",Z,[e("div",$,[a[9]||(a[9]=e("div",{class:"text-[10px] font-medium text-emerald-700"},"Jumla ya Watahimiwa",-1)),e("div",q,s(r.schoolSummary.candidates),1)]),e("div",G,[a[10]||(a[10]=e("div",{class:"text-[10px] font-medium text-blue-700"},"Wastani wa Alama za Shule",-1)),e("div",Q,s(r.schoolSummary.average_mark??"-"),1)]),e("div",X,[a[11]||(a[11]=e("div",{class:"text-[10px] font-medium text-amber-700"},"Idadi ya Waliofaulu (Div I-IV)",-1)),e("div",ee,s((r.schoolSummary.divisions.I||0)+(r.schoolSummary.divisions.II||0)+(r.schoolSummary.divisions.III||0)+(r.schoolSummary.divisions.IV||0)),1)]),e("div",te,[a[13]||(a[13]=e("div",{class:"text-[10px] font-medium text-purple-700"},"Asilimia ya Ufaulu wa Shule",-1)),e("div",ae,[u(s(r.schoolSummary.pass_rate),1),a[12]||(a[12]=e("span",{class:"text-sm"},"%",-1))])])])):(o(),l("p",se," Chagua mwaka na mtihani ili kuona muhtasari wa ufaulu wa shule. "))]),e("div",re,[a[16]||(a[16]=e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 2. Ufaulu kwa Kila Darasa (Kwa Mtihani Ulioteuliwa) ",-1)),a[17]||(a[17]=e("p",{class:"mb-2 text-[10px] text-gray-600"}," Jedwali hili linaonyesha idadi ya watahiniwa, wastani wa alama, mgawanyo wa division na asilimia ya ufaulu kwa kila darasa. ",-1)),r.classPerformance&&r.classPerformance.length?(o(),l("div",le,[e("table",oe,[a[15]||(a[15]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"Darasa"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Watahimiwa"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Wastani"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Div I"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Div II"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Div III"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Div IV"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Div 0"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"% Ufaulu")])],-1)),e("tbody",null,[(o(!0),l(i,null,n(r.classPerformance,t=>(o(),l("tr",{key:t.class_level,class:"text-gray-700"},[e("td",de,s(t.class_level),1),e("td",ie,s(t.candidates),1),e("td",ne,s(t.average_mark??"-"),1),e("td",ce,s(t.divisions.I||0),1),e("td",ue,s(t.divisions.II||0),1),e("td",xe,s(t.divisions.III||0),1),e("td",ye,s(t.divisions.IV||0),1),e("td",me,s(t.divisions[0]||0),1),e("td",be,s(t.pass_rate)+"% ",1)]))),128))])]),e("div",ge,[(o(!0),l(i,null,n(r.classPerformance,t=>(o(),l("div",{key:t.class_level+"-bar",class:"space-y-1"},[e("div",pe,[e("span",null,s(t.class_level),1),e("span",null,"Wastani: "+s(t.average_mark??"-"),1)]),e("div",he,[e("div",{class:"h-full rounded-full bg-emerald-500",style:c({width:(t.average_mark?Math.min(t.average_mark,100):0)+"%"})},null,4)])]))),128))])])):(o(),l("p",_e," Chagua mwaka na mtihani ili kuona ufaulu wa kila darasa. "))]),e("div",fe,[a[19]||(a[19]=e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 3. Muhtasari wa Mitihani Yote ya Mwaka ",-1)),a[20]||(a[20]=e("p",{class:"mb-2 text-[10px] text-gray-600"}," Jedwali hili linaonyesha idadi ya watahiniwa na wastani wa ufaulu kwa kila mtihani uliofanyika katika mwaka husika. ",-1)),r.examSummaries&&r.examSummaries.length?(o(),l("div",we,[e("table",ve,[a[18]||(a[18]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"Mtihani"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"Aina"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Watahimiwa"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Wastani wa Alama")])],-1)),e("tbody",null,[(o(!0),l(i,null,n(r.examSummaries,t=>(o(),l("tr",{key:t.id,class:"text-gray-700"},[e("td",ke,s(t.name),1),e("td",Se,s(t.type||"-"),1),e("td",Ae,s(t.candidates),1),e("td",Ie,s(t.average_mark??"-"),1)]))),128))])]),e("div",Me,[(o(!0),l(i,null,n(r.examSummaries,t=>(o(),l("div",{key:t.id+"-bar",class:"space-y-1"},[e("div",je,[e("span",null,s(t.name),1),e("span",null,"Wastani: "+s(t.average_mark??"-"),1)]),e("div",We,[e("div",{class:"h-full rounded-full bg-blue-500",style:c({width:(t.average_mark?Math.min(t.average_mark,100):0)+"%"})},null,4)])]))),128))])])):(o(),l("p",ze," Chagua mwaka ili kuona muhtasari wa mitihani yote ya shule. "))]),e("div",Ne,[a[24]||(a[24]=e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 4. Ufaulu kwa Masomo ya Shule Nzima (Mwaka Ulioteuliwa) ",-1)),a[25]||(a[25]=e("p",{class:"mb-2 text-[10px] text-gray-600"}," Jedwali hili linaonyesha masomo bora na yenye changamoto kwa kuangalia wastani wa ufaulu wa wanafunzi wote katika mitihani yote ya mwaka uliochaguliwa. ",-1)),r.subjectPerformance&&r.subjectPerformance.length?(o(),l("div",Ue,[e("table",Pe,[a[21]||(a[21]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"Somu"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Waliofanya"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"Wastani wa Alama")])],-1)),e("tbody",null,[(o(!0),l(i,null,n(r.subjectPerformance,t=>(o(),l("tr",{key:t.code,class:"text-gray-700"},[e("td",De,s(t.code)+" - "+s(t.name),1),e("td",Te,s(t.sat),1),e("td",Ce,s(t.average_mark??"-"),1)]))),128))])]),e("div",Be,[(o(!0),l(i,null,n(r.subjectPerformance,t=>(o(),l("div",{key:t.code+"-bar",class:"space-y-1"},[e("div",Re,[e("span",null,s(t.code),1),e("span",null,"Wastani: "+s(t.average_mark??"-"),1)]),e("div",Ve,[e("div",{class:"h-full rounded-full bg-amber-500",style:c({width:(t.average_mark?Math.min(t.average_mark,100):0)+"%"})},null,4)])]))),128))])])):v("",!0),r.topSubjectsBest&&r.topSubjectsBest.length||r.topSubjectsWorst&&r.topSubjectsWorst.length?(o(),l("div",Ee,[e("div",null,[a[22]||(a[22]=e("h4",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-emerald-700"},"Masomo 5 Bora",-1)),e("ul",Fe,[(o(!0),l(i,null,n(r.topSubjectsBest,t=>(o(),l("li",{key:"best-"+t.code,class:"flex justify-between"},[e("span",null,s(t.code)+" - "+s(t.name),1),e("span",Oe,s(t.average_mark??"-"),1)]))),128))])]),e("div",null,[a[23]||(a[23]=e("h4",{class:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-red-700"},"Masomo 5 Duni",-1)),e("ul",Ye,[(o(!0),l(i,null,n(r.topSubjectsWorst,t=>(o(),l("li",{key:"worst-"+t.code,class:"flex justify-between"},[e("span",null,s(t.code)+" - "+s(t.name),1),e("span",Ke,s(t.average_mark??"-"),1)]))),128))])])])):(o(),l("p",Le," Chagua mwaka ili kuona ufaulu wa masomo yote ya shule. "))]),e("div",He,[a[27]||(a[27]=e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 5. Wanafunzi 10 Bora wa Shule kwa Mwaka Ulioteuliwa ",-1)),a[28]||(a[28]=e("p",{class:"mb-2 text-[10px] text-gray-600"}," Jedwali hili linaonyesha wanafunzi 10 bora waliopata wastani mkubwa zaidi katika mitihani yote ya mwaka uliochaguliwa. ",-1)),r.yearTopStudents&&r.yearTopStudents.length?(o(),l("div",Je,[e("table",Ze,[a[26]||(a[26]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"NAFASI"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"NO. MTIHANI"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"JINA LA MWANAFUNZI"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-left"},"DARASA"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"WASTANI"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"DIVISION"),e("th",{class:"border border-gray-200 px-1 py-0.5 text-center"},"POINTI")])],-1)),e("tbody",null,[(o(!0),l(i,null,n(r.yearTopStudents,(t,_)=>(o(),l("tr",{key:t.exam_number+"-"+_,class:"text-gray-700"},[e("td",$e,s(_+1),1),e("td",qe,s(t.exam_number||"-"),1),e("td",Ge,s(t.full_name),1),e("td",Qe,[u(s(t.class_level),1),t.stream?(o(),l("span",Xe," - "+s(t.stream),1)):v("",!0)]),e("td",et,s(t.average??"-"),1),e("td",tt,s(t.division||"-"),1),e("td",at,s(t.points??"-"),1)]))),128))])])])):(o(),l("p",st," Chagua mwaka ili kuona wanafunzi 10 bora wa shule. "))]),e("div",rt,[a[29]||(a[29]=e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 6. Mwenendo wa Ufaulu kwa Miaka Mingi ",-1)),a[30]||(a[30]=e("p",{class:"mb-2 text-[10px] text-gray-600"}," Mchoro huu unaonyesha mabadiliko ya wastani wa ufaulu wa shule kwa miaka mbalimbali ili kusaidia uongozi kutathmini maendeleo ya muda mrefu. ",-1)),r.yearTrends&&r.yearTrends.length?(o(),l("div",lt,[(o(!0),l(i,null,n(r.yearTrends,t=>(o(),l("div",{key:t.year,class:"space-y-1"},[e("div",ot,[e("span",null,"Mwaka "+s(t.year),1),e("span",null,"Wastani: "+s(t.average_mark??"-")+" (Watahimiwa: "+s(t.candidates)+")",1)]),e("div",dt,[e("div",{class:"h-full rounded-full bg-indigo-500",style:c({width:(t.average_mark?Math.min(t.average_mark,100):0)+"%"})},null,4)])]))),128))])):(o(),l("p",it," Hakuna takwimu za miaka mingi zilizopatikana bado. "))]),a[31]||(a[31]=e("div",{class:"text-[11px]"},[e("h3",{class:"mb-2 text-[12px] font-semibold uppercase tracking-wide text-gray-800"}," 7. Maoni ya Kitaalamu Kuhusu Ufaulu wa Shule "),e("p",{class:"mb-1 text-[11px] text-gray-700"}," Sehemu hii inaweza kujazwa na uongozi wa shule au afisa elimu kwa kutoa maoni juu ya mwenendo wa ufaulu wa shule, mafanikio makubwa, changamoto zilizojitokeza na mikakati ya kuboresha matokeo kwa mwaka unaofuata. "),e("div",{class:"min-h-[6rem] border border-gray-300 px-2 py-1 text-[10px]"}," ____________________________________________________________________________________________________ ")],-1))])]}),_:1})],64))}};export{yt as default};

import{y as C,c as r,a as b,u as l,h as S,w as y,b as t,k as d,o as i,F as u,r as x,t as n,p as f,v,d as P,m as _}from"./app-BJUliZOe.js";import{_ as V}from"./AuthenticatedLayout-OKprl57E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-4"},N={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},j={class:"grid gap-3 md:grid-cols-4 text-xs"},D=["value"],E=["value"],F={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},U={class:"mb-3 flex items-center justify-between"},B={class:"text-sm font-medium text-gray-700"},M={class:"overflow-x-auto"},T={class:"min-w-full text-left text-sm"},$={key:0},I={class:"px-3 py-2 align-top"},R={class:"px-3 py-2 align-top"},L={class:"text-[10px] text-gray-500"},q={class:"px-3 py-2 align-top"},z={class:"px-3 py-2 align-top"},G={class:"px-3 py-2 align-top"},H={class:"flex justify-end gap-2"},J=["onClick"],K=["onClick"],X={__name:"SittingPlans",props:{plans:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]}},setup(a){const o=C({exam_id:"",class_id:"",title:"",rooms_count:1}),w=()=>{o.post(route("sitting-plans.store"),{preserveScroll:!0})},h=m=>{confirm("Delete this sitting plan?")&&_.delete(route("sitting-plans.destroy",m))};return(m,e)=>(i(),r(u,null,[b(l(S),{title:"Sitting Plans"}),b(V,null,{header:y(()=>[...e[4]||(e[4]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Sitting Plans "),t("p",{class:"mt-1 text-sm text-gray-500"}," Create and manage exam sitting plans by exam and class. ")])],-1)])]),default:y(()=>[t("div",A,[t("div",N,[e[11]||(e[11]=t("h3",{class:"text-sm font-semibold text-gray-800 mb-3"}," Create Sitting Plan ",-1)),t("div",j,[t("div",null,[e[6]||(e[6]=t("label",{class:"mb-1 block text-[11px] font-medium"},"Exam",-1)),d(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).exam_id=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[e[5]||(e[5]=t("option",{value:""}," -- Select exam -- ",-1)),(i(!0),r(u,null,x(a.exams,s=>(i(),r("option",{key:s.id,value:s.id},n(s.name)+" ("+n(s.academic_year||"-")+") ",9,D))),128))],512),[[f,l(o).exam_id]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"mb-1 block text-[11px] font-medium"},"Class",-1)),d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).class_id=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[e[7]||(e[7]=t("option",{value:""}," -- Select class -- ",-1)),(i(!0),r(u,null,x(a.classes,s=>(i(),r("option",{key:s.id,value:s.id},n(s.level||s.name),9,E))),128))],512),[[f,l(o).class_id]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"mb-1 block text-[11px] font-medium"},"Title",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).title=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. Midterm Exam Form II A Sitting Plan"},null,512),[[v,l(o).title]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"mb-1 block text-[11px] font-medium"},"Number of Rooms",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l(o).rooms_count=s),type:"number",min:"1",max:"50",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,512),[[v,l(o).rooms_count,void 0,{number:!0}]])])]),t("div",{class:"mt-3 flex justify-end"},[t("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1",onClick:w}," Create Sitting Plan ")])]),t("div",F,[t("div",U,[t("p",B," Sitting Plans ("+n(a.plans.length)+") ",1),e[12]||(e[12]=t("p",{class:"text-[11px] text-gray-500"}," View, preview or delete existing sitting plans. ",-1))]),t("div",M,[t("table",T,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"border-b border-gray-200 bg-gray-50 text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"px-3 py-2"},"Title"),t("th",{class:"px-3 py-2"},"Exam"),t("th",{class:"px-3 py-2"},"Class"),t("th",{class:"px-3 py-2"},"Rooms"),t("th",{class:"px-3 py-2 text-right"},"Actions")])],-1)),t("tbody",null,[a.plans.length===0?(i(),r("tr",$,[...e[13]||(e[13]=[t("td",{colspan:"5",class:"px-3 py-4 text-center text-xs text-gray-500"}," No sitting plans created yet. ",-1)])])):P("",!0),(i(!0),r(u,null,x(a.plans,s=>{var p,g,c;return i(),r("tr",{key:s.id,class:"border-b border-gray-100 text-xs text-gray-700 hover:bg-gray-50"},[t("td",I,n(s.title),1),t("td",R,[t("div",null,n(((p=s.exam)==null?void 0:p.name)||"-"),1),t("div",L,n(((g=s.exam)==null?void 0:g.academic_year)||""),1)]),t("td",q,n(((c=s.class)==null?void 0:c.name)||"-"),1),t("td",z,n(s.rooms_count||1),1),t("td",G,[t("div",H,[t("button",{type:"button",class:"rounded-md bg-blue-50 px-2 py-1 text-[11px] font-medium text-blue-700 ring-1 ring-blue-100 hover:bg-blue-100",onClick:k=>l(_).get(m.route("sitting-plans.show",s.id))}," Preview ",8,J),t("button",{type:"button",class:"rounded-md bg-red-50 px-2 py-1 text-[11px] font-medium text-red-700 ring-1 ring-red-100 hover:bg-red-100",onClick:k=>h(s.id)}," Delete ",8,K)])])])}),128))])])])])])]),_:1})],64))}};export{X as default};

import{_ as v}from"./AuthenticatedLayout-DkEC2RSo.js";import{i as w,y as k,c as r,a as u,u as c,h as C,w as x,b as t,d as m,t as s,f as b,o as a,F as f,r as _}from"./app-t3oaDc9p.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"space-y-8 py-8"},S={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-4"},B={class:"rounded-lg bg-white p-6 shadow-sm ring-1 ring-gray-100"},M={class:"flex items-center justify-between"},N={class:"mt-2 text-2xl font-bold text-red-600"},D={class:"rounded-lg bg-white p-6 shadow-sm ring-1 ring-gray-100"},V={class:"flex items-center justify-between"},A={class:"mt-2 text-2xl font-bold text-blue-600"},z={class:"rounded-lg bg-white p-6 shadow-sm ring-1 ring-gray-100"},T={class:"flex items-center justify-between"},L={class:"mt-2 text-2xl font-bold text-emerald-600 uppercase"},H={class:"rounded-lg bg-white p-6 shadow-sm ring-1 ring-gray-100"},E={class:"flex items-center justify-between"},F={class:"mt-2 text-2xl font-bold text-purple-600 uppercase"},R={class:"mt-1 text-xs text-gray-500"},$={class:"grid gap-6 lg:grid-cols-2"},P={class:"rounded-lg bg-white shadow-sm ring-1 ring-gray-100"},q={class:"p-6 space-y-4"},G={class:"flex items-center justify-between rounded-md bg-gray-50 px-4 py-3"},I={class:"text-sm text-gray-900 font-mono"},K={class:"flex items-center justify-between rounded-md bg-gray-50 px-4 py-3"},J={class:"text-sm text-gray-900 font-mono"},O={class:"flex items-center justify-between rounded-md bg-gray-50 px-4 py-3"},Q={class:"text-sm text-gray-900 font-mono font-bold text-emerald-600"},U={class:"flex items-center justify-between rounded-md bg-gray-50 px-4 py-3"},W={class:"text-sm text-gray-900 font-mono font-bold text-blue-600"},X={class:"flex items-center justify-between rounded-md bg-gray-50 px-4 py-3"},Y={class:"text-sm text-gray-900 font-mono font-bold text-purple-600"},Z={class:"rounded-lg bg-white shadow-sm ring-1 ring-gray-100"},tt={class:"p-6 space-y-4"},et={class:"rounded-md bg-blue-50 border border-blue-200 p-4"},st={class:"text-sm text-blue-800"},ot={class:"text-xs text-blue-700 mt-1"},lt={class:"rounded-lg bg-white shadow-sm ring-1 ring-gray-100"},nt={class:"overflow-x-auto"},rt={class:"w-full text-left text-sm"},at={class:"divide-y divide-gray-100"},it={key:0},dt={class:"px-6 py-4 font-medium text-gray-900"},ct={class:"px-6 py-4 text-right"},gt={class:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700"},ut={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},xt={class:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-in fade-in zoom-in-95 duration-300"},mt={class:"mt-6 flex gap-3"},bt=["disabled"],ht={__name:"Statistics",props:{laravelVersion:{type:String,default:"N/A"},phpVersion:{type:String,default:"N/A"},dbDriver:{type:String,default:"N/A"},dbName:{type:String,default:"N/A"},dbHost:{type:String,default:"N/A"},dbSize:{type:Number,default:0},tables:{type:Array,default:()=>[]},cacheDriver:{type:String,default:"N/A"},cacheEnabled:{type:Boolean,default:!1}},setup(o){const i=w(!1),d=k({}),p=n=>{if(n===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(n)/Math.log(e));return Math.round(n/Math.pow(e,g)*100)/100+" "+l[g]},y=()=>tables.reduce((n,e)=>n+e.count,0),h=()=>{d.post(route("admin.cache-clear"),{onSuccess:()=>{i.value=!1}})};return(n,e)=>(a(),r(f,null,[u(c(C),{title:"System Statistics"}),u(v,null,{header:x(()=>[...e[2]||(e[2]=[t("div",{class:"bg-gradient-to-r from-emerald-600 to-emerald-700 -mx-6 -mt-4 px-6 py-6 rounded-b-lg"},[t("h2",{class:"text-3xl font-bold text-white"}," System Statistics "),t("p",{class:"mt-2 text-emerald-100"}," System information, database stats, and cache management ")],-1)])]),default:x(()=>[t("div",j,[t("div",S,[t("div",B,[t("div",M,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-gray-600"},"Laravel Version",-1)),t("p",N,s(o.laravelVersion),1)]),e[4]||(e[4]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-red-100"},[t("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])]),t("div",D,[t("div",V,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-600"},"PHP Version",-1)),t("p",A,s(o.phpVersion),1)]),e[6]||(e[6]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})])],-1))])]),t("div",z,[t("div",T,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600"},"Database Driver",-1)),t("p",L,s(o.dbDriver),1)]),e[8]||(e[8]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-100"},[t("svg",{class:"h-6 w-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-6.586L9.172 4.172A2 2 0 007.586 4H4a2 2 0 00-2 2z"})])],-1))])]),t("div",H,[t("div",E,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-600"},"Cache Driver",-1)),t("p",F,s(o.cacheDriver),1),t("p",R,s(o.cacheEnabled?"✓ Enabled":"✗ Disabled"),1)]),e[10]||(e[10]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100"},[t("svg",{class:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])]),t("div",$,[t("div",P,[e[16]||(e[16]=t("div",{class:"border-b border-gray-100 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"}," Database Information ")],-1)),t("div",q,[t("div",G,[e[11]||(e[11]=t("span",{class:"text-sm font-medium text-gray-700"},"Database Name",-1)),t("span",I,s(o.dbName),1)]),t("div",K,[e[12]||(e[12]=t("span",{class:"text-sm font-medium text-gray-700"},"Host",-1)),t("span",J,s(o.dbHost),1)]),t("div",O,[e[13]||(e[13]=t("span",{class:"text-sm font-medium text-gray-700"},"Database Size",-1)),t("span",Q,s(p(o.dbSize)),1)]),t("div",U,[e[14]||(e[14]=t("span",{class:"text-sm font-medium text-gray-700"},"Total Records",-1)),t("span",W,s(y().toLocaleString()),1)]),t("div",X,[e[15]||(e[15]=t("span",{class:"text-sm font-medium text-gray-700"},"Total Tables",-1)),t("span",Y,s(o.tables.length),1)])])]),t("div",Z,[e[20]||(e[20]=t("div",{class:"border-b border-gray-100 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"}," Cache Management ")],-1)),t("div",tt,[t("div",et,[t("p",st,[e[17]||(e[17]=t("span",{class:"font-semibold"},"Cache Driver:",-1)),b(" "+s(o.cacheDriver),1)]),t("p",ot,s(o.cacheEnabled?"Cache is currently enabled and active.":"Cache is disabled. Set to null driver."),1)]),t("button",{onClick:e[0]||(e[0]=l=>i.value=!0),class:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-orange-600 text-white font-semibold hover:bg-orange-700 transition-colors"},[...e[18]||(e[18]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),b(" Clear Cache & Config ",-1)])]),e[19]||(e[19]=t("div",{class:"text-xs text-gray-500 bg-gray-50 rounded p-3"},[t("p",{class:"font-semibold mb-1"},"This will clear:"),t("ul",{class:"list-disc list-inside space-y-0.5"},[t("li",null,"Application cache"),t("li",null,"Configuration cache"),t("li",null,"View cache")])],-1))])])]),t("div",lt,[e[23]||(e[23]=t("div",{class:"border-b border-gray-100 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"}," Database Tables "),t("p",{class:"mt-1 text-xs text-gray-500"}," All tables and their record counts ")],-1)),t("div",nt,[t("table",rt,[e[22]||(e[22]=t("thead",{class:"border-b border-gray-100 bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 font-semibold text-gray-700"},"Table Name"),t("th",{class:"px-6 py-3 font-semibold text-gray-700 text-right"},"Records")])],-1)),t("tbody",at,[o.tables.length===0?(a(),r("tr",it,[...e[21]||(e[21]=[t("td",{colspan:"2",class:"px-6 py-4 text-center text-gray-500"}," No tables found ",-1)])])):m("",!0),(a(!0),r(f,null,_(o.tables,l=>(a(),r("tr",{key:l.name,class:"hover:bg-gray-50"},[t("td",dt,s(l.name),1),t("td",ct,[t("span",gt,s(l.count.toLocaleString()),1)])]))),128))])])])])]),i.value?(a(),r("div",ut,[t("div",xt,[e[24]||(e[24]=t("div",{class:"flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 mx-auto"},[t("svg",{class:"h-6 w-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4v2m0 4v2M4.93 4.93a10 10 0 1114.14 14.14A10 10 0 014.93 4.93z"})])],-1)),e[25]||(e[25]=t("h3",{class:"mt-4 text-lg font-semibold text-gray-900 text-center"}," Clear Cache & Config? ",-1)),e[26]||(e[26]=t("p",{class:"mt-2 text-sm text-gray-600 text-center"}," This will clear the application cache, configuration cache, and view cache. The system will regenerate these on next request. ",-1)),t("div",mt,[t("button",{onClick:e[1]||(e[1]=l=>i.value=!1),class:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-semibold hover:bg-gray-50 transition-colors"}," Cancel "),t("button",{onClick:h,disabled:c(d).processing,class:"flex-1 px-4 py-2 rounded-lg bg-orange-600 text-white font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},s(c(d).processing?"Clearing...":"Clear Cache"),9,bt)])])])):m("",!0)]),_:1})],64))}};export{ht as default};

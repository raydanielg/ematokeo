import{_ as f}from"./AuthenticatedLayout-CUTxOyHm.js";import{c as r,a as m,u as v,h,w as g,b as e,d as c,o as a,F as n,r as i,t as l,f as w,m as y}from"./app-BFUTDOR0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const _={class:"flex flex-wrap items-center justify-between gap-3"},k={class:"flex flex-wrap items-center gap-3 text-xs"},C={class:"flex items-center gap-2"},S=["value"],N=["value"],A={class:"flex items-center gap-2"},R=["value"],E=["value"],V={class:"flex items-center gap-2"},B=["value"],F=["value"],$={class:"flex items-center gap-2"},j=["value"],L=["value"],O={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},T={class:"overflow-x-auto"},Y={class:"min-w-full border-collapse text-[11px]"},q={key:0},D={class:"px-3 py-1.5 align-top text-[11px] font-medium text-gray-900"},G={class:"px-3 py-1.5 align-top text-[11px]"},I={class:"px-3 py-1.5 align-top text-[11px]"},J={key:0},M={class:"px-3 py-1.5 align-top text-[11px] uppercase"},P={class:"px-3 py-1.5 align-top text-right"},U=["disabled","onClick"],Q={__name:"StudentReportsIndex",props:{years:Array,exams:Array,students:Array,classes:Array,filters:Object},setup(o){const d=o,u=(x,s)=>{const t={...d.filters,[x]:s||null};y.get(route("reports.students.index"),t,{preserveState:!0,preserveScroll:!0,replace:!0})},b=x=>{const s=new URLSearchParams;d.filters.exam&&s.set("exam",d.filters.exam),d.filters.test_exam&&s.set("test_exam",d.filters.test_exam);const t=s.toString(),p=route("reports.students.show",x)+(t?`?${t}`:"");y.visit(p)};return(x,s)=>(a(),r(n,null,[m(v(h),{title:"Student Report Card"}),m(f,null,{header:g(()=>[e("div",_,[s[12]||(s[12]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Student Report Cards "),e("p",{class:"mt-1 text-sm text-gray-500"}," Choose exam and class, then open individual student report cards for printing. ")],-1)),e("div",k,[e("div",C,[s[5]||(s[5]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:o.filters.year||"",onChange:s[0]||(s[0]=t=>u("year",t.target.value))},[s[4]||(s[4]=e("option",{value:""},"All Years",-1)),(a(!0),r(n,null,i(o.years,t=>(a(),r("option",{key:t,value:t},l(t),9,N))),128))],40,S)]),e("div",A,[s[7]||(s[7]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:o.filters.exam||"",onChange:s[1]||(s[1]=t=>u("exam",t.target.value))},[s[6]||(s[6]=e("option",{value:""},"Select Exam",-1)),(a(!0),r(n,null,i(o.exams,t=>(a(),r("option",{key:t.id,value:t.id},l(t.name)+" ("+l(t.academic_year)+") ",9,E))),128))],40,R)]),e("div",V,[s[9]||(s[9]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Test Exam (Jaribio)",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:o.filters.test_exam||"",onChange:s[2]||(s[2]=t=>u("test_exam",t.target.value))},[s[8]||(s[8]=e("option",{value:""},"None",-1)),(a(!0),r(n,null,i(o.exams,t=>(a(),r("option",{key:t.id,value:t.id},l(t.name)+" ("+l(t.academic_year)+") ",9,F))),128))],40,B)]),e("div",$,[s[11]||(s[11]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Class",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",value:o.filters.class||"",onChange:s[3]||(s[3]=t=>u("class",t.target.value))},[s[10]||(s[10]=e("option",{value:""},"All Classes",-1)),(a(!0),r(n,null,i(o.classes,t=>(a(),r("option",{key:t,value:t},l(t),9,L))),128))],40,j)])])])]),default:g(()=>[e("div",O,[s[15]||(s[15]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"font-medium"},"Students"),e("p",{class:"text-[11px] text-gray-500"}," Select a student and open their report card. Make sure you have selected the correct exam above. ")],-1)),e("div",T,[e("table",Y,[s[14]||(s[14]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Exam No."),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Student Name"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Gender"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-right"},"Action")])],-1)),e("tbody",null,[o.students.length===0?(a(),r("tr",q,[...s[13]||(s[13]=[e("td",{colspan:"5",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No students found for the selected filters. ",-1)])])):c("",!0),(a(!0),r(n,null,i(o.students,t=>(a(),r("tr",{key:t.id,class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",D,l(t.exam_number||"-"),1),e("td",G,l(t.full_name),1),e("td",I,[w(l(t.class_level),1),t.stream?(a(),r("span",J," - "+l(t.stream),1)):c("",!0)]),e("td",M,l(t.gender||"-"),1),e("td",P,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1 text-[10px] font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-gray-300",disabled:!o.filters.exam,onClick:p=>b(t.id)}," Open Report ",8,U)])]))),128))])])])])]),_:1})],64))}};export{Q as default};

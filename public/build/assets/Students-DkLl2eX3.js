import{i as p,j as V,c as a,a as x,u as b,h as F,w as g,b as e,k as v,K as N,v as q,o as d,F as i,r as y,t as l,p as j,f,d as S,l as C,m as D}from"./app-B6eS_iC8.js";import{_ as $}from"./AuthenticatedLayout-B5zucoMp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},K={class:"rounded-lg bg-white p-5 shadow-sm ring-1 ring-gray-100"},U={class:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between"},E={class:"grid w-full gap-3 sm:grid-cols-4"},T=["value"],G=["value"],L={class:"text-xs text-gray-500"},O={class:"font-semibold text-gray-800"},z={class:"grid gap-4 sm:hidden"},H={key:0,class:"rounded-lg bg-white px-5 py-6 text-center text-sm text-gray-500 shadow-sm ring-1 ring-gray-100"},I={class:"flex items-start justify-between gap-3"},J={class:"min-w-0"},P={class:"truncate text-sm font-semibold text-gray-900"},Q={class:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-600"},R={class:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 font-semibold text-gray-700"},W={class:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 font-semibold text-emerald-700 ring-1 ring-emerald-100"},X={class:"text-gray-500"},Y={class:"mt-4 flex justify-end"},Z={class:"hidden overflow-hidden rounded-lg bg-white shadow-sm ring-1 ring-gray-100 sm:block"},ee={class:"overflow-x-auto"},te={class:"min-w-full divide-y divide-gray-100 text-left text-sm"},se={class:"divide-y divide-gray-100"},le={key:0},ae={class:"px-5 py-3 font-medium text-gray-900"},de={class:"px-5 py-3"},re={class:"font-semibold text-gray-900"},ne={class:"mt-0.5 text-xs text-gray-500"},oe={class:"px-5 py-3 text-gray-700"},ie={class:"px-5 py-3 text-gray-700"},ue={class:"px-5 py-3 text-gray-700"},ce={class:"px-5 py-3"},ye={__name:"Students",props:{students:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]},subjects:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({class:null,subject:null,q:""})}},setup(r){var h,w,_;const n=r,u=p(((h=n.filters)==null?void 0:h.class)||""),c=p(((w=n.filters)==null?void 0:w.subject)||""),m=p(((_=n.filters)==null?void 0:_.q)||""),A=V(()=>Array.isArray(n.students)?n.students.length:0),o=()=>{D.get(route("teacher.students.index"),{class:u.value||null,subject:c.value||null,q:m.value||null},{preserveState:!0,preserveScroll:!0,replace:!0})},M=()=>{u.value="",c.value="",m.value="",o()};return(k,s)=>(d(),a(i,null,[x(b(F),{title:"My Students"}),x($,null,{header:g(()=>[...s[3]||(s[3]=[e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"My Students"),e("p",{class:"mt-1 text-sm text-gray-500"}," Students from your assigned classes only. ")],-1)])]),default:g(()=>[e("div",B,[e("div",K,[e("div",U,[e("div",E,[e("div",null,[s[4]||(s[4]=e("label",{class:"block text-xs font-semibold text-gray-700"},"Search",-1)),v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Search by name or exam number",onKeyup:N(o,["enter"])},null,544),[[q,m.value]])]),e("div",null,[s[6]||(s[6]=e("label",{class:"block text-xs font-semibold text-gray-700"},"Class",-1)),v(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),class:"mt-1 block w-full rounded-md border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500",onChange:o},[s[5]||(s[5]=e("option",{value:""},"All assigned classes",-1)),(d(!0),a(i,null,y(r.classes,t=>(d(),a("option",{key:t.key,value:t.key},l(t.label),9,T))),128))],544),[[j,u.value]])]),e("div",null,[s[8]||(s[8]=e("label",{class:"block text-xs font-semibold text-gray-700"},"Subject",-1)),v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),class:"mt-1 block w-full rounded-md border-gray-300 text-sm focus:border-emerald-500 focus:ring-emerald-500",onChange:o},[s[7]||(s[7]=e("option",{value:""},"All my subjects",-1)),(d(!0),a(i,null,y(r.subjects,t=>(d(),a("option",{key:t.id,value:t.id},l(t.label),9,G))),128))],544),[[j,c.value]])]),e("div",{class:"flex items-end gap-2"},[e("button",{type:"button",class:"inline-flex h-10 items-center justify-center rounded-md bg-emerald-600 px-4 text-sm font-semibold text-white hover:bg-emerald-700",onClick:o}," Apply "),e("button",{type:"button",class:"inline-flex h-10 items-center justify-center rounded-md bg-white px-4 text-sm font-semibold text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50",onClick:M}," Clear ")])]),e("div",L,[s[9]||(s[9]=f(" Showing ",-1)),e("span",O,l(A.value),1),s[10]||(s[10]=f(" students ",-1))])])]),e("div",z,[!r.students||r.students.length===0?(d(),a("div",H," No students found for your assigned classes. ")):S("",!0),(d(!0),a(i,null,y(r.students,t=>(d(),a("div",{key:`m-${t.id}`,class:"rounded-lg bg-white p-5 shadow-sm ring-1 ring-gray-100"},[e("div",I,[e("div",J,[e("div",P,l(t.full_name),1),e("div",Q,[e("span",R,l(t.exam_number||"—"),1),e("span",W,l(t.class_level)+l(t.stream?` - ${t.stream}`:""),1),e("span",X,l(t.gender||"—"),1)])])]),e("div",Y,[x(b(C),{href:k.route("teacher.students.show",t.id),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-xs font-semibold text-white hover:bg-emerald-700"},{default:g(()=>[...s[11]||(s[11]=[f(" Details ",-1)])]),_:1},8,["href"])])]))),128))]),e("div",Z,[e("div",ee,[e("table",te,[s[14]||(s[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Exam #"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Student"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Class"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Stream"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Gender"),e("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Action")])],-1)),e("tbody",se,[!r.students||r.students.length===0?(d(),a("tr",le,[...s[12]||(s[12]=[e("td",{colspan:"6",class:"px-5 py-6 text-center text-sm text-gray-500"}," No students found for your assigned classes. ",-1)])])):S("",!0),(d(!0),a(i,null,y(r.students,t=>(d(),a("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",ae,l(t.exam_number),1),e("td",de,[e("div",re,l(t.full_name),1),e("div",ne,l(t.class_level)+l(t.stream?` - ${t.stream}`:""),1)]),e("td",oe,l(t.class_level),1),e("td",ie,l(t.stream||"—"),1),e("td",ue,l(t.gender||"—"),1),e("td",ce,[x(b(C),{href:k.route("teacher.students.show",t.id),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700"},{default:g(()=>[...s[13]||(s[13]=[f(" Details ",-1)])]),_:1},8,["href"])])]))),128))])])])])])]),_:1})],64))}};export{ye as default};

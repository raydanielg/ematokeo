import{H as ee,j as te,i as u,c as l,a as P,u as se,h as le,w as z,b as e,d as r,t as a,o,F as m,r as b,k as f,v as X,p as j,f as D,m as _}from"./app-QwzqcD60.js";import{_ as oe}from"./AuthenticatedLayout-CjLxhKVI.js";import"./ApplicationLogo-H9yvCvIP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ne={class:"flex items-center justify-between"},ae={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6"},re={class:"w-full max-w-sm rounded-xl bg-white p-5 shadow-xl"},de={class:"mb-4 text-xs text-gray-600"},ue={class:"flex justify-end gap-2 text-xs"},ie=["disabled"],pe={key:0},xe={key:1},me={key:1,class:"pointer-events-none fixed inset-0 z-50 flex items-start justify-center pt-16"},be={class:"pointer-events-auto rounded-md bg-emerald-600 px-4 py-2 text-xs font-medium text-white shadow-lg"},ge={key:2,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 px-4 py-6"},ce={class:"w-full max-w-sm rounded-xl bg-white p-5 shadow-xl"},ye={class:"mb-3 flex items-center justify-between"},fe={class:"space-y-3 text-xs text-gray-700"},ve=["value"],he={class:"mt-4 flex justify-end gap-2"},we=["disabled"],ke={key:0},_e={key:1},Se={class:"flex items-center gap-2"},Ce=["value","selected"],je={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},De={class:"mb-3 flex items-center justify-between gap-3"},Ne={class:"text-sm font-medium text-gray-700"},Fe={class:"flex items-center gap-2"},Be=["disabled"],Ee={key:0},Ie={key:1},Me={class:"overflow-x-auto"},Ae={class:"min-w-full text-left text-sm"},Ue={class:"border-b border-gray-200 bg-gray-50 text-xs font-semibold uppercase tracking-wide text-gray-500"},$e={class:"px-3 py-2"},Ve=["checked"],Pe={key:0},ze={class:"px-3 py-2 align-top"},Xe=["checked","onChange"],Ge={class:"px-3 py-2 align-top"},Oe={class:"px-3 py-2 align-top font-mono text-xs text-gray-900"},Te={class:"px-3 py-2 align-top"},Re={class:"px-3 py-2 align-top"},Je={key:0},Le={class:"px-3 py-2 align-top"},qe={class:"flex flex-wrap gap-1"},He={key:1,class:"text-[11px] text-gray-400"},Ke={class:"px-3 py-2 align-top"},We={class:"px-3 py-2 align-top"},Ye={class:"flex justify-end gap-2"},Qe=["onClick"],Ze=["onClick"],et={key:0,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 px-4 py-6"},tt={class:"w-full max-w-md rounded-xl bg-white p-5 shadow-xl"},st={class:"mb-4 flex items-center justify-between"},lt={class:"space-y-3 text-xs text-gray-700"},ot={class:"grid grid-cols-2 gap-3"},nt=["value"],at={class:"mt-4 flex justify-end gap-2"},rt=["disabled"],dt={key:0},ut={key:1},it={key:1,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 px-4 py-6"},pt={class:"w-full max-w-3xl rounded-xl bg-white p-5 shadow-xl"},xt={class:"mb-3 flex items-center justify-between text-[11px] text-gray-600"},mt=["href"],bt={class:"grid gap-4 md:grid-cols-2 text-xs text-gray-700"},gt={class:"space-y-2"},ct={class:"space-y-1"},yt={class:"flex justify-between"},ft={class:"text-gray-800"},vt={class:"flex justify-between"},ht={class:"font-mono text-gray-800"},wt={class:"flex justify-between"},kt={class:"text-gray-800"},_t={key:0},St={class:"flex justify-between"},Ct={class:"text-gray-800"},jt={class:"flex justify-between"},Dt={class:"text-gray-800"},Nt={class:"space-y-2"},Ft={class:"mb-2 flex flex-wrap gap-1"},Bt={key:1,class:"text-[11px] text-gray-400"},Et={class:"mt-2 overflow-hidden rounded-lg border border-gray-200 bg-white"},It={class:"border-b border-gray-200 bg-gray-50 px-3 py-2"},Mt={class:"mt-2 flex flex-wrap items-center justify-between gap-2 text-[10px] text-gray-600"},At={class:"ml-1 text-gray-800"},Ut={class:"ml-1 font-mono text-gray-800"},$t={class:"mt-1 flex flex-wrap items-center justify-between gap-2 text-[10px] text-gray-600"},Vt={class:"ml-1 text-gray-800"},Pt={key:0},zt={class:"flex items-center gap-2"},Xt=["value"],Gt={key:2,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 px-4 py-6"},Ot={class:"w-full max-w-lg rounded-xl bg-white p-5 shadow-xl"},Tt={class:"space-y-3 text-xs text-gray-700"},Rt=["value"],Jt={class:"grid grid-cols-2 gap-3"},Lt=["value"],qt=["value"],Ht={class:"grid grid-cols-2 gap-3"},Kt=["value"],Wt=["value"],Yt={class:"flex flex-wrap gap-1"},Qt={key:1,class:"text-[11px] text-gray-400"},Zt={key:3,class:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 px-4 py-6"},es={class:"w-full max-w-xl rounded-xl bg-white p-5 shadow-xl"},ts={class:"mb-4 flex items-center justify-between"},ss={class:"mt-4 flex justify-between gap-2"},ls={class:"flex gap-2"},ds={__name:"Students",props:{students:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({class:null})},exams:{type:Array,default:()=>[]}},setup(x){const N=x,F=ee(),I=te(()=>F.props.flash&&F.props.flash.success?F.props.flash.success:""),v=u(!1),S=u(!1),h=u(!1),B=u(!1),E=u(!1),C=u(!1),n=u(null),w=u(!1),i=u([]),g=u(!1),p=u({full_name:"",class_level:"",gender:"",date_of_birth:""}),c=u(""),k=u(!1),G=d=>{const t=d.target.value||null;_.get(route("students.index"),{class:t},{preserveState:!0,preserveScroll:!0,replace:!0})},O=d=>{const t=i.value.indexOf(d);t===-1?i.value.push(d):i.value.splice(t,1)},M=()=>N.students.length>0&&i.value.length===N.students.length,T=()=>{M()?i.value=[]:i.value=N.students.map(d=>d.id)},R=()=>{!i.value.length||g.value||(g.value=!0,_.post(route("students.bulk-delete"),{ids:i.value},{preserveScroll:!0,onSuccess:()=>{i.value=[],C.value=!1},onFinish:()=>{g.value=!1}}))},J=()=>{i.value.length&&(C.value=!0)},L=()=>{c.value="",h.value=!0},q=()=>{!c.value||k.value||(k.value=!0,_.post(route("students.import-samples"),{class_level:c.value},{preserveScroll:!0,onSuccess:()=>{h.value=!1},onFinish:()=>{k.value=!1}}))},H=d=>{n.value=d,B.value=!0},K=d=>{n.value=d,E.value=!0},W=()=>{p.value={full_name:"",class_level:"",gender:"",date_of_birth:""}},Y=()=>{W(),v.value=!0},Q=()=>{w.value||(w.value=!0,_.post(route("students.store"),{full_name:p.value.full_name,class_level:p.value.class_level,gender:p.value.gender||null,date_of_birth:p.value.date_of_birth||null},{preserveScroll:!0,onSuccess:()=>{v.value=!1},onFinish:()=>{w.value=!1}}))},A=()=>{B.value=!1},U=()=>{E.value=!1},$=()=>{if(!n.value)return;const d=n.value.id;_.get(route("reports.students.show",d))},V=u("");return(d,t)=>(o(),l(m,null,[P(se(le),{title:"Students"}),P(oe,null,{header:z(()=>[e("div",ne,[t[21]||(t[21]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Students "),e("p",{class:"mt-1 text-sm text-gray-500"}," Overview of all registered students. Use the class filter to narrow down the list. ")],-1)),C.value?(o(),l("div",ae,[e("div",re,[t[14]||(t[14]=e("h3",{class:"mb-2 text-sm font-semibold text-gray-800"}," Confirm bulk delete ",-1)),e("p",de," You are about to delete "+a(i.value.length)+" student(s). This action cannot be undone. ",1),e("div",ue,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[0]||(t[0]=s=>C.value=!1)}," Cancel "),e("button",{type:"button",class:"rounded-md bg-red-600 px-3 py-1.5 font-semibold text-white shadow-sm hover:bg-red-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:g.value,onClick:R},[g.value?(o(),l("span",xe,"Deleting...")):(o(),l("span",pe,"Delete"))],8,ie)])])])):r("",!0),I.value?(o(),l("div",me,[e("div",be,a(I.value),1)])):r("",!0),h.value?(o(),l("div",ge,[e("div",ce,[e("div",ye,[t[15]||(t[15]=e("h3",{class:"text-sm font-semibold text-gray-800"}," Import 100 Sample Students ",-1)),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",onClick:t[1]||(t[1]=s=>h.value=!1)}," ✕ ")]),e("div",fe,[t[18]||(t[18]=e("p",{class:"text-[11px] text-gray-600"}," Choose the class level where you want to quickly add 100 sample students. They will automatically inherit all subjects already assigned to that class level on the Classes page. Useful for testing reports and features without entering data manually. ",-1)),e("div",null,[t[17]||(t[17]=e("label",{class:"mb-1 block font-medium"},"Class Level",-1)),f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[t[16]||(t[16]=e("option",{value:""},"Select class level",-1)),(o(!0),l(m,null,b(x.classes,s=>(o(),l("option",{key:"import-"+s,value:s},a(s),9,ve))),128))],512),[[j,c.value]])])]),e("div",he,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[3]||(t[3]=s=>h.value=!1)}," Cancel "),e("button",{type:"button",class:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:!c.value||k.value,onClick:q},[k.value?(o(),l("span",_e,"Importing...")):(o(),l("span",ke,"Import 100 Students"))],8,we)])])])):r("",!0),e("div",Se,[t[20]||(t[20]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Class",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:G},[t[19]||(t[19]=e("option",{value:""},"All",-1)),(o(!0),l(m,null,b(x.classes,s=>(o(),l("option",{key:s,value:s,selected:x.filters.class===s},a(s),9,Ce))),128))],32)])])]),default:z(()=>[e("div",je,[e("div",De,[e("p",Ne," Students list ("+a(x.students.length)+") ",1),e("div",Fe,[e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm transition hover:bg-emerald-700 focus:outline-none",onClick:Y},[...t[22]||(t[22]=[e("span",{class:"text-base leading-none"},"+",-1),e("span",null,"Add Student",-1)])]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-md bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-200 transition hover:bg-emerald-100 focus:outline-none",onClick:t[4]||(t[4]=s=>S.value=!0)},[...t[23]||(t[23]=[e("span",{class:"text-sm leading-none"},"⇪",-1),e("span",null,"Bulk Upload",-1)])]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-md bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-700 ring-1 ring-blue-200 transition hover:bg-blue-100 focus:outline-none",onClick:L},[...t[24]||(t[24]=[e("span",{class:"text-sm leading-none"},"★",-1),e("span",null,"Import 100 Samples",-1)])]),e("button",{type:"button",class:"inline-flex items-center gap-1 rounded-md bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-700 ring-1 ring-red-200 transition hover:bg-red-100 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60",disabled:!i.value.length||g.value,onClick:J},[g.value?(o(),l("span",Ie,"Deleting...")):(o(),l("span",Ee,"Bulk Delete"))],8,Be)])]),e("div",Me,[e("table",Ae,[e("thead",null,[e("tr",Ue,[e("th",$e,[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:M(),onChange:T},null,40,Ve)]),t[25]||(t[25]=e("th",{class:"px-3 py-2"},"#",-1)),t[26]||(t[26]=e("th",{class:"px-3 py-2"},"Exam Number",-1)),t[27]||(t[27]=e("th",{class:"px-3 py-2"},"Full Name",-1)),t[28]||(t[28]=e("th",{class:"px-3 py-2"},"Class",-1)),t[29]||(t[29]=e("th",{class:"px-3 py-2"},"Subjects",-1)),t[30]||(t[30]=e("th",{class:"px-3 py-2"},"Gender",-1)),t[31]||(t[31]=e("th",{class:"px-3 py-2 text-right"},"Actions",-1))])]),e("tbody",null,[x.students.length===0?(o(),l("tr",Pe,[...t[32]||(t[32]=[e("td",{colspan:"7",class:"px-3 py-4 text-center text-xs text-gray-500"}," No students found yet. ",-1)])])):r("",!0),(o(!0),l(m,null,b(x.students,(s,Z)=>(o(),l("tr",{key:s.id,class:"border-b border-gray-100 text-xs text-gray-700 hover:bg-gray-50"},[e("td",ze,[e("input",{type:"checkbox",class:"h-3 w-3 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:i.value.includes(s.id),onChange:y=>O(s.id)},null,40,Xe)]),e("td",Ge,a(Z+1),1),e("td",Oe,a(s.exam_number),1),e("td",Te,a(s.full_name),1),e("td",Re,[e("span",null,a(s.class_level),1),s.stream?(o(),l("span",Je," - "+a(s.stream),1)):r("",!0)]),e("td",Le,[e("div",qe,[s.subjects&&s.subjects.length?(o(!0),l(m,{key:0},b(s.subjects,y=>(o(),l("span",{key:y.code,class:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-[10px] font-medium text-emerald-700 ring-1 ring-emerald-100"},a(y.code)+" - "+a(y.name),1))),128)):r("",!0),!s.subjects||!s.subjects.length?(o(),l("span",He," — ")):r("",!0)])]),e("td",Ke,a(s.gender||"—"),1),e("td",We,[e("div",Ye,[e("button",{type:"button",class:"rounded-md bg-blue-50 px-2 py-1 text-[11px] font-medium text-blue-700 ring-1 ring-blue-100 hover:bg-blue-100",onClick:y=>H(s)}," Details ",8,Qe),e("button",{type:"button",class:"rounded-md bg-emerald-50 px-2 py-1 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:y=>K(s)}," Edit ",8,Ze),t[33]||(t[33]=e("button",{type:"button",class:"rounded-md bg-red-50 px-2 py-1 text-[11px] font-medium text-red-700 ring-1 ring-red-100 hover:bg-red-100"}," Delete ",-1))])])]))),128))])])])]),v.value?(o(),l("div",et,[e("div",tt,[e("div",st,[t[34]||(t[34]=e("h3",{class:"text-sm font-semibold text-gray-800"}," Add Student ",-1)),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",onClick:t[5]||(t[5]=s=>v.value=!1)}," ✕ ")]),e("div",lt,[e("div",null,[t[35]||(t[35]=e("label",{class:"mb-1 block font-medium"},"Full Name",-1)),f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>p.value.full_name=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. John Doe"},null,512),[[X,p.value.full_name]])]),e("div",ot,[e("div",null,[t[37]||(t[37]=e("label",{class:"mb-1 block font-medium"},"Class",-1)),f(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>p.value.class_level=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[t[36]||(t[36]=e("option",{value:""},"Select class",-1)),(o(!0),l(m,null,b(x.classes,s=>(o(),l("option",{key:"add-"+s,value:s},a(s),9,nt))),128))],512),[[j,p.value.class_level]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"mb-1 block font-medium"},"Gender",-1)),f(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>p.value.gender=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[...t[38]||(t[38]=[e("option",{value:""},"Select gender",-1),e("option",{value:"M"},"Male",-1),e("option",{value:"F"},"Female",-1)])],512),[[j,p.value.gender]])])]),t[41]||(t[41]=e("div",null,[e("label",{class:"mb-1 block font-medium"},"Parent Phone"),e("input",{type:"tel",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. 07XXXXXXXX"})],-1)),e("div",null,[t[40]||(t[40]=e("label",{class:"mb-1 block font-medium"},"Date of Birth",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>p.value.date_of_birth=s),type:"date",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,512),[[X,p.value.date_of_birth]])]),t[42]||(t[42]=e("div",null,[e("label",{class:"mb-1 block font-medium"},"Exam Number"),e("input",{type:"text",class:"w-full cursor-not-allowed rounded-md border border-dashed border-gray-300 bg-gray-50 px-2 py-1.5 text-xs text-gray-500",value:"Will be generated automatically from school code",readonly:""}),e("p",{class:"mt-1 text-[10px] text-gray-500"}," After you save, the system will assign an exam number using your school code and class. ")],-1)),t[43]||(t[43]=e("div",null,[e("label",{class:"mb-1 block font-medium"},"Notes (optional)"),e("textarea",{rows:"2",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"Any extra information about this student"})],-1))]),e("div",at,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[10]||(t[10]=s=>v.value=!1)}," Cancel "),e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700",disabled:w.value,onClick:Q},[w.value?(o(),l("span",ut,"Saving...")):(o(),l("span",dt,"Save"))],8,rt)])])])):r("",!0),B.value&&n.value?(o(),l("div",it,[e("div",pt,[e("div",{class:"mb-3 flex items-center justify-between"},[t[44]||(t[44]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-800"}," Student Details "),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Full profile and a sample academic summary for this student. ")],-1)),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",onClick:A}," ✕ ")]),e("div",xt,[t[46]||(t[46]=e("div",null,null,-1)),n.value?(o(),l("a",{key:0,href:d.route("students.marks.show",n.value.id),target:"_blank",class:"inline-flex items-center gap-1 rounded-md bg-emerald-50 px-2 py-1 font-medium text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100"},[...t[45]||(t[45]=[e("span",null,"Open Marks JSON",-1)])],8,mt)):r("",!0)]),e("div",bt,[e("div",gt,[t[52]||(t[52]=e("h4",{class:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"}," Basic Information ",-1)),e("div",ct,[e("div",yt,[t[47]||(t[47]=e("span",{class:"font-medium text-gray-600"},"Full Name:",-1)),e("span",ft,a(n.value.full_name),1)]),e("div",vt,[t[48]||(t[48]=e("span",{class:"font-medium text-gray-600"},"Exam No:",-1)),e("span",ht,a(n.value.exam_number),1)]),e("div",wt,[t[49]||(t[49]=e("span",{class:"font-medium text-gray-600"},"Class / Stream:",-1)),e("span",kt,[D(a(n.value.class_level)+" ",1),n.value.stream?(o(),l("span",_t,"- "+a(n.value.stream),1)):r("",!0)])]),e("div",St,[t[50]||(t[50]=e("span",{class:"font-medium text-gray-600"},"Gender:",-1)),e("span",Ct,a(n.value.gender||"—"),1)]),e("div",jt,[t[51]||(t[51]=e("span",{class:"font-medium text-gray-600"},"Date of Birth:",-1)),e("span",Dt,a(n.value.date_of_birth||"—"),1)])]),t[53]||(t[53]=e("h4",{class:"mt-3 text-[11px] font-semibold uppercase tracking-wide text-gray-500"}," Guardian & Contacts (placeholder) ",-1)),t[54]||(t[54]=e("p",{class:"text-[11px] text-gray-500"}," In the full system this section will show parent/guardian name, phone and address linked to this student. ",-1))]),e("div",Nt,[t[62]||(t[62]=e("h4",{class:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"}," Subjects ",-1)),e("div",Ft,[n.value.subjects&&n.value.subjects.length?(o(!0),l(m,{key:0},b(n.value.subjects,s=>(o(),l("span",{key:s.code,class:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100"},a(s.code)+" - "+a(s.name),1))),128)):r("",!0),!n.value.subjects||!n.value.subjects.length?(o(),l("span",Bt," Subjects not configured yet. ")):r("",!0)]),e("div",Et,[e("div",It,[e("div",{class:"flex items-center justify-between gap-2"},[t[55]||(t[55]=e("div",{class:"flex items-center gap-2"},[e("img",{src:"/images/emblem.png",alt:"Emblem",class:"h-7 w-7 flex-shrink-0"}),e("div",{class:"leading-tight"},[e("p",{class:"text-[10px] font-semibold uppercase tracking-wide text-gray-700"}," United Republic of Tanzania "),e("p",{class:"text-[10px] font-semibold text-gray-800"}," Student Report Card (Preview) ")])],-1)),e("button",{type:"button",class:"hidden rounded-md bg-emerald-600 px-2 py-1 text-[10px] font-semibold text-white shadow-sm hover:bg-emerald-700 md:inline-flex",onClick:$}," Open & Print ")]),e("div",Mt,[e("div",null,[t[56]||(t[56]=e("span",{class:"font-semibold text-gray-700"},"Student:",-1)),e("span",At,a(n.value.full_name),1)]),e("div",null,[t[57]||(t[57]=e("span",{class:"font-semibold text-gray-700"},"Exam No:",-1)),e("span",Ut,a(n.value.exam_number),1)])]),e("div",$t,[e("div",null,[t[58]||(t[58]=e("span",{class:"font-semibold text-gray-700"},"Class:",-1)),e("span",Vt,[D(a(n.value.class_level)+" ",1),n.value.stream?(o(),l("span",Pt,"- "+a(n.value.stream),1)):r("",!0)])]),e("div",zt,[t[60]||(t[60]=e("span",{class:"font-semibold text-gray-700"},"Exam:",-1)),f(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>V.value=s),class:"rounded-md border border-gray-300 px-2 py-0.5 text-[10px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[t[59]||(t[59]=e("option",{value:""}," Select exam ",-1)),(o(!0),l(m,null,b(x.exams,s=>(o(),l("option",{key:s.id,value:s.id},a(s.name)+" ("+a(s.academic_year)+") ",9,Xt))),128))],512),[[j,V.value]])])])]),t[61]||(t[61]=e("div",{class:"px-3 py-2"},[e("table",{class:"w-full border-collapse text-[11px]"},[e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Subject"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-center"},"Marks"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-center"},"Grade")])]),e("tbody",null,[e("tr",{class:"text-gray-700"},[e("td",{class:"border-t border-gray-100 px-2 py-1"},"Mathematics"),e("td",{class:"border-t border-gray-100 px-2 py-1 text-center"},"78"),e("td",{class:"border-t border-gray-100 px-2 py-1 text-center"},"B")]),e("tr",{class:"text-gray-700"},[e("td",{class:"border-t border-gray-100 px-2 py-1"},"English"),e("td",{class:"border-t border-gray-100 px-2 py-1 text-center"},"65"),e("td",{class:"border-t border-gray-100 px-2 py-1 text-center"},"C")]),e("tr",{class:"text-gray-700"},[e("td",{class:"border-t border-gray-100 px-2 py-1"},"Kiswahili"),e("td",{class:"border-t border-gray-100 px-2 py-1 text-center"},"82"),e("td",{class:"border-t border-gray-100 px-2 py-1 text-center"},"A")])])]),e("p",{class:"mt-1 text-[10px] text-gray-400"},' This is a quick in-page preview. Use the "Print Report Card" button below to open the full printable report card with all details. ')],-1))])])]),e("div",{class:"mt-4 flex justify-between gap-2"},[e("button",{type:"button",class:"text-[11px] text-emerald-700 hover:underline",onClick:$}," Print Report Card "),e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:A}," Close ")])])])):r("",!0),E.value&&n.value?(o(),l("div",Gt,[e("div",Ot,[e("div",{class:"mb-3 flex items-center justify-between"},[t[63]||(t[63]=e("h3",{class:"text-sm font-semibold text-gray-800"}," Edit Student ",-1)),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",onClick:U}," ✕ ")]),e("form",Tt,[e("div",null,[t[64]||(t[64]=e("label",{class:"mb-1 block font-medium"},"Full Name",-1)),e("input",{value:n.value.full_name,type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,8,Rt)]),e("div",Jt,[e("div",null,[t[65]||(t[65]=e("label",{class:"mb-1 block font-medium"},"Class Level",-1)),e("input",{value:n.value.class_level,type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,8,Lt)]),e("div",null,[t[66]||(t[66]=e("label",{class:"mb-1 block font-medium"},"Stream",-1)),e("input",{value:n.value.stream,type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,8,qt)])]),e("div",Ht,[e("div",null,[t[67]||(t[67]=e("label",{class:"mb-1 block font-medium"},"Gender",-1)),e("input",{value:n.value.gender||"",type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,8,Kt)]),e("div",null,[t[68]||(t[68]=e("label",{class:"mb-1 block font-medium"},"Date of Birth",-1)),e("input",{value:n.value.date_of_birth||"",type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},null,8,Wt)])]),e("div",null,[t[69]||(t[69]=e("label",{class:"mb-1 block font-medium"},"Assigned Subjects",-1)),e("div",Yt,[n.value.subjects&&n.value.subjects.length?(o(!0),l(m,{key:0},b(n.value.subjects,s=>(o(),l("span",{key:s.code,class:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100"},a(s.code)+" - "+a(s.name),1))),128)):r("",!0),!n.value.subjects||!n.value.subjects.length?(o(),l("span",Qt," No subjects assigned yet. In future you will be able to pick per-student subjects here. ")):r("",!0)])]),e("div",{class:"mt-4 flex justify-end gap-2"},[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:U}," Cancel "),t[70]||(t[70]=e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700"}," Save Changes (UI only) ",-1))])])])])):r("",!0),S.value?(o(),l("div",Zt,[e("div",es,[e("div",ts,[t[71]||(t[71]=e("h3",{class:"text-sm font-semibold text-gray-800"}," Bulk Upload Students ",-1)),e("button",{type:"button",class:"rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600",onClick:t[12]||(t[12]=s=>S.value=!1)}," ✕ ")]),t[74]||(t[74]=e("div",{class:"space-y-3 text-xs text-gray-700"},[e("p",{class:"text-[11px] text-gray-600"},[D(" Paste or type one student per line in the format: "),e("span",{class:"font-mono"},"Full Name, Class, Gender"),D(". Exam numbers will be generated automatically based on your school code and class. ")]),e("textarea",{rows:"8",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-xs font-mono focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:`e.g.\r
John Doe, Form I, M\r
Jane Doe, Form I, F`})],-1)),e("div",ss,[t[73]||(t[73]=e("button",{type:"button",class:"text-[11px] text-emerald-700 hover:underline"}," Download sample CSV (coming soon) ",-1)),e("div",ls,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-xs font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[13]||(t[13]=s=>S.value=!1)}," Cancel "),t[72]||(t[72]=e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700"}," Process Upload ",-1))])])])])):r("",!0)]),_:1})],64))}};export{ds as default};

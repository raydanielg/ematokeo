import{_}from"./AuthenticatedLayout-B5zucoMp.js";import{i as w,c as a,a as b,u as j,h as P,w as y,b as e,d as i,o,F as l,r as c,t as s,m as p}from"./app-B6eS_iC8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex flex-wrap items-center justify-between gap-3"},k={class:"flex flex-wrap items-center gap-3 text-xs"},C={class:"flex items-center gap-2"},A=["value","selected"],E={class:"flex items-center gap-2"},N=["value","selected"],F={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},B={class:"mb-3 flex items-center justify-end"},D=["disabled"],V={key:0,class:"py-10 text-center text-xs text-gray-400"},Y={key:1,class:"overflow-x-auto"},G={class:"min-w-full border-collapse text-[11px]"},z={key:0},I={class:"border-b border-gray-100 px-3 py-2 font-medium text-gray-800"},L={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},O={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},$={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},q={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},H={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},J={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},K={key:0,class:"fixed inset-0 z-50 overflow-y-auto bg-black/30 p-4 print:static print:bg-transparent"},M={class:"mx-auto w-full max-w-5xl rounded-xl bg-white shadow-lg print:mx-0 print:max-w-none print:rounded-none print:shadow-none"},Q={class:"p-6"},R={class:"mb-4"},T={class:"text-xs text-gray-500"},U={class:"overflow-x-auto"},W={class:"min-w-full border-collapse text-[11px]"},X={key:0},Z={class:"border-b border-gray-100 px-3 py-2 font-medium text-gray-800"},ee={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},te={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},re={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},se={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},ae={class:"border-b border-gray-100 px-3 py-2 text-center text-gray-600"},ne={__name:"SubjectPerformance",props:{years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},performance:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({year:null,exam:null})}},setup(d){const u=d,x=w(!1),g=n=>{const t=n.target.value||null;p.get(route("teacher.results.subject"),{year:t,exam:null},{preserveState:!0,preserveScroll:!0,replace:!0})},m=n=>{const t=n.target.value||null;p.get(route("teacher.results.subject"),{year:u.filters.year,exam:t},{preserveState:!0,preserveScroll:!0,replace:!0})},f=()=>{x.value=!0},h=()=>{x.value=!1},v=()=>{window.print()};return(n,t)=>(o(),a(l,null,[b(j(P),{title:"Subject Performance"}),b(_,null,{header:y(()=>[e("div",S,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"Subject Performance"),e("p",{class:"mt-1 text-sm text-gray-500"},"Performance for your subjects only (restricted to your assignments).")],-1)),e("div",k,[e("div",C,[t[1]||(t[1]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:g},[t[0]||(t[0]=e("option",{value:""},"All Years",-1)),(o(!0),a(l,null,c(d.years,r=>(o(),a("option",{key:r,value:r,selected:d.filters.year===r},s(r),9,A))),128))],32)]),e("div",E,[t[3]||(t[3]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:m},[t[2]||(t[2]=e("option",{value:""},"Select Exam",-1)),(o(!0),a(l,null,c(d.exams,r=>(o(),a("option",{key:r.id,value:r.id,selected:String(d.filters.exam)===String(r.id)},s(r.name)+" ("+s(r.academic_year||"—")+") ",9,N))),128))],32)])])])]),default:y(()=>[e("div",F,[t[7]||(t[7]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"mb-1 font-medium"},"Subject Summary"),e("p",{class:"text-[11px] text-gray-500"},"Each row shows aggregated performance for a subject in the selected exam.")],-1)),e("div",B,[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",disabled:!d.filters.exam,onClick:f}," Preview Document ",8,D)]),d.filters.exam?(o(),a("div",Y,[e("table",G,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Subject"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Code"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Sat"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Pass"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Fail"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"GPA"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Competency")])],-1)),e("tbody",null,[d.filters.exam&&d.performance.length===0?(o(),a("tr",z,[...t[5]||(t[5]=[e("td",{colspan:"7",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No subject performance data found for this exam yet. ",-1)])])):i("",!0),(o(!0),a(l,null,c(d.performance,r=>(o(),a("tr",{key:r.code,class:"hover:bg-gray-50"},[e("td",I,s(r.name),1),e("td",L,s(r.code),1),e("td",O,s(r.sat??0),1),e("td",$,s(r.pass??0),1),e("td",q,s(r.fail??0),1),e("td",H,s(r.gpa??"—"),1),e("td",J,s(r.competency??"—"),1)]))),128))])])])):(o(),a("div",V,"Please select an exam to view subject performance."))]),x.value?(o(),a("div",K,[e("div",M,[e("div",{class:"flex items-center justify-between border-b border-gray-100 px-4 py-3 print:hidden"},[t[8]||(t[8]=e("div",null,[e("p",{class:"text-sm font-semibold text-gray-800"},"Preview"),e("p",{class:"text-xs text-gray-500"},"Printable subject performance summary")],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-[11px] font-semibold text-gray-700 shadow-sm hover:bg-gray-50",onClick:v}," Print "),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-gray-800 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-gray-900",onClick:h}," Close ")])]),e("div",Q,[e("div",R,[t[9]||(t[9]=e("p",{class:"text-lg font-semibold text-gray-900"},"Subject Performance",-1)),e("p",T,"Exam ID: "+s(d.filters.exam),1)]),e("div",U,[e("table",W,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Subject"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Code"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Sat"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Pass"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Fail"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"GPA")])],-1)),e("tbody",null,[d.performance.length===0?(o(),a("tr",X,[...t[10]||(t[10]=[e("td",{colspan:"6",class:"px-3 py-4 text-center text-[11px] text-gray-400"},"No data.",-1)])])):i("",!0),(o(!0),a(l,null,c(d.performance,r=>(o(),a("tr",{key:r.code,class:"hover:bg-gray-50"},[e("td",Z,s(r.name),1),e("td",ee,s(r.code),1),e("td",te,s(r.sat??0),1),e("td",re,s(r.pass??0),1),e("td",se,s(r.fail??0),1),e("td",ae,s(r.gpa??"—"),1)]))),128))])])])])])])):i("",!0)]),_:1})],64))}};export{ne as default};

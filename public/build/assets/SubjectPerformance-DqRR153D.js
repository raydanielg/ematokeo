import{i as k,c as o,a as u,u as _,h as j,w as m,b as e,o as l,d as c,F as d,r as x,t as r,T as S,f as P,m as b}from"./app-nSAAE8qT.js";import{_ as C}from"./AuthenticatedLayout-B6QgYQp6.js";import"./ApplicationLogo-D4OVYHGK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex flex-wrap items-center justify-between gap-3"},N={class:"flex flex-wrap items-center gap-3 text-xs"},A={class:"flex items-center gap-2"},M=["value","selected"],Y={class:"flex items-center gap-2"},T=["value","selected"],F={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},G={key:0,class:"py-10 text-center text-xs text-gray-400"},V={key:1,class:"overflow-x-auto"},W={class:"min-w-full border-collapse text-[11px]"},z={key:0},B={class:"px-3 py-1.5 align-top text-sm font-medium text-gray-900"},D={class:"px-3 py-1.5 align-top text-center"},K={class:"px-3 py-1.5 align-top text-center"},O={class:"px-3 py-1.5 align-top text-center"},U={class:"px-3 py-1.5 align-top text-center"},H={class:"px-3 py-1.5 align-top text-center"},J={class:"px-3 py-1.5 align-top text-center"},L={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-8"},R={class:"max-h-full w-full max-w-4xl overflow-y-auto rounded-xl bg-white p-6 text-xs text-gray-800 shadow-xl"},Z={class:"border border-gray-200 bg-white p-4",id:"subject-performance-document"},$={class:"mb-3 text-center"},q={class:"text-[10px] text-gray-500"},I={class:"font-medium"},Q={key:0},X={class:"w-full border-collapse text-[11px]"},ee={key:0},te={class:"border border-emerald-100 px-2 py-1 bg-white"},se={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},re={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ae={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},oe={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},le={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},ne={class:"border border-emerald-100 px-2 py-1 text-center bg-white"},pe={__name:"SubjectPerformance",props:{years:{type:Array,default:()=>[]},exams:{type:Array,default:()=>[]},performance:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({year:null,exam:null})}},setup(a){const y=a,p=k(!1),g=i=>{const t=i.target.value||null;b.get(route("results.subject"),{year:t,exam:null},{preserveState:!0,preserveScroll:!0,replace:!0})},f=i=>{const t=i.target.value||null;b.get(route("results.subject"),{year:y.filters.year,exam:t},{preserveState:!0,preserveScroll:!0,replace:!0})},h=()=>{p.value=!0},v=()=>{p.value=!1},w=()=>{window.print()};return(i,t)=>(l(),o(d,null,[u(_(j),{title:"Subject Performance"}),u(C,null,{header:m(()=>[e("div",E,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Subject Performance "),e("p",{class:"mt-1 text-sm text-gray-500"}," Overview of performance by subject for the selected exam, including entries, passes, fails and GPA. ")],-1)),e("div",N,[e("div",A,[t[1]||(t[1]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Year",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:g},[t[0]||(t[0]=e("option",{value:""},"All Years",-1)),(l(!0),o(d,null,x(a.years,s=>(l(),o("option",{key:s,value:s,selected:a.filters.year===s},r(s),9,M))),128))],32)]),e("div",Y,[t[3]||(t[3]=e("label",{class:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Exam",-1)),e("select",{class:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",onChange:f},[t[2]||(t[2]=e("option",{value:""},"Select Exam",-1)),(l(!0),o(d,null,x(a.exams,s=>(l(),o("option",{key:s.id,value:s.id,selected:String(a.filters.exam)===String(s.id)},r(s.name)+" ("+r(s.academic_year||"—")+") ",9,T))),128))],32)])])])]),default:m(()=>[e("div",F,[t[7]||(t[7]=e("div",{class:"mb-3 text-xs text-gray-600"},[e("p",{class:"mb-1 font-medium"},"Subject Summary"),e("p",{class:"text-[11px] text-gray-500"}," Each row shows aggregated performance for a subject in the selected exam, including number sat, passes, fails and GPA. ")],-1)),e("div",{class:"mb-3 flex items-center justify-end"},[e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:h}," Preview Document ")]),a.filters.exam?(l(),o("div",V,[e("table",W,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"bg-gray-50 text-gray-600"},[e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-left"},"Subject"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Code"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Sat"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Pass"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Fail"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"GPA"),e("th",{class:"border-b border-gray-200 px-3 py-1.5 text-center"},"Competency")])],-1)),e("tbody",null,[a.filters.exam&&a.performance.length===0?(l(),o("tr",z,[...t[5]||(t[5]=[e("td",{colspan:"7",class:"px-3 py-4 text-center text-[11px] text-gray-400"}," No subject performance data found for this exam yet. ",-1)])])):c("",!0),(l(!0),o(d,null,x(a.performance,s=>(l(),o("tr",{key:s.code,class:"border-b border-gray-100 text-gray-700 odd:bg-white even:bg-gray-50"},[e("td",B,r(s.name||s.code),1),e("td",D,r(s.code),1),e("td",K,r(s.sat),1),e("td",O,r(s.pass),1),e("td",U,r(s.fail),1),e("td",H,r(s.gpa??"—"),1),e("td",J,r(s.competency||"—"),1)]))),128))])])])):(l(),o("div",G," Please select an exam to view subject performance. "))]),u(S,{name:"fade"},{default:m(()=>{var s;return[p.value?(l(),o("div",L,[e("div",R,[e("div",{class:"mb-4 flex items-center justify-between"},[t[8]||(t[8]=e("div",null,[e("h3",{class:"text-sm font-semibold uppercase tracking-wide text-gray-800"}," Muhtasari Wa Ufaulu Kwa Masomo "),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Huu ni waraka wa kuchapishwa unaoonyesha ufaulu wa kila somo kwa mtihani uliouchagua. ")],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",class:"rounded-md bg-gray-100 px-3 py-1.5 text-[11px] font-semibold text-gray-700 hover:bg-gray-200",onClick:v}," Close "),e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:w}," Print ")])]),e("div",Z,[e("div",$,[t[10]||(t[10]=e("div",{class:"mb-2 flex justify-center"},[e("img",{src:"/images/emblem.png",alt:"National Emblem",class:"h-10 w-10 object-contain"})],-1)),t[11]||(t[11]=e("div",{class:"leading-tight"},[e("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-gray-700"}," Jamhuri Ya Muungano Wa Tanzania "),e("div",{class:"text-[10px] text-gray-700"}," Wizara Ya Elimu, Sayansi Na Teknolojia "),e("div",{class:"mt-0.5 text-[10px] text-gray-500"}," Mfumo Wa Taarifa Za Mitihani Na Matokeo Ya Shule (E-Matokeo) ")],-1)),t[12]||(t[12]=e("div",{class:"mt-3 text-[11px] font-semibold uppercase tracking-wide text-gray-800"}," Ripoti Ya Ufaulu Kwa Masomo ",-1)),e("div",q,[t[9]||(t[9]=P(" Exam: ",-1)),e("span",I,r(((s=a.exams.find(n=>String(n.id)===String(a.filters.exam)))==null?void 0:s.name)||"Selected Exam"),1),a.filters.year?(l(),o("span",Q," • Year: "+r(a.filters.year),1)):c("",!0)])]),e("table",X,[t[14]||(t[14]=e("thead",null,[e("tr",{class:"bg-emerald-50 text-emerald-800"},[e("th",{class:"border border-emerald-100 px-2 py-1 text-left"},"Subject"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Code"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Sat"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Pass"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Fail"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"GPA"),e("th",{class:"border border-emerald-100 px-2 py-1 text-center"},"Competency")])],-1)),e("tbody",null,[a.performance.length?c("",!0):(l(),o("tr",ee,[...t[13]||(t[13]=[e("td",{colspan:"7",class:"border border-gray-200 px-2 py-3 text-center text-[11px] text-gray-400"}," No subject performance data available yet for this exam. ",-1)])])),(l(!0),o(d,null,x(a.performance,n=>(l(),o("tr",{key:n.code,class:"text-gray-700"},[e("td",te,r(n.name||n.code),1),e("td",se,r(n.code),1),e("td",re,r(n.sat),1),e("td",ae,r(n.pass),1),e("td",oe,r(n.fail),1),e("td",le,r(n.gpa??"—"),1),e("td",ne,r(n.competency||"—"),1)]))),128))])])])])])):c("",!0)]}),_:1})]),_:1})],64))}};export{pe as default};

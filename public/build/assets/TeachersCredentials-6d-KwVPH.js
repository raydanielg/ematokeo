import{i as y,j as h,c as i,a as g,u as C,h as T,w as f,b as e,t as l,k as V,v as N,f as b,d as w,o as n,F as x,r as _,m as P}from"./app-_TtpDmwf.js";import{_ as R}from"./AuthenticatedLayout-B0b5bv4u.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"space-y-6"},A={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},W={class:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},$={class:"mt-2 inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-100"},j={class:"w-full md:w-80"},H={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},q={class:"flex items-center justify-between"},B={class:"text-[11px] text-gray-500"},D={class:"font-semibold text-gray-700"},E={class:"mt-4 overflow-x-auto"},F={class:"min-w-full text-[11px]"},L={key:0},U={class:"px-3 py-2 font-medium text-gray-900"},z={class:"px-3 py-2 text-gray-700"},I={class:"px-3 py-2 text-gray-700"},K={class:"px-3 py-2 text-gray-700"},M={class:"px-3 py-2 text-right"},G=["disabled","onClick"],J={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},O={class:"flex items-center justify-between"},Q={class:"text-[11px] text-gray-500"},X={class:"font-semibold text-gray-700"},Y={class:"mt-4 overflow-x-auto"},Z={class:"min-w-full text-[11px]"},ee={key:0},te={class:"px-3 py-2 font-medium text-gray-900"},se={class:"px-3 py-2 text-gray-700"},ae={class:"px-3 py-2 text-gray-700"},le={class:"px-3 py-2 text-gray-700"},oe={class:"px-3 py-2 text-right"},ie=["disabled","onClick"],pe={__name:"TeachersCredentials",props:{teachersWithVipindi:{type:Array,default:()=>[]},allTeachers:{type:Array,default:()=>[]},defaultPassword:{type:String,default:"amss2025"}},setup(v){const d=v,p=y(""),o=s=>String(s||"").toLowerCase().trim(),u=h(()=>{const s=o(p.value);return s?(d.teachersWithVipindi||[]).filter(t=>o(t.name).includes(s)||o(t.email).includes(s)||o(t.check_number).includes(s)||o(t.phone).includes(s)):d.teachersWithVipindi||[]}),c=h(()=>{const s=o(p.value);return s?(d.allTeachers||[]).filter(t=>o(t.name).includes(s)||o(t.email).includes(s)||o(t.check_number).includes(s)||o(t.phone).includes(s)):d.allTeachers||[]}),r=y(null),m=s=>{!(s!=null&&s.id)||!window.confirm(`Reset password ya ${s.name} iwe "${d.defaultPassword}"?`)||(r.value=s.id,P.post(route("teachers.credentials.reset-password",s.id),{},{preserveScroll:!0,onFinish:()=>{r.value=null}}))};return(s,t)=>(n(),i(x,null,[g(C(T),{title:"Teacher Credentials"}),g(R,null,{header:f(()=>[...t[1]||(t[1]=[e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"Teacher Credentials"),e("p",{class:"mt-1 text-sm text-gray-500"},"Reset passwords and view login details for teachers.")],-1)])]),default:f(()=>[e("div",S,[e("div",A,[e("div",W,[e("div",null,[t[2]||(t[2]=e("h3",{class:"text-sm font-semibold text-gray-800"},"Default Password",-1)),t[3]||(t[3]=e("p",{class:"mt-1 text-[11px] text-gray-600"},"Kwa sasa mfumo utaweka password ya reset kuwa:",-1)),e("div",$,l(d.defaultPassword),1)]),e("div",j,[t[4]||(t[4]=e("label",{class:"mb-1 block text-[11px] font-medium text-gray-700"},"Search teacher",-1)),V(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>p.value=a),type:"text",class:"w-full rounded-md border border-gray-300 px-3 py-2 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"Search by name, email, phone, check no..."},null,512),[[N,p.value]])])])]),e("div",H,[e("div",q,[t[6]||(t[6]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-800"},"Walimu wenye vipindi tu"),e("p",{class:"mt-1 text-[11px] text-gray-500"},"Hawa ni walimu waliopangiwa vipindi (waliopo kwenye timetable weekly limits).")],-1)),e("div",B,[t[5]||(t[5]=b("Total: ",-1)),e("span",D,l(u.value.length),1)])]),e("div",E,[e("table",F,[t[8]||(t[8]=e("thead",null,[e("tr",{class:"border-b bg-slate-50 text-left text-[10px] font-semibold uppercase tracking-wide text-gray-600"},[e("th",{class:"px-3 py-2"},"Name"),e("th",{class:"px-3 py-2"},"Email"),e("th",{class:"px-3 py-2"},"Phone"),e("th",{class:"px-3 py-2"},"Check No."),e("th",{class:"px-3 py-2 text-right"},"Action")])],-1)),e("tbody",null,[u.value.length?w("",!0):(n(),i("tr",L,[...t[7]||(t[7]=[e("td",{colspan:"5",class:"px-3 py-3 text-[11px] text-gray-500"},"Hakuna mwalimu mwenye vipindi bado.",-1)])])),(n(!0),i(x,null,_(u.value,a=>(n(),i("tr",{key:a.id,class:"border-b last:border-b-0"},[e("td",U,l(a.name),1),e("td",z,l(a.email),1),e("td",I,l(a.phone||"-"),1),e("td",K,l(a.check_number||"-"),1),e("td",M,[e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:opacity-60",disabled:r.value===a.id,onClick:k=>m(a)},l(r.value===a.id?"Resetting...":"Reset password"),9,G)])]))),128))])])])]),e("div",J,[e("div",O,[t[10]||(t[10]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-800"},"Walimu wote (role: teacher)"),e("p",{class:"mt-1 text-[11px] text-gray-500"},"Hii ni list ya walimu wote walio kwenye mfumo. Unaweza ku-reset password yao pia.")],-1)),e("div",Q,[t[9]||(t[9]=b("Total: ",-1)),e("span",X,l(c.value.length),1)])]),e("div",Y,[e("table",Z,[t[12]||(t[12]=e("thead",null,[e("tr",{class:"border-b bg-slate-50 text-left text-[10px] font-semibold uppercase tracking-wide text-gray-600"},[e("th",{class:"px-3 py-2"},"Name"),e("th",{class:"px-3 py-2"},"Email"),e("th",{class:"px-3 py-2"},"Phone"),e("th",{class:"px-3 py-2"},"Check No."),e("th",{class:"px-3 py-2 text-right"},"Action")])],-1)),e("tbody",null,[c.value.length?w("",!0):(n(),i("tr",ee,[...t[11]||(t[11]=[e("td",{colspan:"5",class:"px-3 py-3 text-[11px] text-gray-500"},"Hakuna walimu kwenye mfumo.",-1)])])),(n(!0),i(x,null,_(c.value,a=>(n(),i("tr",{key:a.id,class:"border-b last:border-b-0"},[e("td",te,l(a.name),1),e("td",se,l(a.email),1),e("td",ae,l(a.phone||"-"),1),e("td",le,l(a.check_number||"-"),1),e("td",oe,[e("button",{type:"button",class:"rounded-md bg-slate-900 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60",disabled:r.value===a.id,onClick:k=>m(a)},l(r.value===a.id?"Resetting...":"Reset password"),9,ie)])]))),128))])])])])])]),_:1})],64))}};export{pe as default};

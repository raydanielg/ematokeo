import{i as b,n as U,j as z,I as E,c as o,a as P,u as se,h as le,w as L,b as e,d as f,f as w,t as i,o as r,F as c,r as g,s as oe,x as q,k as x,v as y,p as C,m as V}from"./app-BJUliZOe.js";import{_ as re}from"./AuthenticatedLayout-OKprl57E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ne={class:"flex items-center justify-between"},ae={class:"flex gap-2"},de={class:"rounded-2xl bg-slate-50/70 p-4 ring-1 ring-slate-200"},ie={class:"rounded-2xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},ue={class:"mb-4 flex flex-wrap items-center justify-between gap-3"},me={class:"mt-0.5 text-[11px] text-gray-500"},pe={class:"font-semibold text-gray-700"},xe={class:"overflow-hidden rounded-xl border border-gray-200"},ce={class:"overflow-x-auto"},be={class:"min-w-full text-left text-sm"},ge={key:0},ye={class:"px-3 py-2 align-top"},fe={class:"flex flex-col"},ve={class:"text-gray-800"},he={class:"text-[10px] text-gray-500"},we={class:"px-3 py-2 align-top"},ke={class:"px-3 py-2 align-top"},_e={class:"px-3 py-2 align-top"},je={key:0,class:"flex flex-wrap gap-1"},Ce={key:1,class:"text-gray-500"},Se={class:"px-3 py-2 align-top"},Me={key:0,class:"flex flex-wrap gap-1"},Te={key:1,class:"text-gray-500"},Ae={class:"px-3 py-2 align-top"},Ne={class:"flex justify-end gap-1.5"},Ve=["onClick"],$e=["onClick"],Fe=["onClick"],Ue=["onClick"],ze={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},qe={class:"w-full max-w-3xl rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},Ie={class:"mb-3 flex items-center justify-between"},Be={class:"mt-0.5 text-[11px] text-gray-500"},De={class:"font-semibold"},Xe={key:0,class:"py-6 text-center text-[11px] text-gray-500"},Ee={key:1,class:"overflow-hidden rounded-lg border border-gray-200"},Pe={class:"min-w-full border-collapse text-[11px]"},Le={key:0},Re={class:"border-b border-gray-100 px-3 py-2"},He={class:"border-b border-gray-100 px-3 py-2"},Oe={class:"font-medium text-gray-800"},We={class:"text-[10px] text-gray-500"},Je={class:"border-b border-gray-100 px-3 py-2 font-semibold"},Qe={class:"mt-4 flex justify-end"},Ye={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},Ze={class:"w-full max-w-md rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},Ge={class:"mb-3 flex items-center justify-between"},Ke={class:"space-y-2 text-[11px] text-gray-700"},et={class:"flex justify-between gap-3"},tt={class:"text-right text-gray-900"},st={class:"flex justify-between gap-3"},lt={class:"text-right"},ot={class:"flex justify-between gap-3"},rt={class:"text-right"},nt={class:"flex justify-between gap-3"},at={class:"text-right"},dt={class:"flex justify-between gap-3"},it={class:"max-w-[60%] text-right"},ut={key:0},mt={key:1},pt={class:"flex justify-between gap-3"},xt={class:"max-w-[60%] text-right"},ct={key:0},bt={key:1},gt={class:"mt-4 flex justify-end"},yt={key:2,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},ft={class:"w-full max-w-lg rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},vt={class:"mb-3 flex items-center justify-between"},ht={class:"grid grid-cols-2 gap-3"},wt={class:"grid grid-cols-2 gap-3"},kt=["value"],_t=["value"],jt={class:"mt-4 flex justify-end gap-2"},Ct={key:3,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},St={class:"w-full max-w-sm rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},Mt={class:"mb-3 text-[11px] text-gray-600"},Tt={class:"font-semibold"},At={class:"mt-3 flex justify-end gap-2"},Nt={key:4,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},Vt={class:"w-full max-w-lg rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},$t={class:"mb-3 flex items-center justify-between"},Ft={class:"grid grid-cols-2 gap-3"},Ut={class:"grid grid-cols-2 gap-3"},zt=["value"],qt=["value"],It={class:"mt-4 flex justify-end gap-2"},Bt={key:5,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},Dt={class:"w-full max-w-md rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},Xt={class:"mb-3 flex items-center justify-between"},Et=["value"],Pt={class:"mt-2 flex justify-end gap-2"},Ot={__name:"TeachersIndex",props:{teachers:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]},allClasses:{type:Array,default:()=>[]},subjects:{type:Array,default:()=>[]},classSubjectMap:{type:Object,default:()=>({})}},setup(v){const S=v,k=b(!1),_=b(!1),M=b(!1),j=b(!1),T=b(!1),A=b(!1),a=U({name:"",email:"",phone:"",check_number:"",teaching_classes:"",class_ids:[],subject_ids:[]}),n=U({id:null,name:"",phone:"",check_number:"",teaching_classes:"",class_ids:[],subject_ids:[]}),$=l=>{const t=(l||[]).map(p=>Number(p)).filter(p=>Number.isFinite(p));if(!t.length)return null;const d=t.map(p=>{var m;return Array.isArray((m=S.classSubjectMap)==null?void 0:m[p])?S.classSubjectMap[p]:[]}).map(p=>new Set(p.map(m=>Number(m)).filter(m=>Number.isFinite(m))));if(!d.length)return null;let s=d[0];for(let p=1;p<d.length;p++){const m=new Set;for(const X of s)d[p].has(X)&&m.add(X);s=m}return s},I=l=>{const t=$(l);return t?(S.subjects||[]).filter(d=>t.has(Number(d.id))):S.subjects||[]},R=z(()=>I(a.class_ids)),H=z(()=>I(n.class_ids));E(()=>a.class_ids,()=>{const l=$(a.class_ids);l&&(a.subject_ids=(a.subject_ids||[]).filter(t=>l.has(Number(t))))},{deep:!0}),E(()=>n.class_ids,()=>{const l=$(n.class_ids);l&&(n.subject_ids=(n.subject_ids||[]).filter(t=>l.has(Number(t))))},{deep:!0});const N=U({class_id:""}),u=b(null),F=b(!1),h=b({teacher:null,limits:[]}),O=z(()=>{var l;return(((l=h.value)==null?void 0:l.limits)||[]).reduce((t,d)=>t+(Number(d.periods_per_week)||0),0)}),W=()=>{a.name="",a.email="",a.phone="",a.check_number="",a.teaching_classes="",a.class_ids=[],a.subject_ids=[]},J=()=>{V.post(route("teachers.store"),a,{preserveScroll:!0,onSuccess:()=>{W(),k.value=!1}})},Q=()=>{N.class_id&&V.post(route("teachers.import-samples"),N,{preserveScroll:!0,onSuccess:()=>{_.value=!1}})},Y=l=>{u.value=l,M.value=!0},Z=l=>{u.value=l,n.id=l.id,n.name=l.name,n.phone=l.phone,n.check_number=l.check_number,n.teaching_classes=l.teaching_classes,n.class_ids=Array.isArray(l.assigned_class_ids)?[...l.assigned_class_ids]:[],n.subject_ids=Array.isArray(l.assigned_subject_ids)?[...l.assigned_subject_ids]:[],j.value=!0},G=()=>{n.id&&V.put(route("teachers.update",n.id),{name:n.name,phone:n.phone,check_number:n.check_number,teaching_classes:n.teaching_classes,class_ids:n.class_ids,subject_ids:n.subject_ids},{preserveScroll:!0,onSuccess:()=>{j.value=!1}})},K=l=>{u.value=l,T.value=!0},ee=()=>{u.value&&V.delete(route("teachers.destroy",u.value.id),{preserveScroll:!0,onSuccess:()=>{T.value=!1}})},te=async l=>{u.value=l,A.value=!0,F.value=!0;try{const d=await(await fetch(route("teachers.weekly-limits",l.id),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"})).json();h.value={teacher:(d==null?void 0:d.teacher)||{id:l.id,name:l.name},limits:Array.isArray(d==null?void 0:d.limits)?d.limits:[]}}catch{h.value={teacher:{id:l.id,name:l.name},limits:[]}}finally{F.value=!1}},B=l=>(l!=null&&l.level?String(l.level).trim():"")||(l==null?void 0:l.name)||"",D=l=>{const t=l!=null&&l.subject_code?String(l.subject_code).trim():"",d=l!=null&&l.name?String(l.name).trim():"";return t&&d?`${t} - ${d}`:t||d};return(l,t)=>(r(),o(c,null,[P(se(le),{title:"Teachers"}),P(re,null,{header:L(()=>[e("div",ne,[t[27]||(t[27]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Teachers "),e("p",{class:"mt-1 text-sm text-gray-500"}," List of all registered teachers with their contact details, registration number and assigned classes. ")],-1)),e("div",ae,[e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:t[0]||(t[0]=d=>k.value=!0)}," Add Teacher "),e("button",{type:"button",class:"rounded-md bg-white px-3 py-1.5 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-200 hover:bg-emerald-50",onClick:t[1]||(t[1]=d=>_.value=!0)}," Import Sample Teachers ")])])]),default:L(()=>{var d;return[e("div",de,[e("div",ie,[e("div",ue,[e("div",null,[t[29]||(t[29]=e("p",{class:"text-sm font-semibold text-gray-800"},"Teachers",-1)),e("p",me,[t[28]||(t[28]=w("Jumla: ",-1)),e("span",pe,i(v.teachers.length),1)])])]),e("div",xe,[e("div",ce,[e("table",be,[t[35]||(t[35]=e("thead",null,[e("tr",{class:"border-b border-gray-200 bg-slate-50 text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"px-4 py-3"},"Name"),e("th",{class:"px-4 py-3"},"Phone"),e("th",{class:"px-4 py-3"},"Check No."),e("th",{class:"px-4 py-3"},"Assigned Classes"),e("th",{class:"px-4 py-3"},"Assigned Subjects"),e("th",{class:"px-4 py-3 text-right"},"Actions")])],-1)),e("tbody",null,[v.teachers.length===0?(r(),o("tr",ge,[...t[30]||(t[30]=[e("td",{colspan:"6",class:"px-4 py-10 text-center"},[e("div",{class:"mx-auto max-w-sm"},[e("div",{class:"text-sm font-semibold text-gray-800"},"No teachers yet"),e("div",{class:"mt-1 text-xs text-gray-500"},[w("Bado hujaongeza mwalimu. Bonyeza "),e("span",{class:"font-semibold"},"Add Teacher"),w(" kuanza.")])])],-1)])])):f("",!0),(r(!0),o(c,null,g(v.teachers,(s,p)=>(r(),o("tr",{key:s.id,class:oe(["border-b border-gray-100 text-xs text-gray-700",p%2===0?"bg-white":"bg-slate-50/40","hover:bg-emerald-50/40"])},[e("td",ye,[e("div",fe,[e("span",ve,i(s.name),1),e("span",he,i(s.email),1)])]),e("td",we,i(s.phone||"—"),1),e("td",ke,i(s.check_number||"—"),1),e("td",_e,[s.assigned_classes&&s.assigned_classes.length?(r(),o("div",je,[(r(!0),o(c,null,g(s.assigned_classes,m=>(r(),o("span",{key:m,class:"rounded bg-gray-100 px-1.5 py-0.5 text-[10px] text-gray-700"},i(m),1))),128))])):(r(),o("span",Ce,"—"))]),e("td",Se,[s.assigned_subjects&&s.assigned_subjects.length?(r(),o("div",Me,[(r(!0),o(c,null,g(s.assigned_subjects,m=>(r(),o("span",{key:m,class:"rounded bg-emerald-50 px-1.5 py-0.5 text-[10px] text-emerald-800"},i(m),1))),128))])):(r(),o("span",Te,"—"))]),e("td",Ae,[e("div",Ne,[e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-white text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50",title:"Timetable preview",onClick:m=>te(s)},[...t[31]||(t[31]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 4h18"}),e("path",{d:"M8 2v4"}),e("path",{d:"M16 2v4"}),e("rect",{x:"3",y:"6",width:"18",height:"16",rx:"2"}),e("path",{d:"M7 10h4"}),e("path",{d:"M7 14h4"}),e("path",{d:"M13 10h4"}),e("path",{d:"M13 14h4"})],-1)])],8,Ve),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-white text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50",title:"Details",onClick:m=>Y(s)},[...t[32]||(t[32]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 16v-4"}),e("path",{d:"M12 8h.01"})],-1)])],8,$e),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",title:"Edit",onClick:m=>Z(s)},[...t[33]||(t[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 20h9"}),e("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"})],-1)])],8,Fe),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md bg-red-50 text-red-700 ring-1 ring-red-200 hover:bg-red-100",title:"Delete",onClick:m=>K(s)},[...t[34]||(t[34]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 6h18"}),e("path",{d:"M8 6V4h8v2"}),e("path",{d:"M19 6l-1 14H6L5 6"}),e("path",{d:"M10 11v6"}),e("path",{d:"M14 11v6"})],-1)])],8,Ue)])])],2))),128))])])])])])]),A.value&&u.value?(r(),o("div",ze,[e("div",qe,[e("div",Ie,[e("div",null,[t[36]||(t[36]=e("h3",{class:"text-sm font-semibold text-gray-900"},"Teacher timetable preview",-1)),e("p",Be,[w(i(((d=h.value.teacher)==null?void 0:d.name)||u.value.name)+" · Total vipindi kwa wiki: ",1),e("span",De,i(O.value),1)])]),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[2]||(t[2]=s=>A.value=!1)}," × ")]),F.value?(r(),o("div",Xe," Loading... ")):(r(),o("div",Ee,[e("table",Pe,[t[38]||(t[38]=e("thead",null,[e("tr",{class:"bg-gray-50 text-left"},[e("th",{class:"border-b border-gray-200 px-3 py-2"},"Class"),e("th",{class:"border-b border-gray-200 px-3 py-2"},"Subject"),e("th",{class:"border-b border-gray-200 px-3 py-2"},"Vipindi / Wiki")])],-1)),e("tbody",null,[h.value.limits.length?f("",!0):(r(),o("tr",Le,[...t[37]||(t[37]=[e("td",{colspan:"3",class:"px-3 py-4 text-center text-[11px] text-gray-500"}," Hakuna limitations zilizowekwa kwa huyu mwalimu bado. ",-1)])])),(r(!0),o(c,null,g(h.value.limits,s=>(r(),o("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Re,i(s.class_label),1),e("td",He,[e("div",Oe,i(s.subject_code),1),e("div",We,i(s.subject_name),1)]),e("td",Je,i(s.periods_per_week),1)]))),128))])])])),e("div",Qe,[e("button",{type:"button",class:"rounded-md bg-emerald-50 px-3 py-1.5 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:t[3]||(t[3]=s=>A.value=!1)}," Close ")])])])):f("",!0),M.value&&u.value?(r(),o("div",Ye,[e("div",Ze,[e("div",Ge,[t[39]||(t[39]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Teacher details"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Full profile preview for this teacher. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[4]||(t[4]=s=>M.value=!1)}," × ")]),e("dl",Ke,[e("div",et,[t[40]||(t[40]=e("dt",{class:"font-semibold text-gray-600"},"Name",-1)),e("dd",tt,i(u.value.name),1)]),e("div",st,[t[41]||(t[41]=e("dt",{class:"font-semibold text-gray-600"},"Email",-1)),e("dd",lt,i(u.value.email),1)]),e("div",ot,[t[42]||(t[42]=e("dt",{class:"font-semibold text-gray-600"},"Phone",-1)),e("dd",rt,i(u.value.phone||"—"),1)]),e("div",nt,[t[43]||(t[43]=e("dt",{class:"font-semibold text-gray-600"},"Check No.",-1)),e("dd",at,i(u.value.check_number||"—"),1)]),e("div",dt,[t[44]||(t[44]=e("dt",{class:"font-semibold text-gray-600"},"Classes",-1)),e("dd",it,[u.value.assigned_classes&&u.value.assigned_classes.length?(r(),o("span",ut,i(u.value.assigned_classes.join(", ")),1)):(r(),o("span",mt,"—"))])]),e("div",pt,[t[45]||(t[45]=e("dt",{class:"font-semibold text-gray-600"},"Subjects",-1)),e("dd",xt,[u.value.assigned_subjects&&u.value.assigned_subjects.length?(r(),o("span",ct,i(u.value.assigned_subjects.join(", ")),1)):(r(),o("span",bt,"—"))])])]),e("div",gt,[e("button",{type:"button",class:"rounded-md bg-emerald-50 px-3 py-1.5 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:t[5]||(t[5]=s=>M.value=!1)}," Close ")])])])):f("",!0),j.value&&u.value?(r(),o("div",yt,[e("div",ft,[e("div",vt,[t[46]||(t[46]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Edit Teacher"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Update basic details for this teacher. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[6]||(t[6]=s=>j.value=!1)}," × ")]),e("form",{class:"space-y-3",onSubmit:q(G,["prevent"])},[e("div",null,[t[47]||(t[47]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Full Name",-1)),x(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>n.name=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[y,n.name]])]),e("div",ht,[e("div",null,[t[48]||(t[48]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Phone Number",-1)),x(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.phone=s),type:"tel",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[y,n.phone]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Check / Registration No.",-1)),x(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>n.check_number=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[y,n.check_number]])])]),e("div",null,[t[50]||(t[50]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Classes (one or more)",-1)),x(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>n.teaching_classes=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[y,n.teaching_classes]])]),e("div",wt,[e("div",null,[t[51]||(t[51]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Assigned classes",-1)),x(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>n.class_ids=s),multiple:"",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] text-gray-800 focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[(r(!0),o(c,null,g(v.classes,s=>(r(),o("option",{key:s.id,value:s.id},i(B(s)),9,kt))),128))],512),[[C,n.class_ids]]),t[52]||(t[52]=e("p",{class:"mt-1 text-[10px] text-gray-500"}," Chagua darasa (base class tu, bila streams). Masomo yatakayotangazwa chini yata-apply kwa madarasa yote. ",-1))]),e("div",null,[t[53]||(t[53]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Assigned subjects",-1)),x(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>n.subject_ids=s),multiple:"",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] text-gray-800 focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[(r(!0),o(c,null,g(H.value,s=>(r(),o("option",{key:s.id,value:s.id},i(D(s)),9,_t))),128))],512),[[C,n.subject_ids]]),t[54]||(t[54]=e("p",{class:"mt-1 text-[10px] text-gray-500"}," Ukichagua masomo na madarasa mengi, masomo hayo yataunganishwa kwa kila darasa. ",-1))])]),e("div",jt,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[13]||(t[13]=s=>j.value=!1)}," Cancel "),t[55]||(t[55]=e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"}," Save changes ",-1))])],32)])])):f("",!0),T.value&&u.value?(r(),o("div",Ct,[e("div",St,[t[58]||(t[58]=e("h3",{class:"mb-2 text-sm font-semibold text-gray-900"},"Delete teacher?",-1)),e("p",Mt,[t[56]||(t[56]=w(" This will remove ",-1)),e("span",Tt,i(u.value.name),1),t[57]||(t[57]=w(" from the list of teachers. You can re-create them later if needed. ",-1))]),e("div",At,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[14]||(t[14]=s=>T.value=!1)}," Cancel "),e("button",{type:"button",class:"rounded-md bg-red-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-red-700",onClick:ee}," Delete ")])])])):f("",!0),k.value?(r(),o("div",Nt,[e("div",Vt,[e("div",$t,[t[59]||(t[59]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Add Teacher"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Register a new teacher with contact details and the classes they teach. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[15]||(t[15]=s=>k.value=!1)}," × ")]),e("form",{class:"space-y-3",onSubmit:q(J,["prevent"])},[e("div",null,[t[60]||(t[60]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Full Name",-1)),x(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>a.name=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. John Peter Mwakalinga",required:""},null,512),[[y,a.name]])]),e("div",null,[t[61]||(t[61]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Email (for login)",-1)),x(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>a.email=s),type:"email",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"teacher@example.com",required:""},null,512),[[y,a.email]])]),e("div",Ft,[e("div",null,[t[62]||(t[62]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Phone Number",-1)),x(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>a.phone=s),type:"tel",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"07XXXXXXXX",required:""},null,512),[[y,a.phone]])]),e("div",null,[t[63]||(t[63]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Check / Registration No.",-1)),x(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>a.check_number=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"Registration number",required:""},null,512),[[y,a.check_number]])])]),e("div",null,[t[64]||(t[64]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Classes (one or more)",-1)),x(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>a.teaching_classes=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. Form I A, Form II B",required:""},null,512),[[y,a.teaching_classes]]),t[65]||(t[65]=e("p",{class:"mt-1 text-[10px] text-gray-500"}," Enter a comma-separated list of classes this teacher is responsible for. ",-1))]),e("div",Ut,[e("div",null,[t[66]||(t[66]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Assigned classes",-1)),x(e("select",{"onUpdate:modelValue":t[21]||(t[21]=s=>a.class_ids=s),multiple:"",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] text-gray-800 focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[(r(!0),o(c,null,g(v.classes,s=>(r(),o("option",{key:s.id,value:s.id},i(B(s)),9,zt))),128))],512),[[C,a.class_ids]])]),e("div",null,[t[67]||(t[67]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Assigned subjects",-1)),x(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>a.subject_ids=s),multiple:"",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] text-gray-800 focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[(r(!0),o(c,null,g(R.value,s=>(r(),o("option",{key:s.id,value:s.id},i(D(s)),9,qt))),128))],512),[[C,a.subject_ids]])])]),e("div",It,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[23]||(t[23]=s=>k.value=!1)}," Cancel "),t[68]||(t[68]=e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"}," Save Teacher ",-1))])],32)])])):f("",!0),_.value?(r(),o("div",Bt,[e("div",Dt,[e("div",Xt,[t[69]||(t[69]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Import Sample Teachers"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Quickly create 38 sample teachers for a selected class and assign them to subjects. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[24]||(t[24]=s=>_.value=!1)}," × ")]),e("form",{class:"space-y-4",onSubmit:q(Q,["prevent"])},[e("div",null,[t[71]||(t[71]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Class",-1)),x(e("select",{"onUpdate:modelValue":t[25]||(t[25]=s=>N.class_id=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] text-gray-800 focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},[t[70]||(t[70]=e("option",{value:"",disabled:""},"Select class...",-1)),(r(!0),o(c,null,g(v.classes,s=>(r(),o("option",{key:s.id,value:s.id},i(s.name),9,Et))),128))],512),[[C,N.class_id]]),t[72]||(t[72]=e("p",{class:"mt-1 text-[10px] text-gray-500"}," We will generate 38 sample teachers linked to this class and rotate them across subjects. ",-1))]),e("div",Pt,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[26]||(t[26]=s=>_.value=!1)}," Cancel "),t[73]||(t[73]=e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"}," Import Sample Teachers ",-1))])],32)])])):f("",!0)]}),_:1})],64))}};export{Ot as default};

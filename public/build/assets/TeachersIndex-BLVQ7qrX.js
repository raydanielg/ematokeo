import{i as x,n as k,c as d,a as S,u as I,h as X,w as T,b as e,d as p,t as n,o as i,F as _,r as N,x as C,k as u,v as m,f as $,p as z,m as w}from"./app-QwzqcD60.js";import{_ as P}from"./AuthenticatedLayout-CjLxhKVI.js";import"./ApplicationLogo-H9yvCvIP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"flex items-center justify-between"},R={class:"flex gap-2"},L={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},J={class:"mb-3 flex items-center justify-between gap-3"},Q={class:"text-sm font-medium text-gray-700"},W={class:"overflow-x-auto"},Y={class:"min-w-full text-left text-sm"},G={key:0},H={class:"px-3 py-2 align-top"},K={class:"flex flex-col"},O={class:"text-gray-800"},Z={class:"text-[10px] text-gray-500"},ee={class:"px-3 py-2 align-top"},te={class:"px-3 py-2 align-top"},se={class:"px-3 py-2 align-top"},le={class:"px-3 py-2 align-top"},oe={class:"flex justify-end gap-2"},re=["onClick"],ne=["onClick"],ae=["onClick"],de={key:0,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},ie={class:"w-full max-w-md rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},ue={class:"mb-3 flex items-center justify-between"},me={class:"space-y-2 text-[11px] text-gray-700"},xe={class:"flex justify-between gap-3"},pe={class:"text-right text-gray-900"},be={class:"flex justify-between gap-3"},ce={class:"text-right"},ge={class:"flex justify-between gap-3"},fe={class:"text-right"},ye={class:"flex justify-between gap-3"},ve={class:"text-right"},he={class:"flex justify-between gap-3"},we={class:"max-w-[60%] text-right"},ke={class:"mt-4 flex justify-end"},_e={key:1,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},Ce={class:"w-full max-w-lg rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},je={class:"mb-3 flex items-center justify-between"},Se={class:"grid grid-cols-2 gap-3"},Te={class:"mt-4 flex justify-end gap-2"},Ne={key:2,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},$e={class:"w-full max-w-sm rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},Ve={class:"mb-3 text-[11px] text-gray-600"},Fe={class:"font-semibold"},Ue={class:"mt-3 flex justify-end gap-2"},qe={key:3,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},De={class:"w-full max-w-lg rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},Me={class:"mb-3 flex items-center justify-between"},Ae={class:"grid grid-cols-2 gap-3"},Ee={class:"mt-4 flex justify-end gap-2"},Ie={key:4,class:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4 py-6 backdrop-blur-sm"},Xe={class:"w-full max-w-md rounded-xl bg-white p-5 text-xs text-gray-700 shadow-xl"},ze={class:"mb-3 flex items-center justify-between"},Pe=["value"],Be={class:"mt-2 flex justify-end gap-2"},We={__name:"TeachersIndex",props:{teachers:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]}},setup(f){const b=x(!1),c=x(!1),y=x(!1),g=x(!1),v=x(!1),o=k({name:"",email:"",phone:"",check_number:"",teaching_classes:""}),h=k({class_id:""}),r=x(null),l=k({id:null,name:"",phone:"",check_number:"",teaching_classes:""}),V=()=>{o.name="",o.email="",o.phone="",o.check_number="",o.teaching_classes=""},F=()=>{w.post(route("teachers.store"),o,{preserveScroll:!0,onSuccess:()=>{V(),b.value=!1}})},U=()=>{h.class_id&&w.post(route("teachers.import-samples"),h,{preserveScroll:!0,onSuccess:()=>{c.value=!1}})},q=a=>{r.value=a,y.value=!0},D=a=>{r.value=a,l.id=a.id,l.name=a.name,l.phone=a.phone,l.check_number=a.check_number,l.teaching_classes=a.teaching_classes,g.value=!0},M=()=>{l.id&&w.put(route("teachers.update",l.id),{name:l.name,phone:l.phone,check_number:l.check_number,teaching_classes:l.teaching_classes},{preserveScroll:!0,onSuccess:()=>{g.value=!1}})},A=a=>{r.value=a,v.value=!0},E=()=>{r.value&&w.delete(route("teachers.destroy",r.value.id),{preserveScroll:!0,onSuccess:()=>{v.value=!1}})};return(a,t)=>(i(),d(_,null,[S(I(X),{title:"Teachers"}),S(P,null,{header:T(()=>[e("div",B,[t[21]||(t[21]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Teachers "),e("p",{class:"mt-1 text-sm text-gray-500"}," List of all registered teachers with their contact details, registration number and assigned classes. ")],-1)),e("div",R,[e("button",{type:"button",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700",onClick:t[0]||(t[0]=s=>b.value=!0)}," Add Teacher "),e("button",{type:"button",class:"rounded-md bg-white px-3 py-1.5 text-xs font-semibold text-emerald-700 ring-1 ring-emerald-200 hover:bg-emerald-50",onClick:t[1]||(t[1]=s=>c.value=!0)}," Import Sample Teachers ")])])]),default:T(()=>[e("div",L,[e("div",J,[e("p",Q," Teachers ("+n(f.teachers.length)+") ",1)]),e("div",W,[e("table",Y,[t[23]||(t[23]=e("thead",null,[e("tr",{class:"border-b border-gray-200 bg-gray-50 text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"px-3 py-2"},"Name"),e("th",{class:"px-3 py-2"},"Phone"),e("th",{class:"px-3 py-2"},"Check No."),e("th",{class:"px-3 py-2"},"Classes"),e("th",{class:"px-3 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[f.teachers.length===0?(i(),d("tr",G,[...t[22]||(t[22]=[e("td",{colspan:"5",class:"px-3 py-4 text-center text-xs text-gray-500"}," No teachers registered yet. ",-1)])])):p("",!0),(i(!0),d(_,null,N(f.teachers,s=>(i(),d("tr",{key:s.id,class:"border-b border-gray-100 text-xs text-gray-700 hover:bg-gray-50"},[e("td",H,[e("div",K,[e("span",O,n(s.name),1),e("span",Z,n(s.email),1)])]),e("td",ee,n(s.phone||"—"),1),e("td",te,n(s.check_number||"—"),1),e("td",se,n(s.teaching_classes||"—"),1),e("td",le,[e("div",oe,[e("button",{type:"button",class:"rounded-md bg-white px-2 py-1 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:j=>q(s)}," Details ",8,re),e("button",{type:"button",class:"rounded-md bg-emerald-50 px-2 py-1 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:j=>D(s)}," Edit ",8,ne),e("button",{type:"button",class:"rounded-md bg-red-50 px-2 py-1 text-[11px] font-medium text-red-700 ring-1 ring-red-200 hover:bg-red-100",onClick:j=>A(s)}," Delete ",8,ae)])])]))),128))])])])]),y.value&&r.value?(i(),d("div",de,[e("div",ie,[e("div",ue,[t[24]||(t[24]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Teacher details"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Full profile preview for this teacher. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[2]||(t[2]=s=>y.value=!1)}," × ")]),e("dl",me,[e("div",xe,[t[25]||(t[25]=e("dt",{class:"font-semibold text-gray-600"},"Name",-1)),e("dd",pe,n(r.value.name),1)]),e("div",be,[t[26]||(t[26]=e("dt",{class:"font-semibold text-gray-600"},"Email",-1)),e("dd",ce,n(r.value.email),1)]),e("div",ge,[t[27]||(t[27]=e("dt",{class:"font-semibold text-gray-600"},"Phone",-1)),e("dd",fe,n(r.value.phone||"—"),1)]),e("div",ye,[t[28]||(t[28]=e("dt",{class:"font-semibold text-gray-600"},"Check No.",-1)),e("dd",ve,n(r.value.check_number||"—"),1)]),e("div",he,[t[29]||(t[29]=e("dt",{class:"font-semibold text-gray-600"},"Classes",-1)),e("dd",we,n(r.value.teaching_classes||"—"),1)])]),e("div",ke,[e("button",{type:"button",class:"rounded-md bg-emerald-50 px-3 py-1.5 text-[11px] font-medium text-emerald-700 ring-1 ring-emerald-100 hover:bg-emerald-100",onClick:t[3]||(t[3]=s=>y.value=!1)}," Close ")])])])):p("",!0),g.value&&r.value?(i(),d("div",_e,[e("div",Ce,[e("div",je,[t[30]||(t[30]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Edit Teacher"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Update basic details for this teacher. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[4]||(t[4]=s=>g.value=!1)}," × ")]),e("form",{class:"space-y-3",onSubmit:C(M,["prevent"])},[e("div",null,[t[31]||(t[31]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Full Name",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.name=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[m,l.name]])]),e("div",Se,[e("div",null,[t[32]||(t[32]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Phone Number",-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.phone=s),type:"tel",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[m,l.phone]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Check / Registration No.",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.check_number=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[m,l.check_number]])])]),e("div",null,[t[34]||(t[34]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Classes (one or more)",-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.teaching_classes=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},null,512),[[m,l.teaching_classes]])]),e("div",Te,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[9]||(t[9]=s=>g.value=!1)}," Cancel "),t[35]||(t[35]=e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"}," Save changes ",-1))])],32)])])):p("",!0),v.value&&r.value?(i(),d("div",Ne,[e("div",$e,[t[38]||(t[38]=e("h3",{class:"mb-2 text-sm font-semibold text-gray-900"},"Delete teacher?",-1)),e("p",Ve,[t[36]||(t[36]=$(" This will remove ",-1)),e("span",Fe,n(r.value.name),1),t[37]||(t[37]=$(" from the list of teachers. You can re-create them later if needed. ",-1))]),e("div",Ue,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[10]||(t[10]=s=>v.value=!1)}," Cancel "),e("button",{type:"button",class:"rounded-md bg-red-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-red-700",onClick:E}," Delete ")])])])):p("",!0),b.value?(i(),d("div",qe,[e("div",De,[e("div",Me,[t[39]||(t[39]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Add Teacher"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Register a new teacher with contact details and the classes they teach. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[11]||(t[11]=s=>b.value=!1)}," × ")]),e("form",{class:"space-y-3",onSubmit:C(F,["prevent"])},[e("div",null,[t[40]||(t[40]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Full Name",-1)),u(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>o.name=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. John Peter Mwakalinga",required:""},null,512),[[m,o.name]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Email (for login)",-1)),u(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>o.email=s),type:"email",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"teacher@example.com",required:""},null,512),[[m,o.email]])]),e("div",Ae,[e("div",null,[t[42]||(t[42]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Phone Number",-1)),u(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>o.phone=s),type:"tel",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"07XXXXXXXX",required:""},null,512),[[m,o.phone]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Check / Registration No.",-1)),u(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>o.check_number=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"Registration number",required:""},null,512),[[m,o.check_number]])])]),e("div",null,[t[44]||(t[44]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Classes (one or more)",-1)),u(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>o.teaching_classes=s),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",placeholder:"e.g. Form I A, Form II B",required:""},null,512),[[m,o.teaching_classes]]),t[45]||(t[45]=e("p",{class:"mt-1 text-[10px] text-gray-500"}," Enter a comma-separated list of classes this teacher is responsible for. ",-1))]),e("div",Ee,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[17]||(t[17]=s=>b.value=!1)}," Cancel "),t[46]||(t[46]=e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"}," Save Teacher ",-1))])],32)])])):p("",!0),c.value?(i(),d("div",Ie,[e("div",Xe,[e("div",ze,[t[47]||(t[47]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-900"},"Import Sample Teachers"),e("p",{class:"mt-0.5 text-[11px] text-gray-500"}," Quickly create 38 sample teachers for a selected class and assign them to subjects. ")],-1)),e("button",{type:"button",class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 text-[11px] font-bold text-gray-600 hover:bg-gray-200",onClick:t[18]||(t[18]=s=>c.value=!1)}," × ")]),e("form",{class:"space-y-4",onSubmit:C(U,["prevent"])},[e("div",null,[t[49]||(t[49]=e("label",{class:"mb-1 block text-[11px] font-medium"},"Class",-1)),u(e("select",{"onUpdate:modelValue":t[19]||(t[19]=s=>h.class_id=s),class:"w-full rounded-md border border-gray-300 px-2 py-1.5 text-[11px] text-gray-800 focus:border-emerald-500 focus:outline-none focus:ring-emerald-500",required:""},[t[48]||(t[48]=e("option",{value:"",disabled:""},"Select class...",-1)),(i(!0),d(_,null,N(f.classes,s=>(i(),d("option",{key:s.id,value:s.id},n(s.name),9,Pe))),128))],512),[[z,h.class_id]]),t[50]||(t[50]=e("p",{class:"mt-1 text-[10px] text-gray-500"}," We will generate 38 sample teachers linked to this class and rotate them across subjects. ",-1))]),e("div",Be,[e("button",{type:"button",class:"rounded-md bg-gray-50 px-3 py-1.5 text-[11px] font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-100",onClick:t[20]||(t[20]=s=>c.value=!1)}," Cancel "),t[51]||(t[51]=e("button",{type:"submit",class:"rounded-md bg-emerald-600 px-3 py-1.5 text-[11px] font-semibold text-white shadow-sm hover:bg-emerald-700"}," Import Sample Teachers ",-1))])],32)])])):p("",!0)]),_:1})],64))}};export{We as default};

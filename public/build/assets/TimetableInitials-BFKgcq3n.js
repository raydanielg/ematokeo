import{i as w,I as g,m as v,j as _,c as i,a as y,u as k,h as z,w as f,b as e,t as r,f as h,d as S,o as n,F as u,r as p,k as j,p as I}from"./app-BKBbErzX.js";import{_ as N}from"./AuthenticatedLayout-M3dNlkCi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"flex items-center justify-between gap-3"},A={class:"flex items-center gap-2 print:hidden"},B=["value"],P={class:"mx-auto max-w-5xl space-y-4"},V={class:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-100"},Y={class:"text-center"},$={class:"text-xs font-semibold uppercase tracking-wide text-gray-800"},C={class:"mt-1 text-[11px] text-gray-600"},D={class:"font-semibold"},H={class:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-100"},L={class:"flex items-center justify-between border-b border-gray-100 px-5 py-3"},M={class:"text-sm font-semibold text-gray-800"},O={class:"overflow-x-auto"},F={class:"min-w-full text-left text-xs"},J={key:0},R={class:"px-4 py-2"},U={class:"inline-flex items-center rounded-md bg-emerald-50 px-2 py-1 text-xs font-bold text-emerald-800 ring-1 ring-emerald-100"},W={class:"px-4 py-2 font-medium text-gray-900"},E={class:"px-4 py-2"},K={key:0,class:"flex flex-wrap gap-1"},Z={key:1,class:"text-gray-500"},X={__name:"TimetableInitials",props:{schoolName:{type:String,default:"School"},selectedYear:{type:String,default:""},years:{type:Array,default:()=>[]},teachers:{type:Array,default:()=>[]}},setup(d){const m=d,o=w(String(m.selectedYear||""));g(()=>m.selectedYear,a=>{o.value||(o.value=String(a||""))}),g(o,a=>{const t=String(a||"").trim();t&&v.get(route("timetables.initials"),{year:t},{preserveScroll:!0,preserveState:!0})});const c=_(()=>(m.teachers||[]).map(a=>{const t=((a==null?void 0:a.subjects)||[]).map(s=>{const l=String((s==null?void 0:s.subject_code)||"").trim(),x=String((s==null?void 0:s.subject_name)||"").trim();return l&&x?`${l} - ${x}`:l||x||""}).filter(Boolean);return{id:Number((a==null?void 0:a.id)||0),initials:String((a==null?void 0:a.initials)||"").trim(),name:String((a==null?void 0:a.name)||"").trim(),subjects:t}}).filter(a=>a.id&&(a.initials||a.name))),b=()=>{window.print()};return(a,t)=>(n(),i(u,null,[y(k(z),{title:"Teacher Initials"}),y(N,null,{header:f(()=>[e("div",T,[t[1]||(t[1]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Teacher Initials "),e("p",{class:"mt-1 text-sm text-gray-500"}," Orodha ya initials za walimu na masomo yao kwa mwaka wa masomo. ")],-1)),e("div",A,[j(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value=s),class:"rounded-md border border-gray-300 bg-white px-2 py-2 text-xs text-gray-800 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[(n(!0),i(u,null,p(d.years,s=>(n(),i("option",{key:s,value:s},r(s),9,B))),128))],512),[[I,o.value]]),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1",onClick:b}," Print ")])])]),default:f(()=>[e("div",P,[e("div",V,[e("div",Y,[e("div",$,r(d.schoolName),1),t[4]||(t[4]=e("div",{class:"mt-1 text-sm font-semibold uppercase tracking-wide text-emerald-800"}," ORODHA YA INITIALS ZA WALIMU ",-1)),e("div",C,[t[2]||(t[2]=h(" Hizi ni initials za walimu wa shule hii kwa mwaka wa masomo ",-1)),e("span",D,r(o.value||d.selectedYear),1),t[3]||(t[3]=h(". Tumia orodha hii kuandika initials kwenye ratiba za vipindi. ",-1))])])]),e("div",H,[e("div",L,[e("div",M," Walimu ("+r(c.value.length)+") ",1),t[5]||(t[5]=e("div",{class:"text-[11px] text-gray-500 print:hidden"}," Tip: Bonyeza Print kupata nakala ya kuchapisha. ",-1))]),e("div",O,[e("table",F,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"bg-gray-50 text-[11px] font-semibold uppercase tracking-wide text-gray-600"},[e("th",{class:"px-4 py-2"},"Initials"),e("th",{class:"px-4 py-2"},"Teacher"),e("th",{class:"px-4 py-2"},"Subjects")])],-1)),e("tbody",null,[c.value.length===0?(n(),i("tr",J,[...t[6]||(t[6]=[e("td",{colspan:"3",class:"px-4 py-6 text-center text-xs text-gray-500"}," Hakuna taarifa za walimu/masomo zilizopatikana. ",-1)])])):S("",!0),(n(!0),i(u,null,p(c.value,s=>(n(),i("tr",{key:s.id,class:"border-t border-gray-100 align-top hover:bg-gray-50"},[e("td",R,[e("span",U,r(s.initials||"—"),1)]),e("td",W,r(s.name||"—"),1),e("td",E,[s.subjects.length?(n(),i("div",K,[(n(!0),i(u,null,p(s.subjects,l=>(n(),i("span",{key:`${s.id}-${l}`,class:"rounded bg-slate-50 px-2 py-0.5 text-[11px] text-slate-700 ring-1 ring-slate-100"},r(l),1))),128))])):(n(),i("span",Z,"—"))])]))),128))])])])]),t[8]||(t[8]=e("div",{class:"rounded-xl bg-white p-4 text-[11px] text-gray-600 shadow-sm ring-1 ring-gray-100"},[e("div",{class:"font-semibold text-gray-800"},"Maelezo"),e("div",{class:"mt-1"},' Initials zinatengenezwa kutoka herufi za mwanzo za majina ya mwalimu (mfano: "John Paul" = "JP"). Kama kuna walimu wenye initials zinazofanana, ni vizuri kurekebisha majina yao ili initials zitofautiane. ')],-1))])]),_:1})],64))}};export{X as default};

import{i as w,I as f,m as v,j as _,c as i,a as h,u as k,h as z,w as y,b as e,t as r,f as p,d as j,o as n,F as m,r as g,k as S,p as I}from"./app-CPAbp00B.js";import{_ as T}from"./AuthenticatedLayout-kN5sGNvB.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"flex items-center justify-between gap-3"},Y={class:"flex items-center gap-2 print:hidden"},$=["value"],B={id:"print-area",class:"mx-auto max-w-5xl space-y-4"},P={class:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-100"},C={class:"bg-gradient-to-r from-emerald-900 to-emerald-700 px-6 py-5 text-emerald-50"},M={class:"flex items-center justify-between gap-4"},A={class:"flex items-center gap-3"},D={class:"min-w-0"},E={class:"truncate text-xs font-semibold uppercase tracking-wide text-emerald-100/90"},F={class:"mt-0.5 text-[11px] text-emerald-100/90"},H={class:"font-semibold text-white"},J={class:"bg-emerald-50/70 px-6 py-3 text-[11px] text-emerald-900"},O={class:"font-semibold"},W={class:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-100"},K={class:"flex items-center justify-between border-b border-gray-100 px-5 py-3"},L={class:"text-sm font-semibold text-gray-800"},R={class:"overflow-x-auto"},U={class:"tt-table min-w-full text-left text-xs"},q={key:0},G={class:"px-4 py-2"},Q={class:"inline-flex items-center rounded-md bg-emerald-50 px-2 py-1 text-xs font-bold text-emerald-800 ring-1 ring-emerald-100"},X={class:"px-4 py-2 font-medium text-gray-900"},Z={class:"px-4 py-2"},ee={key:0,class:"flex flex-wrap gap-1"},te={key:1,class:"text-gray-500"},ae={__name:"TimetableInitials",props:{schoolName:{type:String,default:"School"},selectedYear:{type:String,default:""},years:{type:Array,default:()=>[]},teachers:{type:Array,default:()=>[]}},setup(d){const c=d,l=w(String(c.selectedYear||""));f(()=>c.selectedYear,a=>{l.value||(l.value=String(a||""))}),f(l,a=>{const t=String(a||"").trim();t&&v.get(route("timetables.initials"),{year:t},{preserveScroll:!0,preserveState:!0})});const u=_(()=>(c.teachers||[]).map(a=>{const t=((a==null?void 0:a.subjects)||[]).map(s=>{const o=String((s==null?void 0:s.subject_code)||"").trim(),x=String((s==null?void 0:s.subject_name)||"").trim();return o&&x?`${o} - ${x}`:o||x||""}).filter(Boolean);return{id:Number((a==null?void 0:a.id)||0),initials:String((a==null?void 0:a.initials)||"").trim(),name:String((a==null?void 0:a.name)||"").trim(),subjects:t}}).filter(a=>a.id&&(a.initials||a.name))),b=()=>{window.print()};return(a,t)=>(n(),i(m,null,[h(k(z),{title:"Teacher Initials"}),h(T,null,{header:y(()=>[e("div",V,[t[1]||(t[1]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Teacher Initials "),e("p",{class:"mt-1 text-sm text-gray-500"}," Orodha ya initials za walimu na masomo yao kwa mwaka wa masomo. ")],-1)),e("div",Y,[S(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),class:"rounded-md border border-gray-300 bg-white px-2 py-2 text-xs text-gray-800 shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-emerald-500"},[(n(!0),i(m,null,g(d.years,s=>(n(),i("option",{key:s,value:s},r(s),9,$))),128))],512),[[I,l.value]]),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1",onClick:b}," Print ")])])]),default:y(()=>[e("div",B,[e("div",P,[e("div",C,[e("div",M,[e("div",A,[t[4]||(t[4]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/20"},[e("img",{src:"/images/emblem.png",alt:"Emblem",class:"h-9 w-9 object-contain",onerror:"this.style.display='none'"})],-1)),e("div",D,[e("div",E,r(d.schoolName),1),t[3]||(t[3]=e("div",{class:"mt-0.5 text-base font-bold uppercase tracking-wide"}," Orodha ya Initials za Walimu ",-1)),e("div",F,[t[2]||(t[2]=p(" Mwaka wa masomo: ",-1)),e("span",H,r(l.value||d.selectedYear),1)])])]),t[5]||(t[5]=e("div",{class:"hidden text-right text-[11px] text-emerald-100/90 sm:block"}," Tumia initials hizi kuandika kwenye ratiba za vipindi. ",-1))])]),e("div",J,[t[6]||(t[6]=p(" Hizi ni initials za walimu wa shule hii kwa mwaka wa masomo ",-1)),e("span",O,r(l.value||d.selectedYear),1),t[7]||(t[7]=p(". Tafadhali hakikisha initials zinatumika kwa usahihi kwenye ratiba. ",-1))])]),t[10]||(t[10]=e("div",{class:"rounded-xl bg-white p-4 text-[11px] text-gray-600 shadow-sm ring-1 ring-gray-100"},[e("div",{class:"font-semibold text-gray-800"},"Maelezo"),e("div",{class:"mt-1"},' Initials zinatengenezwa kutoka herufi za mwanzo za majina ya mwalimu (mfano: "John Paul" = "JP"). Kama kuna walimu wenye initials zinazofanana, ni vizuri kurekebisha majina yao ili initials zitofautiane. ')],-1)),e("div",W,[e("div",K,[e("div",L," Walimu ("+r(u.value.length)+") ",1)]),e("div",R,[e("table",U,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"tt-thead-row bg-slate-50 text-[11px] font-semibold uppercase tracking-wide text-slate-600"},[e("th",{class:"px-4 py-2"},"Initials"),e("th",{class:"px-4 py-2"},"Teacher"),e("th",{class:"px-4 py-2"},"Subjects")])],-1)),e("tbody",null,[u.value.length===0?(n(),i("tr",q,[...t[8]||(t[8]=[e("td",{colspan:"3",class:"px-4 py-6 text-center text-xs text-gray-500"}," Hakuna taarifa za walimu/masomo zilizopatikana. ",-1)])])):j("",!0),(n(!0),i(m,null,g(u.value,s=>(n(),i("tr",{key:s.id,class:"tt-row border-t border-gray-100 align-top"},[e("td",G,[e("span",Q,r(s.initials||"—"),1)]),e("td",X,r(s.name||"—"),1),e("td",Z,[s.subjects.length?(n(),i("div",ee,[(n(!0),i(m,null,g(s.subjects,o=>(n(),i("span",{key:`${s.id}-${o}`,class:"rounded bg-slate-50 px-2 py-0.5 text-[11px] text-slate-700 ring-1 ring-slate-100"},r(o),1))),128))])):(n(),i("span",te,"—"))])]))),128))])])])])])]),_:1})],64))}},re=N(ae,[["__scopeId","data-v-1b7ccf3f"]]);export{re as default};

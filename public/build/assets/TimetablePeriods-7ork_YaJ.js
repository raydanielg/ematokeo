import{_ as k}from"./AuthenticatedLayout-Bs3ktz0D.js";import{j as u,c as i,a as b,u as f,h as A,w as _,b as t,f as c,t as a,d as h,o as l,F as v,r as N,m as C}from"./app-Bv3pXQiw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"flex items-start justify-between gap-3"},T={class:"mt-1 text-sm text-gray-500"},$={class:"font-semibold text-gray-800"},j={key:0},Y={class:"font-semibold text-gray-800"},B={class:"space-y-4"},E={class:"rounded-lg bg-white p-5 shadow-sm ring-1 ring-gray-100"},P={class:"mt-1 text-sm text-gray-600"},U={class:"font-semibold text-gray-800"},V={class:"overflow-hidden rounded-lg bg-white shadow-sm ring-1 ring-gray-100"},F={class:"overflow-x-auto"},I={class:"min-w-full divide-y divide-gray-100 text-left text-sm"},M={class:"divide-y divide-gray-100"},O={key:0},L={class:"px-5 py-3 font-semibold text-gray-900"},R={class:"px-5 py-3 text-gray-700"},H={class:"px-5 py-3 text-gray-700"},W={class:"px-5 py-3 text-gray-700"},q={class:"px-5 py-3 font-semibold text-emerald-800"},K={__name:"TimetablePeriods",props:{timetable:{type:Object,default:()=>({})},teacherInitials:{type:String,default:""},periods:{type:Array,default:()=>[]}},setup(n){const d=n,w=u(()=>Array.isArray(d.periods)?d.periods.length:0),S=r=>({0:"08:00 - 08:40",1:"08:40 - 09:20",2:"09:20 - 10:00",3:"10:00 - 10:40",4:"11:05 - 11:45",5:"11:45 - 12:25",6:"12:25 - 01:05",7:"01:20 - 02:00",8:"02:00 - 02:40"})[r]||`Slot ${r+1}`,y=u(()=>{const r=Array.isArray(d.periods)?[...d.periods]:[],e={MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5};return r.sort((s,o)=>{const m=e[String(s.day||"").toUpperCase()]||99,g=e[String(o.day||"").toUpperCase()]||99;if(m!==g)return m-g;const p=String(s.class_label||"").localeCompare(String(o.class_label||""));if(p!==0)return p;const x=String(s.stream||"").localeCompare(String(o.stream||""));return x!==0?x:Number(s.slot_index||0)-Number(o.slot_index||0)})});return(r,e)=>(l(),i(v,null,[b(f(A),{title:"My Periods"}),b(k,null,{header:_(()=>{var s;return[t("div",D,[t("div",null,[e[3]||(e[3]=t("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"},"My Periods",-1)),t("p",T,[e[2]||(e[2]=c(" Showing periods for initials: ",-1)),t("span",$,a(n.teacherInitials||"—"),1),(s=n.timetable)!=null&&s.title?(l(),i("span",j,[e[1]||(e[1]=c(" · Timetable: ",-1)),t("span",Y,a(n.timetable.title),1)])):h("",!0)])]),t("button",{type:"button",class:"rounded-md bg-white px-3 py-1.5 text-xs font-semibold text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50",onClick:e[0]||(e[0]=o=>f(C).get(r.route("timetables.my")))}," Back ")])]}),default:_(()=>[t("div",B,[t("div",E,[e[5]||(e[5]=t("div",{class:"text-sm font-semibold text-gray-800"},"Summary",-1)),t("div",P,[e[4]||(e[4]=c(" Total periods found: ",-1)),t("span",U,a(w.value),1)])]),t("div",V,[t("div",F,[t("table",I,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Day"),t("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Class"),t("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Stream"),t("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Time"),t("th",{class:"px-5 py-3 text-xs font-semibold uppercase tracking-wide text-gray-600"},"Subject")])],-1)),t("tbody",M,[y.value.length?h("",!0):(l(),i("tr",O,[...e[6]||(e[6]=[t("td",{colspan:"5",class:"px-5 py-6 text-center text-sm text-gray-500"}," No periods found for your initials in this timetable. ",-1)])])),(l(!0),i(v,null,N(y.value,(s,o)=>(l(),i("tr",{key:`${s.day}-${s.class_label}-${s.stream}-${s.slot_index}-${o}`,class:"hover:bg-gray-50"},[t("td",L,a(s.day),1),t("td",R,a(s.class_label||"—"),1),t("td",H,a(s.stream||"—"),1),t("td",W,a(S(s.slot_index)),1),t("td",q,a(s.subject||"—"),1)]))),128))])])])])])]),_:1})],64))}};export{K as default};

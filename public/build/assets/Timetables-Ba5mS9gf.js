import{_ as h}from"./AuthenticatedLayout-vlQh8Mn4.js";import{c as n,a as x,u as d,h as _,w as m,b as e,t as a,d as l,o,F as y,r as w,s as c,m as p}from"./app-Df21l2Ix.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"flex items-center justify-between"},v={class:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100"},C={class:"mb-3 flex items-center justify-between gap-3"},T={class:"text-sm font-medium text-gray-700"},N={class:"overflow-x-auto"},D={class:"min-w-full text-left text-sm"},j={key:0},S={class:"px-3 py-2 align-top"},$={class:"px-3 py-2 align-top"},z={class:"px-3 py-2 align-top text-xs text-gray-600"},A={key:0},F={key:1},V={key:2},B={class:"px-3 py-2 align-top"},P={class:"flex flex-wrap items-center gap-1"},L={class:"px-3 py-2 align-top text-xs text-gray-600"},Y={class:"px-3 py-2 align-top"},E={class:"flex justify-end gap-2"},H=["onClick"],O=["disabled","onClick"],U=["onClick"],J={__name:"Timetables",props:{timetables:{type:Array,default:()=>[]}},setup(i){const f=r=>{confirm("Delete this timetable?")&&p.delete(route("timetables.destroy",r))},b=r=>{if(!r)return"-";const s=new Date(r);return Number.isNaN(s.getTime())?String(r):s.toLocaleString()},u=r=>{const s=r==null?void 0:r.schedule_json;return s?Array.isArray(s)?s.length>0:typeof s=="object"?Object.keys(s).length>0:!1:!1};return(r,s)=>(o(),n(y,null,[x(d(_),{title:"Timetables"}),x(h,null,{header:m(()=>[e("div",k,[s[1]||(s[1]=e("div",null,[e("h2",{class:"text-2xl font-semibold leading-tight text-gray-800"}," Timetables "),e("p",{class:"mt-1 text-sm text-gray-500"}," View and manage class timetables. You can preview, download or delete a timetable from the list below. ")],-1)),e("button",{type:"button",class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1",onClick:s[0]||(s[0]=t=>d(p).get(r.route("timetables.create")))}," Create Timetable ")])]),default:m(()=>[e("div",v,[e("div",C,[e("p",T," Timetables ("+a(i.timetables.length)+") ",1),s[2]||(s[2]=e("p",{class:"text-[11px] text-gray-500"}," Hizi ni ratiba ulizohifadhi (kwa madarasa au shule). Unaweza ku-preview, ku-print au kufuta. ",-1))]),e("div",N,[e("table",D,[s[4]||(s[4]=e("thead",null,[e("tr",{class:"border-b border-gray-200 bg-gray-50 text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"px-3 py-2"},"Title"),e("th",{class:"px-3 py-2"},"Class"),e("th",{class:"px-3 py-2"},"Year / Term"),e("th",{class:"px-3 py-2"},"Status"),e("th",{class:"px-3 py-2"},"Created"),e("th",{class:"px-3 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[i.timetables.length===0?(o(),n("tr",j,[...s[3]||(s[3]=[e("td",{colspan:"6",class:"px-3 py-4 text-center text-xs text-gray-500"}," No timetables created yet. ",-1)])])):l("",!0),(o(!0),n(y,null,w(i.timetables,t=>(o(),n("tr",{key:t.id,class:"border-b border-gray-100 text-xs text-gray-700 hover:bg-gray-50"},[e("td",S,a(t.title),1),e("td",$,a(t.class_name||"-"),1),e("td",z,[t.academic_year?(o(),n("span",A,a(t.academic_year),1)):l("",!0),t.term?(o(),n("span",F," â€¢ "+a(t.term),1)):l("",!0),!t.academic_year&&!t.term?(o(),n("span",V,"-")):l("",!0)]),e("td",B,[e("div",P,[e("span",{class:c(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold ring-1",u(t)?"bg-emerald-50 text-emerald-700 ring-emerald-100":"bg-amber-50 text-amber-800 ring-amber-100"])},a(u(t)?"Saved":"No schedule"),3),e("span",{class:c(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold ring-1",t.file_path?"bg-blue-50 text-blue-700 ring-blue-100":"bg-gray-50 text-gray-500 ring-gray-100"])},a(t.file_path?"PDF":"No PDF"),3)])]),e("td",L,a(b(t.created_at)),1),e("td",Y,[e("div",E,[e("button",{type:"button",class:"rounded-md bg-blue-50 px-2 py-1 text-[11px] font-medium text-blue-700 ring-1 ring-blue-100 hover:bg-blue-100",onClick:g=>d(p).get(r.route("timetables.show",t.id))}," Preview ",8,H),e("button",{type:"button",disabled:!t.file_path,class:c(["rounded-md px-2 py-1 text-[11px] font-medium ring-1",t.file_path?"bg-emerald-50 text-emerald-700 ring-emerald-100 hover:bg-emerald-100":"bg-gray-50 text-gray-400 ring-gray-100 cursor-not-allowed"]),onClick:g=>t.file_path&&r.window.open(r.route("timetables.download",t.id),"_blank")}," Download ",10,O),e("button",{type:"button",class:"rounded-md bg-red-50 px-2 py-1 text-[11px] font-medium text-red-700 ring-1 ring-red-100 hover:bg-red-100",onClick:g=>f(t.id)}," Delete ",8,U)])])]))),128))])])])])]),_:1})],64))}};export{J as default};
